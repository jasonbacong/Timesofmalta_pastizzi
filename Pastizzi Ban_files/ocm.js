/** timesofmalta.com ocm.js-build-2.20250715130647 **/

(()=>{var vi=t=>e=>{var i=t[e];if(i)return i();throw new Error("Module not found in bundle: "+e)};var Hs=(t,e)=>()=>(t&&(e=t(t=0)),e);var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ln=H((pf,nr)=>{var ir="adlightning";nr.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-adlightning-end")}run(){return new Promise((e,i)=>{performance.mark("adlightning_start"),this.utils.log.info(ir,"Running...");let n=this.utils.window.document.createElement("script");n.setAttribute("defer",""),this.config.services.adlightning.site&&this.config.services.adlightning.site!==""?n.src=`https://tagan.adlightning.com/orangeclickmedia-${this.config.services.adlightning.site}/op.js`:n.src="https://tagan.adlightning.com/orangeclickmedia/op.js",n.onload=()=>(this.utils.window.dispatchEvent(this.endedEvent),e({name:ir})),this.utils.doc_head.appendChild(n)})}}});var dn=H((gf,sr)=>{"use strict";sr.exports=function(e,i){return function(){for(var s=new Array(arguments.length),r=0;r<s.length;r++)s[r]=arguments[r];return e.apply(i,s)}}});var Ye=H((mf,ar)=>{"use strict";var gl=dn(),Mt=Object.prototype.toString;function hn(t){return Mt.call(t)==="[object Array]"}function un(t){return typeof t>"u"}function ml(t){return t!==null&&!un(t)&&t.constructor!==null&&!un(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function vl(t){return Mt.call(t)==="[object ArrayBuffer]"}function wl(t){return typeof FormData<"u"&&t instanceof FormData}function yl(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function bl(t){return typeof t=="string"}function Sl(t){return typeof t=="number"}function rr(t){return t!==null&&typeof t=="object"}function Si(t){if(Mt.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function xl(t){return Mt.call(t)==="[object Date]"}function El(t){return Mt.call(t)==="[object File]"}function _l(t){return Mt.call(t)==="[object Blob]"}function or(t){return Mt.call(t)==="[object Function]"}function Al(t){return rr(t)&&or(t.pipe)}function Il(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function Cl(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Fl(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function fn(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),hn(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function cn(){var t={};function e(s,r){Si(t[r])&&Si(s)?t[r]=cn(t[r],s):Si(s)?t[r]=cn({},s):hn(s)?t[r]=s.slice():t[r]=s}for(var i=0,n=arguments.length;i<n;i++)fn(arguments[i],e);return t}function Tl(t,e,i){return fn(e,function(s,r){i&&typeof s=="function"?t[r]=gl(s,i):t[r]=s}),t}function Pl(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}ar.exports={isArray:hn,isArrayBuffer:vl,isBuffer:ml,isFormData:wl,isArrayBufferView:yl,isString:bl,isNumber:Sl,isObject:rr,isPlainObject:Si,isUndefined:un,isDate:xl,isFile:El,isBlob:_l,isFunction:or,isStream:Al,isURLSearchParams:Il,isStandardBrowserEnv:Fl,forEach:fn,merge:cn,extend:Tl,trim:Cl,stripBOM:Pl}});var pn=H((vf,dr)=>{"use strict";var Wt=Ye();function lr(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}dr.exports=function(e,i,n){if(!i)return e;var s;if(n)s=n(i);else if(Wt.isURLSearchParams(i))s=i.toString();else{var r=[];Wt.forEach(i,function(l,d){l===null||typeof l>"u"||(Wt.isArray(l)?d=d+"[]":l=[l],Wt.forEach(l,function(m){Wt.isDate(m)?m=m.toISOString():Wt.isObject(m)&&(m=JSON.stringify(m)),r.push(lr(d)+"="+lr(m))}))}),s=r.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}});var cr=H((wf,ur)=>{"use strict";var kl=Ye();function xi(){this.handlers=[]}xi.prototype.use=function(e,i,n){return this.handlers.push({fulfilled:e,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};xi.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};xi.prototype.forEach=function(e){kl.forEach(this.handlers,function(n){n!==null&&e(n)})};ur.exports=xi});var fr=H((yf,hr)=>{"use strict";var Rl=Ye();hr.exports=function(e,i){Rl.forEach(e,function(s,r){r!==i&&r.toUpperCase()===i.toUpperCase()&&(e[i]=s,delete e[r])})}});var gn=H((bf,pr)=>{"use strict";pr.exports=function(e,i,n,s,r){return e.config=i,n&&(e.code=n),e.request=s,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}});var mn=H((Sf,gr)=>{"use strict";var Dl=gn();gr.exports=function(e,i,n,s,r){var o=new Error(e);return Dl(o,i,n,s,r)}});var vr=H((xf,mr)=>{"use strict";var Ol=mn();mr.exports=function(e,i,n){var s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):i(Ol("Request failed with status code "+n.status,n.config,null,n.request,n))}});var yr=H((Ef,wr)=>{"use strict";var Ei=Ye();wr.exports=Ei.isStandardBrowserEnv()?function(){return{write:function(i,n,s,r,o,a){var l=[];l.push(i+"="+encodeURIComponent(n)),Ei.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Ei.isString(r)&&l.push("path="+r),Ei.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Sr=H((_f,br)=>{"use strict";br.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var Er=H((Af,xr)=>{"use strict";xr.exports=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}});var Ar=H((If,_r)=>{"use strict";var Nl=Sr(),Bl=Er();_r.exports=function(e,i){return e&&!Nl(i)?Bl(e,i):i}});var Cr=H((Cf,Ir)=>{"use strict";var vn=Ye(),zl=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Ir.exports=function(e){var i={},n,s,r;return e&&vn.forEach(e.split(`
`),function(a){if(r=a.indexOf(":"),n=vn.trim(a.substr(0,r)).toLowerCase(),s=vn.trim(a.substr(r+1)),n){if(i[n]&&zl.indexOf(n)>=0)return;n==="set-cookie"?i[n]=(i[n]?i[n]:[]).concat([s]):i[n]=i[n]?i[n]+", "+s:s}}),i}});var Pr=H((Ff,Tr)=>{"use strict";var Fr=Ye();Tr.exports=Fr.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),n;function s(r){var o=r;return e&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return n=s(window.location.href),function(o){var a=Fr.isString(o)?s(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var yn=H((Tf,kr)=>{"use strict";var _i=Ye(),Ml=vr(),jl=yr(),Ll=pn(),Hl=Ar(),ql=Cr(),Vl=Pr(),wn=mn();kr.exports=function(e){return new Promise(function(n,s){var r=e.data,o=e.headers,a=e.responseType;_i.isFormData(r)&&delete o["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(d+":"+p)}var m=Hl(e.baseURL,e.url);l.open(e.method.toUpperCase(),Ll(m,e.params,e.paramsSerializer),!0),l.timeout=e.timeout;function h(){if(l){var g="getAllResponseHeaders"in l?ql(l.getAllResponseHeaders()):null,f=!a||a==="text"||a==="json"?l.responseText:l.response,w={data:f,status:l.status,statusText:l.statusText,headers:g,config:e,request:l};Ml(n,s,w),l=null}}if("onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(h)},l.onabort=function(){l&&(s(wn("Request aborted",e,"ECONNABORTED",l)),l=null)},l.onerror=function(){s(wn("Network Error",e,null,l)),l=null},l.ontimeout=function(){var f="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(f=e.timeoutErrorMessage),s(wn(f,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},_i.isStandardBrowserEnv()){var u=(e.withCredentials||Vl(m))&&e.xsrfCookieName?jl.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}"setRequestHeader"in l&&_i.forEach(o,function(f,w){typeof r>"u"&&w.toLowerCase()==="content-type"?delete o[w]:l.setRequestHeader(w,f)}),_i.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&a!=="json"&&(l.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&l.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(f){l&&(l.abort(),s(f),l=null)}),r||(r=null),l.send(r)})}});var Ii=H((Pf,Or)=>{"use strict";var Le=Ye(),Rr=fr(),Ul=gn(),Kl={"Content-Type":"application/x-www-form-urlencoded"};function Dr(t,e){!Le.isUndefined(t)&&Le.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Gl(){var t;return typeof XMLHttpRequest<"u"?t=yn():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=yn()),t}function $l(t,e,i){if(Le.isString(t))try{return(e||JSON.parse)(t),Le.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(t)}var Ai={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Gl(),transformRequest:[function(e,i){return Rr(i,"Accept"),Rr(i,"Content-Type"),Le.isFormData(e)||Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)?e:Le.isArrayBufferView(e)?e.buffer:Le.isURLSearchParams(e)?(Dr(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Le.isObject(e)||i&&i["Content-Type"]==="application/json"?(Dr(i,"application/json"),$l(e)):e}],transformResponse:[function(e){var i=this.transitional,n=i&&i.silentJSONParsing,s=i&&i.forcedJSONParsing,r=!n&&this.responseType==="json";if(r||s&&Le.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(r)throw o.name==="SyntaxError"?Ul(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Ai.headers={common:{Accept:"application/json, text/plain, */*"}};Le.forEach(["delete","get","head"],function(e){Ai.headers[e]={}});Le.forEach(["post","put","patch"],function(e){Ai.headers[e]=Le.merge(Kl)});Or.exports=Ai});var Br=H((kf,Nr)=>{"use strict";var Wl=Ye(),Jl=Ii();Nr.exports=function(e,i,n){var s=this||Jl;return Wl.forEach(n,function(o){e=o.call(s,e,i)}),e}});var bn=H((Rf,zr)=>{"use strict";zr.exports=function(e){return!!(e&&e.__CANCEL__)}});var Lr=H((Df,jr)=>{"use strict";var Mr=Ye(),Sn=Br(),Xl=bn(),Yl=Ii();function xn(t){t.cancelToken&&t.cancelToken.throwIfRequested()}jr.exports=function(e){xn(e),e.headers=e.headers||{},e.data=Sn.call(e,e.data,e.headers,e.transformRequest),e.headers=Mr.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Mr.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var i=e.adapter||Yl.adapter;return i(e).then(function(s){return xn(e),s.data=Sn.call(e,s.data,s.headers,e.transformResponse),s},function(s){return Xl(s)||(xn(e),s&&s.response&&(s.response.data=Sn.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})}});var En=H((Of,Hr)=>{"use strict";var Ve=Ye();Hr.exports=function(e,i){i=i||{};var n={},s=["url","method","data"],r=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(h,u){return Ve.isPlainObject(h)&&Ve.isPlainObject(u)?Ve.merge(h,u):Ve.isPlainObject(u)?Ve.merge({},u):Ve.isArray(u)?u.slice():u}function d(h){Ve.isUndefined(i[h])?Ve.isUndefined(e[h])||(n[h]=l(void 0,e[h])):n[h]=l(e[h],i[h])}Ve.forEach(s,function(u){Ve.isUndefined(i[u])||(n[u]=l(void 0,i[u]))}),Ve.forEach(r,d),Ve.forEach(o,function(u){Ve.isUndefined(i[u])?Ve.isUndefined(e[u])||(n[u]=l(void 0,e[u])):n[u]=l(void 0,i[u])}),Ve.forEach(a,function(u){u in i?n[u]=l(e[u],i[u]):u in e&&(n[u]=l(void 0,e[u]))});var p=s.concat(r).concat(o).concat(a),m=Object.keys(e).concat(Object.keys(i)).filter(function(u){return p.indexOf(u)===-1});return Ve.forEach(m,d),n}});var qr=H((Nf,Ql)=>{Ql.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}});var $r=H((Bf,Gr)=>{"use strict";var Ur=qr(),_n={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){_n[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var Vr={},Zl=Ur.version.split(".");function Kr(t,e){for(var i=e?e.split("."):Zl,n=t.split("."),s=0;s<3;s++){if(i[s]>n[s])return!0;if(i[s]<n[s])return!1}return!1}_n.transitional=function(e,i,n){var s=i&&Kr(i);function r(o,a){return"[Axios v"+Ur.version+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,l){if(e===!1)throw new Error(r(a," has been removed in "+i));return s&&!Vr[a]&&(Vr[a]=!0,console.warn(r(a," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(o,a,l):!0}};function ed(t,e,i){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),s=n.length;s-- >0;){var r=n[s],o=e[r];if(o){var a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new TypeError("option "+r+" must be "+l);continue}if(i!==!0)throw Error("Unknown option "+r)}}Gr.exports={isOlderVersion:Kr,assertOptions:ed,validators:_n}});var Zr=H((zf,Qr)=>{"use strict";var Xr=Ye(),td=pn(),Wr=cr(),Jr=Lr(),Ci=En(),Yr=$r(),Jt=Yr.validators;function oi(t){this.defaults=t,this.interceptors={request:new Wr,response:new Wr}}oi.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Ci(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var i=e.transitional;i!==void 0&&Yr.assertOptions(i,{silentJSONParsing:Jt.transitional(Jt.boolean,"1.0.0"),forcedJSONParsing:Jt.transitional(Jt.boolean,"1.0.0"),clarifyTimeoutError:Jt.transitional(Jt.boolean,"1.0.0")},!1);var n=[],s=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(s=s&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var r=[];this.interceptors.response.forEach(function(h){r.push(h.fulfilled,h.rejected)});var o;if(!s){var a=[Jr,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(r),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var l=e;n.length;){var d=n.shift(),p=n.shift();try{l=d(l)}catch(m){p(m);break}}try{o=Jr(l)}catch(m){return Promise.reject(m)}for(;r.length;)o=o.then(r.shift(),r.shift());return o};oi.prototype.getUri=function(e){return e=Ci(this.defaults,e),td(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Xr.forEach(["delete","get","head","options"],function(e){oi.prototype[e]=function(i,n){return this.request(Ci(n||{},{method:e,url:i,data:(n||{}).data}))}});Xr.forEach(["post","put","patch"],function(e){oi.prototype[e]=function(i,n,s){return this.request(Ci(s||{},{method:e,url:i,data:n}))}});Qr.exports=oi});var In=H((Mf,eo)=>{"use strict";function An(t){this.message=t}An.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};An.prototype.__CANCEL__=!0;eo.exports=An});var io=H((jf,to)=>{"use strict";var id=In();function Fi(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(s){e=s});var i=this;t(function(s){i.reason||(i.reason=new id(s),e(i.reason))})}Fi.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Fi.source=function(){var e,i=new Fi(function(s){e=s});return{token:i,cancel:e}};to.exports=Fi});var so=H((Lf,no)=>{"use strict";no.exports=function(e){return function(n){return e.apply(null,n)}}});var oo=H((Hf,ro)=>{"use strict";ro.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var uo=H((qf,Cn)=>{"use strict";var ao=Ye(),nd=dn(),Ti=Zr(),sd=En(),rd=Ii();function lo(t){var e=new Ti(t),i=nd(Ti.prototype.request,e);return ao.extend(i,Ti.prototype,e),ao.extend(i,e),i}var ht=lo(rd);ht.Axios=Ti;ht.create=function(e){return lo(sd(ht.defaults,e))};ht.Cancel=In();ht.CancelToken=io();ht.isCancel=bn();ht.all=function(e){return Promise.all(e)};ht.spread=so();ht.isAxiosError=oo();Cn.exports=ht;Cn.exports.default=ht});var Fn=H((Vf,co)=>{co.exports=uo()});var Tn=H((Kf,ho)=>{var od=Fn(),St="advertorials",ad="https://ocm-advertorials-api.ocm.workers.dev/api/advertorials";ho.exports=class{constructor(e,i){this.utils=e,this.config=i,this.advertorial_config=e.is_mobile?this.config.services.advertorials.mobile:this.config.services.advertorials.desktop,this.aid=null,this.endedEvent=new Event("ocm-advertorials-end")}run(){return new Promise((e,i)=>(performance.mark("advertorials_start"),this.aid=this.utils.getParameterByName("aid"),this.aid&&this.aid!==""&&(this.setupGA4(),od(`${ad}/${this.aid}`,{method:"GET",withCredentials:!1,headers:{Accept:"application/json"},validateStatus:function(n){return n>=200&&n<500}}).then(n=>(this.renderAdvertorial(n.data),this.utils.window.dispatchEvent(this.endedEvent),e({name:St}))).catch(n=>n.response?(this.utils.log.warn(St,"Failed to fetch advertorial data"),this.utils.window.dispatchEvent(this.endedEvent),e({name:St})):n.request?(this.utils.log.warn(St,"Failed to fetch advertorial data"),this.utils.window.dispatchEvent(this.endedEvent),e({name:St})):(this.utils.log.error(St,n.message,"Failed to fetch advertorial data"),this.utils.window.dispatchEvent(this.endedEvent),i({name:St,message:n.message})))),this.utils.window.dispatchEvent(this.endedEvent),e({name:St})))}setupGA4(){let e=this.utils.window.document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=G-H5PRQ51VCP",e.async=!0,this.utils.window.document.head.appendChild(e),window.dataLayer=window.dataLayer||[];function i(){dataLayer.push(arguments)}i("js",new Date),i("config","G-H5PRQ51VCP",{send_page_view:!1})}renderAdvertorial(e){let i=e.type,n=this.utils.window.document.querySelector(this.advertorial_config.selectors.title),s=this.utils.window.document.querySelector(this.advertorial_config.selectors.content);if(this.utils.loadStyle(`${this.advertorial_config.selectors.content} > p, ${this.advertorial_config.selectors.content} > img { margin:0 auto 1rem;}`),this.utils.loadStyle(".ocm-advertorial-img-align-left { float: left;  margin-right: 1.5em; } .ocm-advertorial-img-align-center { display: block; margin-left: auto;  margin-right: auto; } .ocm-advertorial-img-align-right { float: right; margin-left: 1.5em; }"),e.landingPage=this.buildLandingPageUrl(e.landingPage),i==="advertorial")try{n&&(n.innerHTML=e.title),s&&(s.innerHTML=`${e.content} <p></p> <a href="${e.landingPage}" target="_blank" id="advertorial-promo-link">${e.landingPageLabel}</a>`),gtag("event","page_view",{page_title:this.utils.window.document.getElementsByTagName("title")[0].text,page_location:this.utils.window.location.href,content_id:this.aid})}catch(r){this.utils.log.error(St,r,"Failed to render advertorial content")}}buildLandingPageUrl(e){let{searchParams:i}=new URL(this.utils.window.location.href);i.delete("aid");let n=new URL(e);return i.forEach((s,r)=>{n.searchParams.append(r,s)}),n.toString()}}});var Pi=H(($f,fo)=>{var Z="aniview";fo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.aniviewConfig=this.utils.is_mobile?i.services.aniview.mobile:i.services.aniview.desktop,this.aniviewConfig.debug=this.config.services.aniview.debug,this.aniviewConfig.sync_with_storyteller=this.config.services.aniview.sync_with_storyteller,this.aniviewConfig.sound_hack=typeof this.config.services.aniview.sound_hack<"u"?this.config.services.aniview.sound_hack:!0,this.rules=this.aniviewConfig.rules,this.isHeaderBidding=!1,this.ADSQ_TARGETING=null,this.ANIVIEW_FEE=.2,this.rand=Math.random(),this.plcmt=2,this.floatingConfigProperty=null,this.endedEvent=new Event("ocm-aniview-end")}run(){return new Promise(async(e,i)=>{this.utils.isIOS?this.vpmute=this.rand>.7?0:1:this.aniviewConfig.sound_hack&&await this.determineVpMute(),this.utils.contentLoaded().then(()=>(this.utils.log.info(Z,`After determining vpmute = ${this.vpmute}`),this.aniviewConfig.lazyload&&this.aniviewConfig.lazyload.enable?(this.utils.window.dispatchEvent(this.endedEvent),this.lazyLoadInject(e,i)):(this.utils.window.dispatchEvent(this.endedEvent),this.inject(e,i))))})}determineVpMute(){return new Promise(e=>{if(window.top.OCM?.baso)return this.browserAllowsSoundOn=window.top.OCM.baso,this.vpmute=this.browserAllowsSoundOn?0:1,e();let i=document.createElement("video");i.src="//cdn.orangeclickmedia.com/videos/ovp.mp4",i.muted=!1,i.volume=.001,i.play().then(()=>{i.volume=0,this.browserAllowsSoundOn=!0,window.top.OCM.baso=!0,this.vpmute=this.browserAllowsSoundOn?0:1,this.utils.log.info(Z,`Browser allows sound on. Setting vpmute = ${this.vpmute}`),e()}).catch(n=>{window.top.OCM.baso=!1,this.vpmute=this.browserAllowsSoundOn?0:1,this.utils.log.info(Z,`Browser does not allow sound on. Setting vpmute = ${this.vpmute}`,JSON.stringify(n)),e()}).finally(()=>{this.utils.log.info(Z,`Finally, vpmute = ${this.vpmute}`),i.remove()})})}lazyLoadInject(e,i){let n=this.aniviewConfig.lazyload.offset&&this.aniviewConfig.lazyload.offset!==""?+this.aniviewConfig.lazyload.offset:0,s=this.utils.adjustLazyLoadOffset(n);this.utils.lazyLoad(this.rules.selector,{rootMargin:`${s}px 0px`},(r,o)=>{this.isInjected||(this.isInjected=!0,this.inject(e,i))})}inject(e,i){performance.mark("aniview_start"),this.utils.log.info(Z,"Running...");let n=this.utils.determineInjectionTarget(this.aniviewConfig.rules.selector,this.aniviewConfig.rules.position,this.aniviewConfig.rules.count_gt,this.aniviewConfig.rules.word_count,this.aniviewConfig.rules.words_gt);if(!n)return this.utils.shouldLogError?i({name:Z,message:"Target node not found in DOM"}):e({name:Z});this.utils.log.info(Z,"node found: ",n);let s=this.utils.window.location.protocol+"//"+this.utils.window.location.hostname+this.utils.window.location.pathname,r=document.createElement("script");r.id=`AV${this.aniviewConfig.playerTagId}`,r.type="text/javascript",r.src=`https://tg1.orangeclickmedia.com/api/adserver/spt?AV_PUBLISHERID=${this.aniviewConfig.publisher}&AV_TAGID=${this.aniviewConfig.playerTagId}&AV_URL=${s}`,r.src+=`&AV_CUSTOM8=${this.vpmute}&AV_CUSTOM9=${this.plcmt}`,r.async=!0,r.setAttribute("data-config-api","avConfig"),r.setAttribute("data-player-api","avPassback"),this.aniviewConfig&&this.aniviewConfig.sticky&&this.aniviewConfig.sticky.enable&&(this.utils.log.info(Z," sticky option is enabled for aniview player"),this.appendStickStyle());let o=this.utils.window.document.createElement("div");o.classList.add("ocm-player"),this.aniviewConfig.classes&&o.classList.add(this.aniviewConfig.classes),this.aniviewConfig.styles&&(o.style=this.aniviewConfig.styles);let a=!!this.utils.window.top.document.querySelector('script[src*="chirp.js"]'),l=!!this.utils.config.services.header_bidding.adsqRTDModuleEnabled;if(!a&&!l)return this.appendTag(n,o,r,e,i);this.utils.waitFor("ADSQ.response",()=>{let d=[],p=null;if(p=window.top.ADSQ?.response,p){p.classified_as&&p.classified_as.forEach(h=>{let u=[];u=h.split("/");let g=null;u.forEach(f=>{g?g+="/"+f:g=f,d.push(g)})}),this.ADSQ_TARGETING={adsq_bs:p.brandSafe?p.brandSafe===!0?"Yes":"No":"notEvaluated",adsq_bs_class:d.length?[...new Set(d)]:[],adsq_bs_sent:p.sentiment||"",hostname:window.top.location.hostname.replace("www.",""),city:p?.geo?.city||"",country:p?.geo?.country||""},r.src+=`&AV_CUSTOM1=${this.ADSQ_TARGETING.adsq_bs}`,r.src+=this.ADSQ_TARGETING.adsq_bs_class.length?`&AV_CUSTOM2=${encodeURIComponent(this.ADSQ_TARGETING.adsq_bs_class.join(","))}`:"",r.src+=this.ADSQ_TARGETING.adsq_bs_sent!==""?`&AV_CUSTOM3=${this.ADSQ_TARGETING.adsq_bs_sent}`:"";let m="adsq_bs="+this.ADSQ_TARGETING.adsq_bs+";";this.ADSQ_TARGETING.adsq_bs_class.length&&this.ADSQ_TARGETING.adsq_bs_class.forEach(h=>{m+="adsq_bs_class="+encodeURIComponent(h)+";"}),m+=this.ADSQ_TARGETING.adsq_bs_sent!==""?"adsq_bs_sent="+this.ADSQ_TARGETING.adsq_bs_sent+";":"",r.src+=`&AV_CUSTOM7=${encodeURIComponent(m)}`}return this.appendTag(n,o,r,e,i)},30,()=>this.appendTag(n,o,r,e,i))}appendTag(e,i,n,s,r){if(this.createPassbacks(),!this.utils.window.googletag.pubads)try{return this.utils.injectTag(e,i,this.aniviewConfig.rules.place),i.append(n),this.utils.log.info(Z,"Selector found and script added",e,n),s({name:Z})}catch{return r({name:Z,message:"Error appending aniview script"})}this.utils.gptApiReady().then(()=>{this.utils.window.googletag.cmd.push(()=>{let o=this.utils.window.googletag.pubads().getTargetingKeys().map(a=>encodeURIComponent(`${a}=${this.utils.window.googletag.pubads().getTargeting(a).join(",")}`)).join("%26");n.src+=`&AV_CUSTOM6=${o}%26plcmt%3D${this.plcmt}`;try{return this.utils.injectTag(e,i,this.aniviewConfig.rules.place),i.append(n),this.utils.log.info(Z,"Selector found and script added",e,n),s({name:Z})}catch{return r({name:Z,message:"Error appending aniview script"})}})})}appendStickStyle(){let e=`${this.aniviewConfig?.sticky?.offsets?.top||0}px`,i=`${this.aniviewConfig?.sticky?.offsets?.bottom||0}px`,n=`${this.aniviewConfig?.sticky?.offsets?.left||0} px`,s=`${this.aniviewConfig?.sticky?.offsets?.right||0}px`,r=`${this.aniviewConfig?.sticky?.height||0}px`,o=`${this.aniviewConfig?.sticky?.width||0}px`;switch(this.aniviewConfig?.sticky?.position){case"bottom_right":this.utils.loadStyle(`.ocm-player { position: fixed; z-index: 2147483646; bottom: ${i}; right: ${s};  height: ${r}; width: ${o}; }`);break;case"bottom_left":this.utils.loadStyle(`.ocm-player { position: fixed; z-index: 2147483646; bottom: ${i}; left: ${n};  height: ${r}; width: ${o}; }`);break;case"top_right":this.utils.loadStyle(`.ocm-player { position: fixed; z-index: 2147483646; top: ${e}; right: ${s};  height: ${r}; width: ${o}; }`);break;case"top_left":this.utils.loadStyle(`.ocm-player { position: fixed; z-index: 2147483646; top: ${e}; left: ${n};  height: ${r}; width: ${o}; }`);break}}updateAniviewStickyState(e){if(this.utils.window.postMessage({type:"stickies_sync",service:"aniview",value:e}),this.isStickyAllowed()&&e){let n=this.utils.window.document.querySelector('iframe[id="ocm-st-frame"]');n&&n.contentWindow.postMessage({channel:"storyteller",event:"isIntersecting",value:!0})}}isStickyAllowed(){return this.aniviewConfig.sync_with_storyteller?!(this.utils.window.OCM.sws&&this.utils.window.OCM.sws.story_teller_v2&&this.utils.window.OCM.ST?.hasAd):!0}createPassbacks(){this.utils.window.avConfig=(e,i)=>{!this.utils.isIOS&&this.aniviewConfig.sound_hack&&(e.autosounddetect=!0,e.autosoundvolume=.001),this.initialAvConfig=JSON.parse(JSON.stringify(e)),e.openRtb={site:{ext:{data:this.ADSQ_TARGETING}}},e.pbanalytics=[{provider:"ocmpba",options:{callback:n=>{this.handleAnalyticsCallback(n)}}}]},this.utils.window.avPassback=(e,i)=>{if(this.utils.log.info(Z,"Checking if I should run OCM.oipb for specific player"),this.utils.log.info(Z,"config.tagId !== this.aniviewConfig.playerTagId",e.tagId,this.aniviewConfig.playerTagId),e.tagId===this.aniviewConfig.playerTagId){if(this.aniviewConfig&&this.aniviewConfig.sticky&&this.aniviewConfig.sticky.enable){let n=this.aniviewConfig?.sticky?.height||0,s=this.aniviewConfig?.sticky?.width||0;i.resize(s,n)}e?.playOnViewPerc&&(e.playOnViewPerc=30),this.initialAvConfig?.floating&&(this.initialAvConfig?.closeButton&&(e.closeButton=!1),e.floating.closeButton=!1,e.floating.backgroundColor="White"),this.utils.window.OCM.handleCustomFloatingConfig&&typeof this.utils.window.OCM.handleCustomFloatingConfig=="function"?(this.utils.window.OCM.handleCustomFloatingConfig(e,i),this.utils.log.info(Z,"Custom handling for the configuration: ",e)):(this.handleVCHackFloatingConfig(e),this.utils.log.info(Z,"VCHack handling for the configuration:",e)),this.utils.window.OCM.handleCustomAdImpression&&typeof this.utils.window.OCM.handleCustomAdImpression=="function"&&(e.enableViewability=!0),this.floatingConfigProperty={...e.floating},i.updateGui(e),i.on("AdClosed",(n,s)=>{let r=this.utils.window.document.querySelector(".ocm-player");r&&r.remove()}),i.on("AdImpression",(n,s)=>{let r=this.isStickyAllowed();!this.utils.isIOS&&this.aniviewConfig.sound_hack&&this.utils.window.document.addEventListener("click",o=>{i.getAdVolume()>0&&i.mute()},{once:!0}),this.utils.window.OCM.handleCustomAdImpression&&typeof this.utils.window.OCM.handleCustomAdImpression=="function"?(this.utils.window.OCM.handleCustomAdImpression(e,i,n),this.updateAniviewStickyState(!!e?.floating)):(r&&Object.keys(this.floatingConfigProperty).length>0&&this.floatingConfigProperty&&(e.floating={...this.floatingConfigProperty},i.updateGui(e),this.updateAniviewStickyState(!0)),r||(delete e.floating,i.updateGui(e),this.updateAniviewStickyState(!1))),this.utils.is_mobile&&this.resizePlayerForVerticalAd(n,i),this.handleAdImpression(n)}),i.on("AdViewableImpression",(n,s)=>{let r=this.isStickyAllowed();this.utils.log.info(Z,"AdViewableImpression",n,s),this.handleAdViewableImpression(n),r&&this.initialAvConfig?.floating&&(this.initialAvConfig?.closeButton&&(e.closeButton=!0),e.floating.closeButton=!0,i.updateGui(e),this.updateAniviewStickyState(!0)),this.utils.window.OCM.handleCustomAdViewableImpression&&typeof this.utils.window.OCM.handleCustomAdViewableImpression=="function"?(e=this.utils.window.OCM.handleCustomAdViewableImpression(e,i,n),i.updateGui(e),this.updateAniviewStickyState(!!e?.floating)):this.utils.window&&this.utils.window.OCM&&this.utils.window.OCM.handleCustomAdImpression&&typeof this.utils.window.OCM.handleCustomAdImpression=="function"||!this.initialAvConfig?.floating&&this.aniviewConfig.vchack&&setTimeout(()=>{i.stopFloat(),this.updateAniviewStickyState(!1)},2e3)}),i.on("AdVideoFirstQuartile",(n,s)=>{this.utils.log.info(Z,"AdVideoFirstQuartile",n,s),this.handleAdVideoFirstQuartile(n)}),i.on("AdVideoMidpoint",(n,s)=>{this.utils.log.info(Z,"AdVideoMidpoint",n,s),this.handleAdVideoMidpoint(n)}),i.on("AdVideoThirdQuartile",(n,s)=>{this.utils.log.info(Z,"AdVideoThirdQuartile",n,s),this.handleAdVideoThirdQuartile(n)}),i.on("AdVideoComplete",(n,s)=>{this.utils.log.info(Z,"AdVideoComplete",n,s),this.handleAdVideoComplete(n),Object.keys(this.floatingConfigProperty).length>0&&this.floatingConfigProperty&&this.updateAniviewStickyState(!1)}),i.on("AdSkipped",(n,s)=>{Object.keys(this.floatingConfigProperty).length>0&&this.floatingConfigProperty&&this.updateAniviewStickyState(!1)}),i.on("AdClosed",(n,s)=>{Object.keys(this.floatingConfigProperty).length>0&&this.floatingConfigProperty&&this.updateAniviewStickyState(!1)}),i.on("AdClickThru",(n,s)=>{this.utils.log.info(Z,"AdClickThru",n,s),this.handleAdClickThru(n)}),i.on("AdError",(n,s)=>{this.utils.log.info(Z,"AdError",n,s),typeof this.utils.window.OCM.oipb=="function"&&this.utils.window.OCM.oipb(n,s)})}}}handleAdImpression(e){this.utils.log.info(Z,"An new impression event was triggered:",e);let i={...e.tagInfo};if(i){let n=i.bidder&&this.auction&&this.auction.bidders&&this.auction.bidders[i.bidder].size,s=this.utils.window&&this.utils.window.OCM&&this.utils.window.OCM.getCurrencyConversion&&this.utils.window.OCM.getCurrencyConversion("USD"),r=i.bidCpm;if(r>0&&(r=s?parseFloat(((r-this.ANIVIEW_FEE)*s).toFixed(5)):r-this.ANIVIEW_FEE),this.isHeaderBidding=i.bidder&&i.bidder!=="GAM"&&i.bidder!=="amazon",!this.isHeaderBidding)return;let o={data:{adUnit:"aniview_outstream",auction:this.auction,auctionId:this.auctionId,bidder:i.bidder,consent:this.utils.window.OCM.hasPurposeOneConsent,cpm:r,dealId:i.bidData.dealId||null,fizz:!1,isNew:1,mediaType:"video",meta:JSON.stringify(i.bidData.meta),oeid:this.utils._oeid,size:n,source:"client"},event:"pba-update",eventName:"Bid won",options:this.options};fetch("https://windrunner.orangeclickmedia.com/pba-update",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(o)}).then(a=>{a.json().then(()=>{this.utils.log.info(Z,"A pba update was sent to wind runner successfully with data: ",o)})}).catch(a=>{this.utils.log.error(Z,a,"Error: ")})}}handleAnalyticsCallback(e){this.utils.log.info(Z,"An new analytics callback event was triggered:",e);let i=e.data;if(i){let n=Object.assign({},e.options);delete n.callback,n.options={},this.utils.getParameterByName("dicbo")!==""&&(e.options.utmTagData.utm_source="outbrain",n.utmTagData.utm_source="outbrain"),this.utils.getParameterByName("ref")==="storyteller"&&(e.options.utmTagData.utm_source="storyteller",n.utmTagData.utm_source="storyteller"),this.options=n;let o=Object.keys(i.adUnits).map(l=>Object.keys(i.adUnits[l].bidders).map(d=>/\d/.test(d)||d.includes("_")?null:i.adUnits[l].bidders[d]).filter(d=>d!==null)).flat().reduce((l,d)=>({...l,[d.bidder]:d}),{});this.bidders=o,Object.keys(this.bidders).forEach(l=>{let d=this.utils.window.OCM.getCurrencyConversion&&this.utils.window.OCM.getCurrencyConversion("USD"),p=this.bidders[l].cpm;p>0&&(p=d?parseFloat(((p-this.ANIVIEW_FEE)*d).toFixed(5)):p-this.ANIVIEW_FEE),this.bidders[l].cpm=p}),this.auction={adUnit:"aniview_outstream",bidders:o,finish:i.finish,start:i.start,status:"finished",timeout:i.timeout},this.auctionId=i.id;let a={data:{id:this.auctionId,start:i.start,timeout:i.timeout,adUnits:{aniview_outstream:this.auction},finish:i.finish,oeid:this.utils._oeid,consent:this.utils.window.OCM.hasPurposeOneConsent},event:"pba-stream",eventName:"Auction",options:e.options};fetch("https://windrunner.orangeclickmedia.com/pba-stream",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(a)}).then(l=>{l.json().then(()=>{this.utils.log.info(Z,"A pba stream was sent to wind runner successfully with data: ",a)})}).catch(l=>{["Failed to fetch","NetworkError when attempting to fetch resource","Load failed"].includes(l.message)||this.utils.log.error(Z,l,"Unable to send pba-stream to Jaina")})}}handleVideoEvents(e){if(!this.isHeaderBidding)return;let i={eventName:e,adUnit:"aniview_outstream",auctionId:this.auctionId};fetch(e==="bidViewable"?"https://windrunner.orangeclickmedia.com/pba-viewability":"https://windrunner.orangeclickmedia.com/pba-video",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(i)}).then(s=>{s.json().then(r=>{this.utils.log.info(Z,"A pba video event was sent to wind runner successfully with data: ",i)})}).catch(s=>{this.utils.log.error(Z,s,"Error: ")})}handleAdViewableImpression(e){this.utils.log.info(Z,"An new viewable impression event was triggered:",e),this.handleVideoEvents("bidViewable")}handleAdVideoFirstQuartile(e){this.utils.log.info(Z,"An new first quartile event was triggered:",e),this.handleVideoEvents("first_quartile")}handleAdVideoMidpoint(e){this.utils.log.info(Z,"An new mid point event was triggered:",e),this.handleVideoEvents("midpoint")}handleAdVideoThirdQuartile(e){this.utils.log.info(Z,"An new third quartile event was triggered:",e),this.handleVideoEvents("third_quartile")}handleAdVideoComplete(e){this.utils.log.info(Z,"An new video complete event was triggered:",e),this.handleVideoEvents("complete")}handleAdClickThru(e){this.utils.log.info(Z,"An new ad click thru event was triggered:",e),this.handleVideoEvents("click")}handleVCHackFloatingConfig(e){let i=this.isStickyAllowed();!this.initialAvConfig?.floating&&this.aniviewConfig.vchack&&i&&(e.floating={resize:!0,position:this.aniviewConfig.vchack_position||(this.utils.is_mobile?"Top":"Top-Right"),closeButton:!0,floatOnImp:!0,resizingMethod:1,size:.6,floatOnBottom:!0,backgroundColor:"White",right:0,left:0,top:0,bottom:0})}resizePlayerForVerticalAd(e,i){try{this.utils.log.info(Z,"AdImpression Event: ",e);let n=e?.tagInfo?.mediaInfo?.width,s=i.getWidth(),r=e?.tagInfo?.mediaInfo?.height;if(r<=n)return;this.utils.log.info(Z,"Tag width: ",n," Tag height: ",r);let o=n/r,a=s/o;i.resize(s,a)}catch(n){this.utils.log.error(Z,n,"Error: ")}}}});var Pn=H((Jf,po)=>{var ld="blockthrough";po.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-blockthrough-end")}run(){return new Promise((e,i)=>{performance.mark("blockthrough_start");let n=this.utils.window.document.createElement("script");n.src="https://cdn.unblockia.com/h.js",n.onload=()=>(this.utils.window.dispatchEvent(this.endedEvent),e({name:ld})),this.utils.doc_head.appendChild(n)})}}});var ki=H((Yf,go)=>{var kn="cmp";go.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-cmp-end")}run(){return new Promise((e,i)=>{if(performance.mark("cmp_start"),this.utils.isGoogle())return this.utils.log.info(kn,"Googlebot/Lighthouse detected."),this.utils.window.dispatchEvent(this.endedEvent),e({name:"cmp"});if(!this.config.use_window_top)return this.utils.log.warn(kn,"Not using window.top, so CMP here is not our responsibility."),this.utils.window.dispatchEvent(this.endedEvent),e({name:"cmp"});this.loadCmpV2(),window.top.__tcfapi("addEventListener",2,(n,s)=>{if(s&&n.cmpStatus==="loaded")return this.utils.log.info(kn,"Loaded"),this.utils.window.dispatchEvent(this.endedEvent),e({name:"cmp"})})})}loadCmpV2(){let e=this.config.services.cmp.hasOwnProperty("hostname")&&this.config.services.cmp.hostname!==""&&this.config.services.cmp.hostname!==null?this.config.services.cmp.hostname:window.location.hostname,i=document.createElement("script"),n=document.getElementsByTagName("script")[0],s="https://cmp.inmobi.com".concat("/choice/",this.config.services.cmp.network_id,"/",e,"/choice.js?tag_version=V3"),r=0,o=3;i.async=!0,i.type="text/javascript",i.src=s,n.parentNode.insertBefore(i,n);function a(){let h="__tcfapiLocator",u=[],g=window,f;function w(){let b=g.document,_=!!g.frames[h];if(!_)if(b.body){let I=b.createElement("iframe");I.style.cssText="display:none",I.name=h,b.body.appendChild(I)}else setTimeout(w,5);return!_}function v(){let b,_=arguments;if(_.length)if(_[0]==="setGdprApplies")_.length>3&&_[2]===2&&typeof _[3]=="boolean"&&(b=_[3],typeof _[2]=="function"&&_[2]("set",!0));else if(_[0]==="ping"){let I={gdprApplies:b,cmpLoaded:!1,cmpStatus:"stub"};typeof _[2]=="function"&&_[2](I)}else _[0]==="init"&&typeof _[3]=="object"&&(_[3]=Object.assign(_[3],{tag_version:"V3"})),u.push(_);else return u}function y(b){let _=typeof b.data=="string",I={};try{_?I=JSON.parse(b.data):I=b.data}catch{}let R=I.__tcfapiCall;R&&window.__tcfapi(R.command,R.version,function(S,x){let E={__tcfapiReturn:{returnValue:S,success:x,callId:R.callId}};_&&(E=JSON.stringify(E)),b&&b.source&&b.source.postMessage&&b.source.postMessage(E,"*")},R.parameter)}for(;g;){try{if(g.frames[h]){f=g;break}}catch{}if(g===window.top)break;g=g.parent}f||(w(),g.__tcfapi=v,g.addEventListener("message",y,!1))}a();function l(){let u=["2:tcfeuv2","6:uspv1","7:usnatv1","8:usca","9:usvav1","10:uscov1","11:usutv1","12:usctv1"];window.__gpp_addFrame=function(g){if(!window.frames[g])if(document.body){let f=document.createElement("iframe");f.style.cssText="display:none",f.name=g,document.body.appendChild(f)}else window.setTimeout(window.__gpp_addFrame,10,g)},window.__gpp_stub=function(){let g=arguments;if(__gpp.queue=__gpp.queue||[],__gpp.events=__gpp.events||[],!g.length||g.length==1&&g[0]=="queue")return __gpp.queue;if(g.length==1&&g[0]=="events")return __gpp.events;let f=g[0],w=g.length>1?g[1]:null,v=g.length>2?g[2]:null;if(f==="ping")w({gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:u,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}},!0);else if(f==="addEventListener"){"lastId"in __gpp||(__gpp.lastId=0),__gpp.lastId++;let y=__gpp.lastId;__gpp.events.push({id:y,callback:w,parameter:v}),w({eventName:"listenerRegistered",listenerId:y,data:!0,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:u,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}}},!0)}else if(f==="removeEventListener"){let y=!1;for(let b=0;b<__gpp.events.length;b++)if(__gpp.events[b].id==v){__gpp.events.splice(b,1),y=!0;break}w({eventName:"listenerRemoved",listenerId:v,data:y,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:u,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}}},!0)}else f==="hasSection"?w(!1,!0):f==="getSection"||f==="getField"?w(null,!0):__gpp.queue.push([].slice.apply(g))},window.__gpp_msghandler=function(g){let f=typeof g.data=="string";try{let w=f?JSON.parse(g.data):g.data}catch{let v=null}if(typeof json=="object"&&json!==null&&"__gppCall"in json){let w=json.__gppCall;window.__gpp(w.command,function(v,y){let b={__gppReturn:{returnValue:v,success:y,callId:w.callId}};g.source.postMessage(f?JSON.stringify(b):b,"*")},"parameter"in w?w.parameter:null,"version"in w?w.version:"1.1")}},(!("__gpp"in window)||typeof window.__gpp!="function")&&(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))}l();let d=function(){let h=arguments;typeof window.__uspapi!==d&&setTimeout(function(){typeof window.__uspapi<"u"&&window.__uspapi.apply(window.__uspapi,h)},500)},p=null,m=function(){r++,window.__uspapi===d&&r<o?console.warn("USP is not accessible"):clearInterval(p)};typeof window.__uspapi>"u"&&(window.__uspapi=d,p=setInterval(m,6e3))}}});var Rn=H((Zf,mo)=>{var J="fizz";mo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.fizzConfig=this.config.services.fizz,this.headerBiddingFunctionality=this.config.services.header_bidding&&this.config.services.header_bidding.active?this.config.services.header_bidding.functionality:null,this.engaging=!1,this.engagementTimer=null,this.slotsObserver=null,this.isRefreshIntervalStarted=!1,this.slots=[],this.INTERSECTION_OBSERVER_TIMEOUT=1e3,this.FULLSCREEN_INTERVAL=7e3,this.TEADS_MAX_VIDEO_DURATION=3e4,this.INTERSECTION_OBSERVER_OPTIONS={root:null,rootMargin:"0px",threshold:.5},this.TRIGGER_REFRESH_INTERVAL=3e3,this.BIDDERS_TO_DROP_AT_HB=["amazon","outbrain"],this.endedEvent=new Event("ocm-fizz-end")}run(){return new Promise((e,i)=>{if(performance.mark("fizz_start"),this.utils.url.includes("google_preview="))return this.utils.log.warn(J,"SEIZE FIRE. Will not run in google_preview mode."),this.utils.window.dispatchEvent(this.endedEvent),e({name:J});this.utils.log.info(J,"Running...");try{this.trackUserEngagement()}catch{return this.utils.window.dispatchEvent(this.endedEvent),i({name:J,message:"Error tracking user engagement"})}try{this.slotsObserver=this.createSlotsObserver()}catch{return this.utils.window.dispatchEvent(this.endedEvent),i({name:J,message:"Error creating slots observer"})}try{this.slotRenderEndedListener()}catch{return this.utils.window.dispatchEvent(this.endedEvent),i({name:J,message:"Error registering slotRenderEndedListener for GAM impressions"})}try{this.adRenderSucceededListener()}catch{return this.utils.window.dispatchEvent(this.endedEvent),i({name:J,message:"Error registering adRenderSucceededListener for HB impressions"})}return this.utils.window.dispatchEvent(this.endedEvent),e({name:J})})}trackUserEngagement(){["touchstart","touchmove","click","scroll","keyup"].forEach(e=>{this.utils.window.addEventListener(e,this.utils.throttle(()=>{this.engaging=!0,this.utils.log.info(J,"User engaged"),this.engagementTimer&&clearTimeout(this.engagementTimer),this.engagementTimer=setTimeout(()=>{this.engaging=!1,this.utils.log.info(J,"User disengaged")},1e4)},1e3))}),this.utils.log.info(J,"Running user engagement listener")}createSlotsObserver(){return new IntersectionObserver(e=>{e.forEach(i=>{i.isIntersecting&&setTimeout(()=>{let n=i?.target?.id;n&&this.slots[n]&&this.utils.isSlotInViewport(n)&&this.utils.isSlotVisible(n)?(this.slots[n].viewedAt=Date.now(),this.utils.log.info(J,`[Intersection Observer] Slot "${i.target.id}" is visible at viewport`),this.slotsObserver.unobserve(i.target)):this.utils.log.info(J,`[Intersection Observer] Slot "${i.target.id}" is out of viewport`)},this.INTERSECTION_OBSERVER_TIMEOUT)})},this.INTERSECTION_OBSERVER_OPTIONS)}slotRenderEndedListener(){this.utils.log.info(J,"Looking for rendered slots"),this.utils.window.googletag.cmd.push(()=>{this.utils.window.googletag.pubads().addEventListener("slotRenderEnded",e=>{this.isRefreshIntervalStarted||(this.isRefreshIntervalStarted=!0,this.startRefreshInterval());let i=e.slot.getAdUnitPath(),n=e.slot.getSlotElementId(),s=this.utils.window.document.getElementById(n),r=e.isEmpty?null:e.slot.getResponseInformation();if(!this.allowByAdUnit(i)){this.removeFromSlots(n,i,r),this.utils.log.info(J,`Blocking refresh of "${i}" due to not whitelisted ad unit path`);return}if(!e.isEmpty){if(this.utils.log.info(J,`Checking "${i}" for whitelisted advertiserId = ${r.advertiserId}`),!this.allowByAdvertiser(r.advertiserId)){this.utils.log.info(J,`Removing "${i}" from fizz slots due to not allowed by advertiser`),this.removeFromSlots(n,i,r);return}e.size[0]>1&&e.size[1]>1&&e.slot.defineSizeMapping(googletag.sizeMapping().addSize([0,0],[[e.size[0],e.size[1]]]).build()).addService(googletag.pubads());let o=this.getMaxHeightForSlot(i),a=this.utils.window.document.querySelector(`#${n} iframe`);if(a){let l=a.clientHeight||a.offsetHeight;l&&o===l&&!n.includes("ocm_sticky")&&!s.parentNode.classList.contains("ocm-mis-wrapper")&&(s.style.minHeight=o+"px",this.utils.log.info(J,"Attaching min height to ",i))}}if(this.slots.hasOwnProperty(n))this.slots[n].isEmpty=e.isEmpty,this.slots[n].viewedAt=null,this.slots[n].renderedAt=Date.now(),this.utils.log.info(J,`Updated time for slot "${n}"`,this.slots[n]);else{let o=+this.fizzConfig.interval;this.slots[n]={gptslot:e.slot,div:n,code:i,renderedAt:Date.now(),isEmpty:e.isEmpty,viewedAt:null,hb_only:this.isHBOnly(i),adUnitInterval:this.fizzConfig.skip_intermediate_refresh?o:o/2,refreshTurn:this.isHBOnly(i)?"HB":this.fizzConfig.skip_intermediate_refresh?"GAM":"HB"},s&&(this.slotsObserver.observe(this.utils.window.document.getElementById(n)),this.utils.log.info(J,`Created a new slot for "${n}"`,this.slots[n]))}this.utils.log.info(J,"All Slots: ",this.slots)})})}startRefreshInterval(){setInterval(()=>{if(this.engaging){this.utils.log.info(J,"User is engaged during refresh interval trigger.");let e=Date.now(),i=[],n=[];Object.keys(this.slots).forEach(s=>{let r=this.slots[s],o=e-r.renderedAt||0,a=e-r.viewedAt||0,l=r.div&&r.div.includes("fullscreen")?this.FULLSCREEN_INTERVAL:r.adUnitInterval,d=!!r.hb_only;if(this.slotContainsVideo(r)){this.utils.log.info(J,`Slot "${r.div}" playing video. Skipping refresh for this slot.`);return}if(r.refreshTurn==="HB")o>=l&&a>=5e3&&(this.utils.log.info(J,`HB Slot "${r.div}" passed time requirements. Turn: ${r.refreshTurn}`),this.utils.isSlotInViewport(r.div)&&this.utils.isSlotVisible(r.div)?i.push(r):this.utils.log.info(J,`HB Slot "${r.div}" not inside viewport`,r));else if(r.refreshTurn==="GAM"){let p=this.fizzConfig.interval-l>0?this.fizzConfig.interval-l:this.fizzConfig.interval;o>=p&&a>=3e3&&(this.utils.log.info(J,r.div+` GAM Slot "${r.div}" passed time requirements`),this.utils.isSlotInViewport(r.div)&&!d&&this.utils.isSlotVisible(r.div)?n.push(r):this.utils.log.info(J,`GAM Slot "${r.div}" not inside viewport`,r))}}),this.refreshHbBubbles(i),this.refreshGAMBubbles(n)}},this.TRIGGER_REFRESH_INTERVAL)}adRenderSucceededListener(){this.utils.window.ocmpbjs=this.utils.window.ocmpbjs||{},this.utils.window.ocmpbjs.que=this.utils.window.ocmpbjs.que||[],this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("adRenderSucceeded",e=>{this.isRefreshIntervalStarted||(this.isRefreshIntervalStarted=!0,this.startRefreshInterval());let i=e.bid.adUnitCode,n=+this.fizzConfig.interval;this.slots[this.utils.getAdDivElement(i).id]={gptslot:null,div:this.utils.getAdDivElement(i).id,code:i,renderedAt:Date.now(),isEmpty:!1,viewedAt:Date.now()+1e3,hb_only:this.isHBOnly(i),adUnitInterval:this.fizzConfig.skip_intermediate_refresh?n:n/2,refreshTurn:this.isHBOnly(i)?"HB":"GAM"},this.utils.log.info(J,"All Slots: ",this.slots)})})}refreshHbBubbles(e){e.length&&(this.utils.log.info(J,"Found HB bubbles: ",e),this.refreshHb(e),e.forEach(i=>{this.slots[i.div]&&(this.slots[i.div].viewedAt=null,this.slots[i.div].renderedAt=Date.now(),this.slots[i.div].refreshTurn=i.hb_only?"HB":"GAM")}),this.utils.log.info(J,"Resetting all HB slots after refresh",this.slots))}refreshHb(e){let i=this.determineHbAdUnits(e,!0,!0);this.utils.log.info(J,"Ad units for refreshHb",i),i.length&&i.length?this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.requestBids({adUnits:i,bidsBackHandler:(n,s,r)=>{this.utils.log.info(J,"Auction has finished and the bids are : ",n),!(typeof n>"u")&&(Object.keys(n).forEach(o=>{n[o].bids=n[o].bids.filter(a=>a.statusMessage!=="bidRejected"&&a.status!=="bidRejected")}),Object.keys(n).forEach(o=>{n[o].bids.length||delete n[o]}),Object.keys(n).length>0&&this.renderBidResponses(n),e.forEach(o=>{this.slots[o.div].isEmpty=n[o.div]&&n[o.div].bids&&n[o.div].bids.length||!1}))}})}):e.forEach(n=>{this.slots[n.div]&&(this.slots[n.div].refreshTurn="GAM")})}refreshGAMBubbles(e){if(e.length){switch(this.utils.log.info(J,"Found GAM bubbles: ",e),this.headerBiddingFunctionality){case null:this.refreshDfp(e);break;case"no_adserver":this.refreshHb(e);break;case"lazyload":this.refreshDfpHbLazyload(e);break;default:this.refreshDfpHb(e);break}e.forEach(i=>{this.slots[i.div].viewedAt=null,this.slots[i.div].renderedAt=Date.now(),this.slots[i.div].refreshTurn=this.isHBOnly(i.code)?"HB":this.fizzConfig.skip_intermediate_refresh?"GAM":"HB"}),this.utils.log.info(J,"Resetting all GAM slots after refresh",this.slots)}}refreshDfp(e){this.utils.log.info(J,"in refreshDfp");let i=[];Object.keys(e).forEach(n=>{this.utils.window.googletag.cmd.push(()=>{e[n].gptslot&&e[n].gptslot.setTargeting("ocmFizz",["true"])}),i.push(e[n].gptslot)}),this.utils.window.googletag.cmd.push(()=>{this.utils.window.googletag.pubads().refresh(i)})}refreshDfpHbLazyload(e){this.utils.log.info(J,"in refreshDfpHbLazyload");for(let i of e){let n=document.querySelector('div[data-oau-code="'+i.code+'"]');n&&!n.hasAttribute("data-lazyincluded-by-ocm")&&(n.removeAttribute("data-lazyloaded-by-ocm"),n.removeAttribute("data-oau-code"),i.gptslot&&this.utils.window.googletag.cmd.push(()=>{i.gptslot&&i.gptslot.setTargeting("ocmFizz",["true"])}))}}refreshDfpHb(e){let i=this.determineHbAdUnits(e,!1,!0);this.utils.log.info(J,"Ad units for refreshDfpHb",i),this.utils.window.googletag.cmd.push(()=>{this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.requestBids({adUnits:i,bidsBackHandler:(n,s,r)=>{let o=[];try{Object.keys(e).forEach(a=>{this.utils.window.googletag.cmd.push(()=>{e[a].gptslot&&e[a].gptslot.setTargeting("ocmFizz",["true"])}),o.push(e[a].gptslot)})}catch(a){this.utils.log.error(J,a,"OCM Fizz: ")}o.length&&(this.utils.window.ocmpbjs.setTargetingForGPTAsync(o.map(a=>a.getAdUnitPath())),this.utils.window.googletag.pubads().refresh(o),this.utils.window.ocmpbjs.initAdserverSet=!0,this.utils.log.info(J,"=> HB: Called initAdServer"))}})})})}renderBidResponses(e){for(let i in e){this.utils.log.info(J,"Found bid for #"+i,e[i]);let n=i,s=this.utils.getAdDivElement(i);if(s||this.utils.log.info(J,"Ad div #"+n+" not found"),s){this.utils.log.info(J,"Ad div = ",s);let r=this.utils.window.document.createElement("iframe");r.setAttribute("id",n+"_ocm_hb"),r.setAttribute("style","border:0; overflow:hidden; margin:0px auto;display:block;"),r.width="1",r.height="1",r.setAttribute("frameborder","0"),r.setAttribute("marginheight","0"),r.setAttribute("marginwidth","0"),r.setAttribute("scrolling","no"),r.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation-by-user-activation");let o=this.utils.window.ocmpbjs.getAdserverTargetingForAdUnitCode(n);if(this.utils.log.info(J,"adServerTargeting",o),o&&o.hb_adid){this.utils.log.info(J,"Rendering ad for "+n),s.querySelectorAll("script, div, iframe, ins").forEach(d=>d.remove()),s.append(r);let l=r.contentDocument||r.contentWindow.document;this.utils.window.ocmpbjs.renderAd(l,o.hb_adid),setTimeout(()=>{l.body&&(l.body.insertAdjacentHTML("afterbegin","<style>body {margin:0px !important}</style>"),l.body.style.margin="0px !important")},10),this.slotsObserver.observe(s)}}}}slotContainsVideo(e){let i=this.utils.window.document.getElementById(e.div),s=Date.now()-e.renderedAt||0,r=!!(i&&i.querySelector(".teads-inread")&&s<=this.TEADS_MAX_VIDEO_DURATION),o=!!(i&&i.querySelector("video")),a=!1;try{let l=i&&i.querySelector("iframe");a=!!(l&&l.contentDocument&&l.contentDocument.querySelector("video"))}catch(l){this.utils.log.info(J,"Error checking video inside iframe",l)}return o||a||r}determineHbAdUnits(e,i=!1,n=!1){this.utils.log.info(J,"Determining HB ad units");let s=[];if(!this.utils.window.ocmpbjs.adUnits)return[];let r=this.utils.clone([...this.utils.window.ocmpbjs.adUnits]);for(let o of e)for(let a of r)if(a.code===o.code){let l=a?.ortb2Imp?JSON.parse(JSON.stringify(a.ortb2Imp)):{ext:{data:{}}};l.ext.data.fizz=!0;let d=this.utils.clone(i?[...a.bids.filter(p=>!this.BIDDERS_TO_DROP_AT_HB.includes(p.bidder))]:[...a.bids]);if(n){let p=this.adjustMediaTypesSizes(a.code,a.mediaTypes);if(!!(p.banner&&p.banner.sizes&&p.banner.sizes.length||p.video&&p.video.playerSize&&p.video.playerSize.length)){let h=[...p.banner&&p.banner.sizes||[],...p.video&&p.video.playerSize&&p.video.playerSize||[]],u=[...this.utils.clone(d)].filter(g=>g&&g.params&&g.params.size?this.isSizeValid(g.params.size,h):!0);s.push({...a,code:a.code,mediaTypes:p,bids:u,ortb2Imp:l})}}else s.push({...a,code:a.code,mediaTypes:a.mediaTypes,bids:d,ortb2Imp:l})}return this.utils.log.info(J,"Determined HB ad units",s),s}adjustMediaTypesSizes(e,i){let n={...i},s=this.getSlotByCode(e);if(s){let r=this.utils.window.document.querySelector(`div[id="${s.div}"]`),o=this.utils.window.document.querySelector(`div[id="${s.div}"] iframe`);if(r&&o){let a=o.clientHeight||o.offsetHeight,l=r.style&&r.style.minHeight&&r.style.minHeight!=="";a&&(n.banner&&(n.banner.sizes=i.banner.sizes.filter(d=>l?d[1]===a||d[1]<a:d[1]===a),(n.banner.sizes.length===0||n.banner&&!n.banner.sizes)&&delete n.banner),n.video&&(n.video.playerSize=i.video.playerSize.filter(d=>l?d[1]===a||d[1]<a:d[1]===a),(n.video.playerSize.length===0||n.video&&!n.video.playerSize)&&delete n.video))}}return n}isSizeValid(e,i){return i.some(n=>JSON.stringify(n)===JSON.stringify(e))}getMaxHeightForSlot(e){if(!this.utils.window.ocmpbjs.adUnits)return 0;let i=this.utils.clone([...this.utils.window.ocmpbjs.adUnits]);if(!i||i&&i.length)return 0;let n=i.find(s=>s.code===e);return n&&n&&n.sizes?n.sizes.reduce((s,r)=>Math.max(s,r[1]),0):0}getSlotByCode(e){let i=Object.keys(this.slots).find(n=>this.slots[n].code===e);return this.slots[i]}allowByAdUnit(e){return!!this.fizzConfig.ads_whitelist.find(i=>i.path===e)}isHBOnly(e){let i=this.fizzConfig.ads_whitelist.find(n=>n.path===e);return!!(i&&i.hb_only)}allowByAdvertiser(e){if(this.fizzConfig.advertisers_whitelist&&this.fizzConfig.advertisers_whitelist.length===0)return!0;let i=this.fizzConfig.advertisers_whitelist.find(n=>n.id===e);return i&&this.utils.log.info(J,`Found whitelisted advertiser ${i.name}`),!!i}removeFromSlots(e,i,n){this.slots.hasOwnProperty(e)&&(this.utils.log.info(J,`Removing ad slot "${i}" due to not whitelisted advertiserId = ${n.advertiserId}`),delete this.slots[e])}resetSlots(){this.slots=[]}}});var Dn=H((tp,vo)=>{var dd="fou_analytics";vo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-fou_analytics-end")}run(){return new Promise((e,i)=>{performance.mark("fou_analytics_start");let n=this.utils.window.document.createElement("script");n.src="https://eu.b2c.com/api/init-224mtm6aorewjg83k2h.js",n.async=!0,n.setAttribute("data-cfasync","true"),n.onload=()=>(this.utils.window.dispatchEvent(this.endedEvent),e({name:dd})),this.utils.doc_head.appendChild(n)})}}});var yo=H((ip,wo)=>{"use strict";var ud=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);wo.exports=t=>!ud.has(t&&t.code)});var _o=H(me=>{"use strict";var Ri=me&&me.__awaiter||function(t,e,i,n){function s(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function a(p){try{d(n.next(p))}catch(m){o(m)}}function l(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?r(p.value):s(p.value).then(a,l)}d((n=n.apply(t,e||[])).next())})},cd=me&&me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(me,"__esModule",{value:!0});me.DEFAULT_OPTIONS=me.exponentialDelay=me.retryAfter=me.isNetworkOrIdempotentRequestError=me.isIdempotentRequestError=me.isSafeRequestError=me.isRetryableError=me.isNetworkError=me.namespace=void 0;var hd=cd(yo());me.namespace="axios-retry";function On(t){let e=["ERR_CANCELED","ECONNABORTED"];return t.response||!t.code||e.includes(t.code)?!1:(0,hd.default)(t)}me.isNetworkError=On;var So=["get","head","options"],fd=So.concat(["put","delete"]);function Di(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status===429||t.response.status>=500&&t.response.status<=599)}me.isRetryableError=Di;function xo(t){var e;return!((e=t.config)===null||e===void 0)&&e.method?Di(t)&&So.indexOf(t.config.method)!==-1:!1}me.isSafeRequestError=xo;function Nn(t){var e;return!((e=t.config)===null||e===void 0)&&e.method?Di(t)&&fd.indexOf(t.config.method)!==-1:!1}me.isIdempotentRequestError=Nn;function Bn(t){return On(t)||Nn(t)}me.isNetworkOrIdempotentRequestError=Bn;function zn(t=void 0){var e;let i=(e=t?.response)===null||e===void 0?void 0:e.headers["retry-after"];if(!i)return 0;let n=(Number(i)||0)*1e3;return n===0&&(n=(new Date(i).valueOf()||0)-Date.now()),Math.max(0,n)}me.retryAfter=zn;function pd(t=0,e=void 0){return Math.max(0,zn(e))}function Eo(t=0,e=void 0,i=100){let n=Math.pow(2,t)*i,s=Math.max(n,zn(e)),r=s*.2*Math.random();return s+r}me.exponentialDelay=Eo;me.DEFAULT_OPTIONS={retries:3,retryCondition:Bn,retryDelay:pd,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function gd(t,e){return Object.assign(Object.assign(Object.assign({},me.DEFAULT_OPTIONS),e),t[me.namespace])}function bo(t,e,i=!1){let n=gd(t,e||{});return n.retryCount=n.retryCount||0,(!n.lastRequestTime||i)&&(n.lastRequestTime=Date.now()),t[me.namespace]=n,n}function md(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function vd(t,e){return Ri(this,void 0,void 0,function*(){let{retries:i,retryCondition:n}=t,s=(t.retryCount||0)<i&&n(e);if(typeof s=="object")try{return(yield s)!==!1}catch{return!1}return s})}function wd(t,e,i,n){var s;return Ri(this,void 0,void 0,function*(){e.retryCount+=1;let{retryDelay:r,shouldResetTimeout:o,onRetry:a}=e,l=r(e.retryCount,i);if(md(t,n),!o&&n.timeout&&e.lastRequestTime){let d=Date.now()-e.lastRequestTime,p=n.timeout-d-l;if(p<=0)return Promise.reject(i);n.timeout=p}return n.transformRequest=[d=>d],yield a(e.retryCount,i,n),!((s=n.signal)===null||s===void 0)&&s.aborted?Promise.resolve(t(n)):new Promise(d=>{var p;let m=()=>{clearTimeout(h),d(t(n))},h=setTimeout(()=>{var u;d(t(n)),!((u=n.signal)===null||u===void 0)&&u.removeEventListener&&n.signal.removeEventListener("abort",m)},l);!((p=n.signal)===null||p===void 0)&&p.addEventListener&&n.signal.addEventListener("abort",m,{once:!0})})})}function yd(t,e){return Ri(this,void 0,void 0,function*(){t.retryCount>=t.retries&&(yield t.onMaxRetryTimesExceeded(e,t.retryCount))})}var jt=(t,e)=>{let i=t.interceptors.request.use(s=>{var r;return bo(s,e,!0),!((r=s[me.namespace])===null||r===void 0)&&r.validateResponse&&(s.validateStatus=()=>!1),s}),n=t.interceptors.response.use(null,s=>Ri(void 0,void 0,void 0,function*(){var r;let{config:o}=s;if(!o)return Promise.reject(s);let a=bo(o,e);return s.response&&(!((r=a.validateResponse)===null||r===void 0)&&r.call(a,s.response))?s.response:(yield vd(a,s))?wd(t,a,s,o):(yield yd(a,s),Promise.reject(s))}));return{requestInterceptorId:i,responseInterceptorId:n}};jt.isNetworkError=On;jt.isSafeRequestError=xo;jt.isIdempotentRequestError=Nn;jt.isNetworkOrIdempotentRequestError=Bn;jt.exponentialDelay=Eo;jt.isRetryableError=Di;me.default=jt});var Oi=H((rp,Io)=>{var $e="geolocation",bd="https://wru.orangeclickmedia.com/",Ao=Fn(),Sd=_o().default;Io.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-geolocation-end")}run(){return new Promise((e,i)=>{performance.mark("geolocation_start");let n=new Date().getTime();if(this.utils.window.OCM.hasOwnProperty("geo"))return this.utils.log.info($e,"Geolocation data already exists. Using it.",this.utils.window.OCM.geo),this.utils.window.dispatchEvent(this.endedEvent),e({name:$e});let s=this.utils.window.OCM.hasPurposeOneConsent;if(this.utils.canUseLocalStorage&&s){if(this.utils.window.OCM.geo=this.getGeoDataFromLocalStorage(),this.utils.window.OCM?.geo&&!this.utils.window.OCM?.geo.hasOwnProperty("expires_at")&&(this.deleteGeoDataFromLocalStorage(),this.utils.window.OCM.geo=null),this.utils.window.OCM?.geo&&this.utils.window.OCM?.geo?.expires_at>n)return this.utils.log.info($e,"Geolocation data exists in localStorage and has not expired.",this.utils.window.OCM.geo),this.utils.window.dispatchEvent(this.endedEvent),e({name:$e});this.utils.log.warn($e,"Geolocation data does not exist in localStorage or has expired. Fetching geolocation data."),this.fetchGeoData(!0).then(r=>(this.utils.window.OCM.geo=r,r&&this.utils.canUseLocalStorage&&this.storeGeoDataInLocalStorage(r),this.utils.window.dispatchEvent(this.endedEvent),e({name:$e}))).catch(r=>(this.utils.window.dispatchEvent(this.endedEvent),i({name:$e,message:r})))}else this.utils.log.warn($e,"Storage access not allowed. Fetching geolocation data."),this.deleteGeoDataFromLocalStorage(),this.fetchGeoData(!0).then(r=>(this.utils.window.OCM.geo=r,this.utils.window.dispatchEvent(this.endedEvent),e({name:$e}))).catch(r=>(this.utils.window.dispatchEvent(this.endedEvent),i({name:$e,message:r})))})}deleteGeoDataFromLocalStorage(){try{this.utils.window.localStorage.removeItem("ocm_wru")}catch(e){this.utils.log.warn($e,e,"Error deleting geolocation data from localStorage")}}fetchGeoData(){return new Promise((e,i)=>{let n=!1,s=1e3,r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(typeof r<"u"&&typeof r.effectiveType<"u")switch(r.effectiveType){case"2g":s=4e3;break;case"3g":s=2500;break;default:s=1e3;break}let o=2;Sd(Ao,{retries:o,shouldResetTimeout:!0,retryCondition:a=>["ERR_CANCELED","ECONNABORTED"].includes(a.code)||!a.response||a.response.status>=500&&a.response.status<=599,onRetry:()=>{o--,n=o===0}}),Ao(bd,{method:"GET",timeout:s,headers:{Accept:"application/json"},validateStatus:function(a){return a>=200&&a<500}}).then(a=>e(a.data)).catch(a=>{if(n)return a.response?(this.utils.shouldLogError&&this.utils.log.error($e,a,"Failed to fetch geolocation data"),e(null)):a.request?(this.utils.shouldLogError&&this.utils.log.error($e,a.request,"Failed to fetch geolocation data"),e(null)):i(a.message)})})}storeGeoDataInLocalStorage(e){try{e.expires_at=new Date().getTime()+60*60*24*1e3,this.utils.window.localStorage.setItem("ocm_wru",JSON.stringify(e))}catch(i){this.utils.log.warn($e,i,"Error storing geolocation data in localStorage")}}getGeoDataFromLocalStorage(){let e=null;try{e=JSON.parse(this.utils.window.localStorage.getItem("ocm_wru"))}catch(i){this.utils.log.warn($e,i,"Error parsing geolocation data from localStorage")}return e}}});var Ni=H((ap,Co)=>{var Mn="gpt";Co.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-gpt-end")}run(){return new Promise((e,i)=>{performance.mark("gpt_start"),this.utils.log.info(Mn,"Loading GPT library and setting ads environment...");let n=document.createElement("script");return n.async="",n.src=this.config.services.gpt?.network_id&&this.config.services.gpt?.network_id!==""?"//securepubads.g.doubleclick.net/tag/js/gpt.js?network-code="+this.config.services.gpt.network_id:"//securepubads.g.doubleclick.net/tag/js/gpt.js",n.onerror=s=>i({name:Mn,message:`Failed to load GPT library ${n.src}`}),this.utils.window.document.head.append(n),this.utils.window.googletag.cmd.push(()=>{this.config.services.gpt.collapseEmptyDivs[0]&&(this.config.services.gpt.collapseEmptyDivs[1]?this.utils.window.googletag.pubads().collapseEmptyDivs(!0):this.utils.window.googletag.pubads().collapseEmptyDivs()),this.config.services.gpt.enableSingleRequest&&this.utils.window.googletag.pubads().enableSingleRequest(),this.config.services.gpt.setCentering&&this.utils.window.googletag.pubads().setCentering(!0),this.config.services.gpt.disableInitialLoad&&this.utils.window.googletag.pubads().disableInitialLoad(),this.utils.window.googletag.enableServices()}),this.utils.window.dispatchEvent(this.endedEvent),e({name:Mn})})}}});function To(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Do(t,e,i){return e&&To(t.prototype,e),i&&To(t,i),t}function jn(){return jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},jn.apply(this,arguments)}function Oo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,li(t,e)}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(t)}function li(t,e){return li=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},li(t,e)}function xd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hn(t,e,i){return Hn=xd()?Reflect.construct:function(n,s,r){var o=[null];o.push.apply(o,s);var a=new(Function.bind.apply(n,o));return r&&li(a,r.prototype),a},Hn.apply(null,arguments)}function qn(t){var e=typeof Map=="function"?new Map:void 0;return qn=function(i){if(i===null||Function.toString.call(i).indexOf("[native code]")===-1)return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,n)}function n(){return Hn(i,arguments,Ln(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),li(n,i)},qn(t)}function Y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Po(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function he(t){return"__private_"+Ed+++"_"+t}function A(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Bi,Fo,Ro,Ed,No,Vn,Un,et,de,ft,He,_d,Ad,ko,xt,Kn,_t,j,ue,se,Lt,re,tt,q,Se,xe,Ce,pt,Ht,Ee,qt,De,gt,Et,We,Oe,it,nt,ie,mt,Vt,qe,Ut,ai,Bo,zo=Hs(()=>{Bi=null,Fo=function(){Bi=null},Ro=function(){var t=window;return t.google&&t.google.ima?Promise.resolve(t.google.ima):Bi||((Bi=new Promise(function(e,i){var n=document.createElement("script");n.async=!0,n.src="https://imasdk.googleapis.com/js/sdkloader/ima3.js",n.onload=e,n.onerror=i,document.body.appendChild(n)}).then(function(){return t.google.ima})).then(Fo).catch(Fo),Bi)};Ed=0;No={};No.CustomEvent=typeof CustomEvent=="function"?CustomEvent:function(t){return e[t]=new e("").constructor[t],e;function e(i,n){n||(n={});var s=document.createEvent("CustomEvent");return s.initCustomEvent(i,!!n.bubbles,!!n.cancelable,n.detail),s}}("prototype");et=No.CustomEvent,de=he("mediaElement"),ft=he("currentTime"),He=he("enabled"),_d=function(){function t(i){Object.defineProperty(this,de,{writable:!0,value:void 0}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),Object.defineProperty(this,He,{writable:!0,value:void 0}),this.seeking=void 0,A(this,de)[de]=i,A(this,ft)[ft]=0,A(this,He)[He]=!1,this.seeking=!1,this.t=this.t.bind(this),this.i=this.i.bind(this),this.h=this.h.bind(this),this.enable()}var e=t.prototype;return e.i=function(){this.seeking=!0},e.h=function(){this.seeking=!1},e.t=function(){var i,n;this.seeking||(i=A(this,de)[de])!=null&&i.paused||(A(this,ft)[ft]=(n=A(this,de)[de])==null?void 0:n.currentTime)},e.enable=function(){var i,n,s;A(this,He)[He]||((i=A(this,de)[de])==null||i.addEventListener("seeking",this.i),(n=A(this,de)[de])==null||n.addEventListener("seeked",this.h),(s=A(this,de)[de])==null||s.addEventListener("timeupdate",this.t),A(this,He)[He]=!0)},e.disable=function(){var i,n,s;A(this,He)[He]&&((i=A(this,de)[de])==null||i.removeEventListener("seeking",this.i),(n=A(this,de)[de])==null||n.removeEventListener("seeked",this.h),(s=A(this,de)[de])==null||s.removeEventListener("timeupdate",this.t),A(this,He)[He]=!1)},e.play=function(){var i=this;return new Promise(function(n){var s;n((s=A(i,de)[de])==null?void 0:s.play())})},e.pause=function(){var i;(i=A(this,de)[de])==null||i.pause()},e.reset=function(){A(this,ft)[ft]=0,A(this,He)[He]=!1,this.seeking=!1,this.enable()},e.destroy=function(){A(this,ft)[ft]=0,A(this,He)[He]=!1,this.seeking=!1,this.disable(),A(this,de)[de]=void 0},Do(t,[{key:"enabled",get:function(){return A(this,He)[He]}},{key:"currentTime",get:function(){return A(this,ft)[ft]}},{key:"duration",get:function(){var i;return(i=A(this,de)[de])==null?void 0:i.duration}},{key:"muted",get:function(){var i;return(i=A(this,de)[de])==null?void 0:i.muted}},{key:"volume",get:function(){var i;return(i=A(this,de)[de])==null?void 0:i.volume}}]),t}(),Ad=function(){function t(){this.delegate=document.createDocumentFragment()}var e=t.prototype;return e.addEventListener=function(){this.delegate.addEventListener.apply(this.delegate,[].slice.call(arguments))},e.dispatchEvent=function(){return this.delegate.dispatchEvent.apply(this.delegate,[].slice.call(arguments))},e.removeEventListener=function(){return this.delegate.removeEventListener.apply(this.delegate,[].slice.call(arguments))},t}(),ko=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];(function(t){t.MEDIA_START="MediaStart",t.MEDIA_IMPRESSION="MediaImpression",t.MEDIA_STOP="MediaStop",t.MEDIA_CUE_POINTS_CHANGE="MediaCuePointsChange",t.MEDIA_RESUMED="MediaResumed"})(Vn||(Vn={})),function(t){t.AD_ERROR="AdError",t.AD_BUFFERING="AdBuffering",t.LOADED="AdLoaded",t.IMPRESSION="AdImpression",t.STARTED="AdStarted",t.FIRST_QUARTILE="AdFirstQuartile",t.MIDPOINT="AdMidpoint",t.THIRD_QUARTILE="AdThirdQuartile",t.AD_PROGRESS="AdProgress",t.COMPLETE="AdComplete",t.CLICK="AdClick",t.PAUSED="AdPaused",t.RESUMED="AdResumed",t.SKIPPED="AdSkipped",t.SKIPPABLE_STATE_CHANGED="AdSkippableStateChanged",t.VOLUME_CHANGED="AdVolumeChanged",t.VOLUME_MUTED="AdMuted",t.AD_METADATA="AdMetadata",t.AD_BREAK_READY="AdBreakReady",t.CONTENT_PAUSE_REQUESTED="AdContentPauseRequested",t.CONTENT_RESUME_REQUESTED="AdContentResumeRequested",t.ALL_ADS_COMPLETED="AdAllAdsCompleted",t.DURATION_CHANGE="AdDurationChange",t.INTERACTION="AdInteraction",t.LINEAR_CHANGED="AdLinearChanged",t.LOG="AdLog",t.USER_CLOSE="AdUserClose",t.AD_CAN_PLAY="AdCanPlay",t.EXPANDED_CHANGED="AdExpandedChanged",t.VIEWABLE_IMPRESSION="AdViewableImpression"}(Un||(Un={}));xt=jn({},Un,Vn),Kn=function(){this.disableCustomPlaybackForIOS10Plus=!1,this.autoResize=!0,this.clickTrackingElement=void 0},_t=function(t){function e(){var i;return(i=t.call.apply(t,[this].concat([].slice.call(arguments)))||this).errorCode=void 0,i.innerError=void 0,i.type=void 0,i.vastErrorCode=void 0,i}return Oo(e,t),e}(qn(Error));_t.ERROR_CODE_ADS_MANAGER_LOADED_TIMEOUT=9e3,_t.ERROR_CODE_REQUEST_ADS_TIMEOUT=9001;j=he("mediaElement"),ue=he("adElement"),se=he("customPlayhead"),Lt=he("adsRenderingSettings"),re=he("ima"),tt=he("adDisplayContainer"),q=he("adsManager"),Se=he("width"),xe=he("height"),Ce=he("adsLoader"),pt=he("playerOptions"),Ht=he("resizeObserver"),Ee=he("currentAd"),qt=he("loadedAd"),De=he("mediaStartTriggered"),gt=he("mediaImpressionTriggered"),Et=he("mediaInActivation"),We=he("customPlaybackTimeAdjustedOnEnded"),Oe=he("cuePoints"),it=he("adCurrentTime"),nt=he("adDuration"),ie=he("startAdCallback"),mt=he("adsManagerLoadedTimeout"),Vt=he("requestAdsTimeout"),qe=he("wasExternallyPaused"),Ut=he("lastNonZeroAdVolume"),ai=he("activatePromise"),Bo=function(t){function e(n,s,r,o,a){var l;o===void 0&&(o=new n.AdsRenderingSettings),a===void 0&&(a=new Kn),l=t.call(this)||this,Object.defineProperty(Y(l),j,{writable:!0,value:void 0}),Object.defineProperty(Y(l),ue,{writable:!0,value:void 0}),Object.defineProperty(Y(l),se,{writable:!0,value:void 0}),Object.defineProperty(Y(l),Lt,{writable:!0,value:void 0}),Object.defineProperty(Y(l),re,{writable:!0,value:void 0}),Object.defineProperty(Y(l),tt,{writable:!0,value:void 0}),Object.defineProperty(Y(l),q,{writable:!0,value:void 0}),Object.defineProperty(Y(l),Se,{writable:!0,value:void 0}),Object.defineProperty(Y(l),xe,{writable:!0,value:void 0}),Object.defineProperty(Y(l),Ce,{writable:!0,value:void 0}),Object.defineProperty(Y(l),pt,{writable:!0,value:void 0}),Object.defineProperty(Y(l),Ht,{writable:!0,value:void 0}),Object.defineProperty(Y(l),Ee,{writable:!0,value:void 0}),Object.defineProperty(Y(l),qt,{writable:!0,value:void 0}),Object.defineProperty(Y(l),De,{writable:!0,value:!1}),Object.defineProperty(Y(l),gt,{writable:!0,value:!1}),Object.defineProperty(Y(l),Et,{writable:!0,value:!1}),Object.defineProperty(Y(l),We,{writable:!0,value:!1}),Object.defineProperty(Y(l),Oe,{writable:!0,value:[]}),Object.defineProperty(Y(l),it,{writable:!0,value:void 0}),Object.defineProperty(Y(l),nt,{writable:!0,value:void 0}),Object.defineProperty(Y(l),ie,{writable:!0,value:void 0}),Object.defineProperty(Y(l),mt,{writable:!0,value:void 0}),Object.defineProperty(Y(l),Vt,{writable:!0,value:void 0}),Object.defineProperty(Y(l),qe,{writable:!0,value:!1}),Object.defineProperty(Y(l),Ut,{writable:!0,value:1}),Object.defineProperty(Y(l),ai,{writable:!0,value:Promise.resolve()}),A(Y(l),j)[j]=s,A(Y(l),ue)[ue]=r,A(Y(l),re)[re]=n,A(Y(l),pt)[pt]=a,A(Y(l),Lt)[Lt]=o,A(Y(l),Lt)[Lt].restoreCustomPlaybackStateOnAdBreakComplete=!0,a.disableCustomPlaybackForIOS10Plus&&!A(Y(l),j)[j].hasAttribute("playsinline")&&A(Y(l),j)[j].setAttribute("playsinline",""),A(Y(l),re)[re].settings.setDisableCustomPlaybackForIOS10Plus(a.disableCustomPlaybackForIOS10Plus),A(Y(l),se)[se]=new _d(A(Y(l),j)[j]),l.o=l.o.bind(Y(l)),ko.forEach(function(h){A(Y(l),j)[j].addEventListener(h,l.o)}),l.u=l.u.bind(Y(l)),l.l=l.l.bind(Y(l));var d=A(Y(l),j)[j],p=d.offsetHeight,m=d.offsetWidth;return A(Y(l),Se)[Se]=m,A(Y(l),xe)[xe]=p,a.autoResize&&window.ResizeObserver&&(A(Y(l),Ht)[Ht]=new window.ResizeObserver(function(h){return l.v(h)}),A(Y(l),Ht)[Ht].observe(A(Y(l),j)[j])),l}Oo(e,t);var i=e.prototype;return i.activate=function(){var n=this;if(!A(this,De)[De]&&!A(this,Et)[Et]&&(A(this,Et)[Et]=!0,A(this,j)[j].paused)){var s=function(){return A(n,j)[j].pause(),new Promise(function(r){setTimeout(function(){A(n,Et)[Et]=!1,r()},1)})};A(this,ai)[ai]=new Promise(function(r){return r(A(n,j)[j].play())}).then(s).catch(s)}},i.playAds=function(n){this.m(n)},i.loadAds=function(n,s){this.m(n,!1,s)},i.p=function(){var n=this;return A(this,ai)[ai].then(function(){return new Promise(function(s){return s(A(n,j)[j].play())})})},i.m=function(n,s,r){var o=this;s===void 0&&(s=!0),this.reset(),this.O(),A(this,re)[re].settings.setAutoPlayAdBreaks(s),A(this,j)[j].ended&&(A(this,se)[se].reset(),A(this,j)[j].currentTime=0),A(this,ie)[ie]=r,n.linearAdSlotWidth=A(this,Se)[Se],n.linearAdSlotHeight=A(this,xe)[xe],n.nonLinearAdSlotWidth=A(this,Se)[Se],n.nonLinearAdSlotHeight=A(this,xe)[xe],n.contentDuration==null&&(n.contentDuration=-3),A(this,mt)[mt]=window.setTimeout(function(){var a=new _t("No adsManagerLoadedEvent within 5000ms.");a.errorCode=_t.ERROR_CODE_ADS_MANAGER_LOADED_TIMEOUT,o.j(a)},5e3),A(this,Vt)[Vt]=window.setTimeout(function(){var a=new _t("No response for ads-request within 10000ms.");a.errorCode=_t.ERROR_CODE_REQUEST_ADS_TIMEOUT,o.j(a)},1e4),A(this,Ce)[Ce].requestAds(n)},i.O=function(){A(this,tt)[tt]=new(A(this,re))[re].AdDisplayContainer(A(this,ue)[ue],A(this,pt)[pt].disableCustomPlaybackForIOS10Plus?void 0:A(this,j)[j],A(this,pt)[pt].clickTrackingElement),A(this,Ce)[Ce]=new(A(this,re))[re].AdsLoader(A(this,tt)[tt]),A(this,Ce)[Ce].addEventListener(A(this,re)[re].AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.u,!1),A(this,Ce)[Ce].addEventListener(A(this,re)[re].AdErrorEvent.Type.AD_ERROR,this.l,!1)},i.skipAd=function(){A(this,q)[q]&&A(this,q)[q].skip()},i.discardAdBreak=function(){A(this,q)[q]&&A(this,q)[q].discardAdBreak()},i.play=function(){var n=this;A(this,qe)[qe]=!1,!A(this,se)[se].enabled&&A(this,q)[q]?A(this,q)[q].resume():A(this,mt)[mt]||this.p().then(function(){}).catch(function(){n.dispatchEvent(new et("pause"))})},i.pause=function(){A(this,qe)[qe]=!0,!A(this,se)[se].enabled&&A(this,q)[q]?A(this,q)[q].pause():A(this,j)[j].pause()},i.g=function(n){A(this,Oe)[Oe]=[].concat(n),this.dispatchEvent(new et(xt.MEDIA_CUE_POINTS_CHANGE,{detail:{cuePoints:[].concat(A(this,Oe)[Oe])}}))},i.A=function(n){var s=this.cuePoints.indexOf(n);s>-1&&(A(this,Oe)[Oe].splice(s,1),this.g(A(this,Oe)[Oe]))},i.resizeAd=function(n,s){A(this,Se)[Se]=n,A(this,xe)[xe]=s,A(this,q)[q]&&A(this,q)[q].resize(n,s,this.k()),A(this,ue)[ue].style.width=n+"px",A(this,ue)[ue].style.height=s+"px"},i.reset=function(n){n===void 0&&(n=!1),n&&(A(this,gt)[gt]=!1,A(this,De)[De]=!1,A(this,We)[We]=!1),this.C(),A(this,Oe)[Oe]=[],A(this,qe)[qe]=!1,A(this,ie)[ie]=void 0,A(this,q)[q]&&A(this,q)[q].destroy(),A(this,q)[q]=void 0,A(this,re)[re].settings.setAutoPlayAdBreaks(!0),n&&this.P(),A(this,ue)[ue].style.display="none"},i.P=function(){A(this,Ce)[Ce]&&(A(this,Ce)[Ce].removeEventListener(A(this,re)[re].AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.u,!1),A(this,Ce)[Ce].removeEventListener(A(this,re)[re].AdErrorEvent.Type.AD_ERROR,this.l,!1),A(this,Ce)[Ce].destroy()),A(this,tt)[tt]&&A(this,tt)[tt].destroy()},i.destroy=function(){var n,s,r,o,a=this;this.reset(!0),A(this,se)[se].destroy(),ko.forEach(function(l){A(a,j)[j].removeEventListener(l,a.o)}),(n=A(this,Ce)[Ce])==null||n.removeEventListener(A(this,re)[re].AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.u,!1),(s=A(this,tt)[tt])==null||s.destroy(),(r=A(this,Ce)[Ce])==null||r.destroy(),A(this,gt)[gt]=!1,A(this,We)[We]=!1,A(this,De)[De]=!1,(o=A(this,Ht)[Ht])==null||o.disconnect()},i.isCustomPlaybackUsed=function(){return A(this,re)[re].settings.getDisableCustomPlaybackForIOS10Plus()===!1&&!A(this,ue)[ue].querySelector("video")},i.C=function(){window.clearTimeout(A(this,mt)[mt]),window.clearTimeout(A(this,Vt)[Vt]),A(this,mt)[mt]=void 0,A(this,Vt)[Vt]=void 0,A(this,Ee)[Ee]=void 0,A(this,it)[it]=void 0,A(this,nt)[nt]=void 0,A(this,ue)[ue].style.display="none",A(this,ue)[ue].classList.remove("nonlinear"),A(this,q)[q]&&this.R()},i.o=function(n){var s=this;if(A(this,se)[se].enabled||n.type==="volumechange"){if(n.type==="timeupdate"){if(A(this,j)[j].currentTime<.5)return;if(A(this,q)[q]){var r=A(this,q)[q].getCuePoints().filter(function(d){return d>=0&&d<A(s,se)[se].currentTime}).pop();this.A(r)}!A(this,gt)[gt]&&A(this,De)[De]&&(this.dispatchEvent(new et(xt.MEDIA_IMPRESSION)),A(this,gt)[gt]=!0)}if(n.type!=="play"||A(this,De)[De]||(this.dispatchEvent(new et(xt.MEDIA_START)),A(this,De)[De]=!0),n.type==="ended"&&(this.isCustomPlaybackUsed()&&A(this,j)[j].currentTime===A(this,j)[j].duration&&A(this,Oe)[Oe].indexOf(-1)>-1&&(A(this,j)[j].currentTime=A(this,j)[j].duration-1e-5,A(this,We)[We]=!0),A(this,Ce)[Ce].contentComplete(),A(this,q)[q]||this.T()),!window.ResizeObserver&&A(this,pt)[pt].autoResize&&n.type==="loadedmetadata"){var o=A(this,j)[j],a=o.offsetHeight,l=o.offsetWidth;A(this,Se)[Se]=l,A(this,xe)[xe]=a,this.R()}A(this,Et)[Et]&&n.type!=="volumechange"||this.dispatchEvent(new et(n.type))}},i.S=function(n){var s=this,r=A(this,re)[re].AdEvent;switch(n.type){case r.Type.LOADED:var o=n.getAd();A(this,ie)[ie]&&A(this,Oe)[Oe].length===0?A(this,ie)[ie]({ad:o,start:function(){s.M(),A(s,ie)[ie]=void 0},startWithoutReset:function(){s.M()}}):A(this,qt)[qt]=o;break;case r.Type.AD_BREAK_READY:this.C(),A(this,ie)[ie]?(A(this,ie)[ie]({ad:A(this,qt)[qt],adBreakTime:n.getAdData().adBreakTime,start:function(){s.M(),A(s,ie)[ie]=void 0},startWithoutReset:function(){s.M()}}),A(this,qt)[qt]=void 0):this.M();break;case r.Type.STARTED:var a=A(this,Ee)[Ee]=n.getAd();a.getAdPodInfo().getAdPosition()>1&&A(this,q)[q].setVolume(A(this,q)[q].getVolume()),A(this,ue)[ue].classList.remove("nonlinear"),this.R(),a.isLinear()?(A(this,se)[se].disable(),A(this,nt)[nt]=a.getDuration(),A(this,it)[it]=0):(A(this,ue)[ue].classList.add("nonlinear"),this.I()),A(this,ue)[ue].style.display="",A(this,qe)[qe]&&(A(this,qe)[qe]=!1,A(this,q)[q].pause());break;case r.Type.ALL_ADS_COMPLETED:if(A(this,We)[We])return;this.isCustomPlaybackUsed()&&A(this,Ee)[Ee]&&A(this,Ee)[Ee].getAdPodInfo().getTimeOffset()!==-1&&this.I(),this.reset();break;case r.Type.CONTENT_PAUSE_REQUESTED:this.C(),A(this,Ee)[Ee]=n.getAd(),A(this,ue)[ue].style.display="",A(this,j)[j].pause(),this.R(),A(this,Ee)[Ee]&&this.A(A(this,Ee)[Ee].getAdPodInfo().getTimeOffset()),A(this,q)[q].setVolume(A(this,j)[j].muted?0:A(this,j)[j].volume),A(this,se)[se].disable(),A(this,nt)[nt]=A(this,Ee)[Ee].getDuration(),A(this,it)[it]=0;break;case r.Type.CONTENT_RESUME_REQUESTED:var l=!!A(this,Ee)[Ee];if(l){var d=A(this,q)[q].getVolume();A(this,j)[j].muted=d===0,A(this,j)[j].volume=A(this,Ut)[Ut]}A(this,We)[We]&&(A(this,j)[j].currentTime=A(this,j)[j].duration+1,A(this,We)[We]=!1),A(this,j)[j].ended?(this.reset(),this.T()):this.C(),l&&(A(this,qe)[qe]=!1,this.I());break;case r.Type.AD_METADATA:this.g(A(this,q)[q].getCuePoints()),A(this,Oe)[Oe].indexOf(0)===-1&&(A(this,ie)[ie]?A(this,ie)[ie]({start:function(){s.I(),A(s,ie)[ie]=void 0},startWithoutReset:function(){s.I()}}):this.I());break;case r.Type.AD_PROGRESS:var p=n.getAdData();A(this,it)[it]=p.currentTime,A(this,nt)[nt]=p.duration;break;case r.Type.LOG:var m=n.getAdData();A(this,ie)[ie]?A(this,ie)[ie]({start:function(){s.I(),A(s,ie)[ie]=void 0},startWithoutReset:function(){s.I()}}):m.adError&&!A(this,Ee)[Ee]&&this.I();break;case r.Type.VOLUME_CHANGED:var h=A(this,q)[q].getVolume();h>0&&(A(this,Ut)[Ut]=h)}},i.l=function(n){this.j(this.B(n))},i.u=function(n){var s=this,r=A(this,re)[re],o=r.AdEvent,a=r.AdErrorEvent.Type.AD_ERROR;window.clearTimeout(A(this,mt)[mt]);var l=A(this,q)[q]=n.getAdsManager(A(this,se)[se],A(this,Lt)[Lt]);Object.keys(o.Type).forEach(function(p){l.addEventListener(o.Type[p],function(m){if(s.S(m),xt[p]){var h=["LOG","AD_PROGRESS"].indexOf(p)>-1;s.dispatchEvent(new et(xt[p],{detail:{ad:m.getAd()||A(s,Ee)[Ee],adData:h?m.getAdData():{}}}))}})}),l.addEventListener(a,function(p){return s.j(s.B(p))});try{var d;l.init(A(this,Se)[Se],A(this,xe)[xe],this.k()),l.setVolume(A(this,j)[j].muted?0:A(this,j)[j].volume),(d=A(this,tt)[tt])==null||d.initialize(),A(this,ie)[ie]||this.M()}catch(p){this.j(new _t(p.message))}},i.M=function(){if(A(this,De)[De]||(this.dispatchEvent(new et(xt.MEDIA_START)),A(this,De)[De]=!0),A(this,q)[q])try{A(this,q)[q].start()}catch(n){this.j(new _t(n.message))}else this.I()},i.T=function(){var n=this;setTimeout(function(){A(n,gt)[gt]=!1,A(n,De)[De]=!1,A(n,We)[We]=!1,n.dispatchEvent(new et(xt.MEDIA_STOP))},1)},i.v=function(n){for(var s,r=function(a,l){var d=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(d)return(d=d.call(a)).next.bind(d);if(Array.isArray(a)||(d=function(m,h){if(m){if(typeof m=="string")return Po(m,h);var u=Object.prototype.toString.call(m).slice(8,-1);return u==="Object"&&m.constructor&&(u=m.constructor.name),u==="Map"||u==="Set"?Array.from(m):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Po(m,h):void 0}}(a))){d&&(a=d);var p=0;return function(){return p>=a.length?{done:!0}:{done:!1,value:a[p++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(n);!(s=r()).done;){var o=s.value;o.contentBoxSize&&o.contentBoxSize.length===1?(A(this,Se)[Se]=o.contentBoxSize[0].inlineSize,A(this,xe)[xe]=o.contentBoxSize[0].blockSize):o.contentBoxSize&&o.contentBoxSize.inlineSize?(A(this,Se)[Se]=o.contentBoxSize.inlineSize,A(this,xe)[xe]=o.contentBoxSize.blockSize):(A(this,Se)[Se]=o.contentRect.width,A(this,xe)[xe]=o.contentRect.height)}this.R()},i.R=function(){if(A(this,pt)[pt].autoResize&&A(this,q)[q]){var n=A(this,Ee)[Ee],s=this.k();n&&!n.isLinear()?n&&(n.getWidth()>A(this,Se)[Se]||n.getHeight()>A(this,xe)[xe]?this.resizeAd(A(this,Se)[Se],A(this,xe)[xe]):(A(this,q)[q].resize(n.getWidth(),n.getHeight()+20,s),A(this,ue)[ue].style.width=n.getWidth()+"px",A(this,ue)[ue].style.height=n.getHeight()+20+"px")):this.resizeAd(A(this,Se)[Se],A(this,xe)[xe])}},i.k=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||A(this,j)[j].webkitDisplayingFullscreen?A(this,re)[re].ViewMode.FULLSCREEN:A(this,re)[re].ViewMode.NORMAL},i.I=function(){var n=this;A(this,ue)[ue].style.display="none",A(this,j)[j].ended||(A(this,se)[se].enable(),A(this,qe)[qe]?(A(this,j)[j].pause(),this.dispatchEvent(new et("pause"))):(this.p().then(function(){}).catch(function(){n.dispatchEvent(new et("pause"))}),this.dispatchEvent(new et("play")),this.dispatchEvent(new et(xt.MEDIA_RESUMED))),A(this,qe)[qe]=!1)},i.B=function(n){var s=n.getError(),r=new _t(s.getMessage());return r.type=s.getType(),r.errorCode=s.getErrorCode(),r.vastErrorCode=s.getVastErrorCode&&s.getVastErrorCode(),r.innerError=s.getInnerError(),r},i.j=function(n){var s=this;this.dispatchEvent(new et(xt.AD_ERROR,{detail:{error:n}})),this.C(),A(this,ie)[ie]?A(this,ie)[ie]({start:function(){s.I(),A(s,ie)[ie]=void 0},startWithoutReset:function(){s.I()}}):this.I()},Do(e,[{key:"volume",get:function(){return!A(this,se)[se].enabled&&A(this,q)[q]?A(this,q)[q].getVolume():A(this,j)[j].volume},set:function(n){!A(this,se)[se].enabled&&A(this,q)[q]&&A(this,q)[q].setVolume(n),A(this,j)[j].volume=n}},{key:"muted",get:function(){return!A(this,se)[se].enabled&&A(this,q)[q]?A(this,q)[q].getVolume()===0:A(this,j)[j].muted},set:function(n){!A(this,se)[se].enabled&&A(this,q)[q]&&A(this,q)[q].setVolume(n?0:A(this,Ut)[Ut]),A(this,j)[j].muted=n}},{key:"currentTime",get:function(){return A(this,it)[it]!==void 0?A(this,it)[it]:A(this,j)[j].currentTime},set:function(n){A(this,se)[se].enabled&&(A(this,j)[j].currentTime=n)}},{key:"duration",get:function(){return A(this,nt)[nt]!==void 0?A(this,nt)[nt]:A(this,j)[j].duration}},{key:"cuePoints",get:function(){return[].concat(A(this,Oe)[Oe])}}]),e}(Ad)});var jo=H((cp,Mo)=>{zo();Mo.exports=class{constructor(e,i,n,s){this.utils=e,this.config=this.utils.config,this.hb_config=this.utils.config.services.header_bidding,this.adDiv=i,this.size=n,this.bid=s,this.vastUrl=this.bid.vastUrl||null,this.vastXml=this.bid.vastXml||null,this.mediaElement=null,this.adContainer=null,this.controlsContainer=null,this.volumeButton=null}run(){this.styles(),this.html(),this.play()}play(){Ro().then(()=>{window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE),window.google.ima.settings.setNumRedirects(3);let e=new window.google.ima.AdsRenderingSettings;e.loadVideoTimeout=1e4,e.useStyledLinearAds=!1,e.useStyledNonLinearAds=!1;let i=new Kn;this.player=new Bo(window.google.ima,this.mediaElement,this.adContainer,e,i),this.player.addEventListener("AdError",s=>{this.handleAdError(s.detail.error)}),this.player.addEventListener("AdImpression",s=>{this.handleAdImpression()}),this.player.addEventListener("AdClick",s=>{this.handleVideoEvents("click",s.detail)}),this.player.addEventListener("AdFirstQuartile",s=>{this.handleVideoEvents("first_quartile",s.detail)}),this.player.addEventListener("AdMidpoint",s=>{this.handleVideoEvents("midpoint",s.detail)}),this.player.addEventListener("AdThirdQuartile",s=>{this.handleVideoEvents("third_quartile",s.detail)}),this.player.addEventListener("AdComplete",s=>{this.handleAdEnd()}),this.controlsMute(),this.mediaElement.muted=!0,this.mediaElement.volume=0;let n=new window.google.ima.AdsRequest;n.vastLoadTimeout=1e4,this.vastUrl?n.adTagUrl=this.vastUrl:this.vastXml&&(n.adsResponse=this.vastXml),this.player.playAds(n),this.controlsContainer&&window.getComputedStyle(this.controlsContainer).display==="none"&&this.controlsContainer.setAttribute("style","display:block !important")})}handleLoaded(e){try{e.data.B.vpaid||(this.playerState=!0,setTimeout(()=>{this.playerState&&(this.visible?this.player.play():this.player.pause())},1e3))}catch{this.playerState=!0,setTimeout(()=>{this.playerState&&(this.visible?this.player.play():this.player.pause())},1e3)}this.resizeAd()}resizeAd(){if(this.bid.width<=this.size.width)return;let e=this.bid.height/this.bid.width;this.size.height=Math.floor(this.size.width*e),this.player.resize(this.size.width,this.size.height)}handleAdPlay(){this.controlsMute(),this.player.setVolume(0)}handleAdImpression(){if(this.utils.window.OCM?.vidimps&&this.utils.window.OCM.vidimps[this.bid.auctionId]){let e=this.utils.window.OCM.vidimps[this.bid.auctionId];fetch("https://windrunner.orangeclickmedia.com/pba-update",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e)}).then(i=>{}).catch(i=>{console.error(i)})}}handleVideoEvents(e,i){if(this.utils.window.OCM?.vidimps&&this.utils.window.OCM.vidimps[this.bid.auctionId]){let n=this.utils.window.OCM.vidimps[this.bid.auctionId],s={eventName:e,adUnit:n.data.adUnit,auctionId:n.data.auctionId};fetch("https://windrunner.orangeclickmedia.com/pba-video",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(s)}).then(r=>{r.json().then(o=>{})}).catch(r=>{console.error(r)})}}handleAdEnd(){this.player.destroy(),this.videoContainer.style.height=0,setTimeout(()=>{this.videoContainer.remove()},500),this.refreshAd()}handleAdError(e){console.error(e),this.refreshAd()}refreshAd(){if(this.hb_config.functionality!=="no_adserver")if(this.hb_config.functionality.includes("lazyload"))this.resetLazyLoadForAdDiv();else{let e=this.utils.window.googletag.pubads().getSlots().filter(i=>i.getSlotElementId()===this.adDiv.id);e.length&&this.utils.window.googletag.pubads().refresh(e)}}resetLazyLoadForAdDiv(){this.adDiv.removeAttribute("data-lazyloaded-by-ocm"),this.adDiv.removeAttribute("data-oau-code")}styles(){this.utils.loadStyle(`
        .ocmVideoContainer {
           display:block; margin:0 auto; width:100%; transition: height 1s, transform 1s;
        }
        .ocmAdContainer {
            position:absolute;
            left:0px;
            top:0px;
            z-index:100;
        }
        .ocmAdControls {
        	display:none;
        	width:0px;
        	height:auto;
        	position: absolute;
        	left:0px;
        	top:0px;
        	z-index:101;
        }
        /*.ocmAdPlay, */
        .ocmAdVolume {
        	position:absolute;
        	top:10px;
        	width:32px;
        	height:32px;
        	cursor: pointer;
        	border-radius:50%;
        	background-color: rgb(223 129 0 / 85%);
        	background-origin:border-box;
        	background-position:center center;
        	background-repeat: no-repeat;
        	background-size:20px;
        }
        .ocmAdLabel {
        	position:absolute;
        	top:16px;
        	left:50px;
        	width:16px;
        	height:16px;
        	font-size:12px;
        	color:#000;
        	text-shadow:1px 1px 0px rgba(255, 255, 255, 0.6)
        }
        .scaled {
            transform: scale(0.8) !important;        
        }
        .ocmAdLabel.scaled {
            left: 46px !important;
        }
        .ocmAdVolume {
        	left:10px;
        }
        /*
        .ocmAdPlay {
    		left:10px;
        }
        .ocmAdPlay.playing {
        	background-image:url('//cdn.orangeclickmedia.com/assets/outstream-player/pause.png');
        }
        .ocmAdPlay.paused {
        	background-position: 9px 6px;
		    background-size: 18px;
        	background-image:url('//cdn.orangeclickmedia.com/assets/outstream-player/play.png');
        }
        */
        .ocmAdVolume.unmuted {
        	background-image:url('//cdn.orangeclickmedia.com/assets/outstream-player/mute.png');
        }
        .ocmAdVolume.muted {
        	background-position: 9px 9px;
        	background-image:url('//cdn.orangeclickmedia.com/assets/outstream-player/unmute.png');
        }
        `)}html(){let e=`<div id="ocmVideo-${this.adDiv.id}" class="ocmVideoContainer">
              <video id="ocmMediaElement-${this.adDiv.id}" style="width:100%; height:100%;" autoplay webkit-playsinline="true" playsinline="true" muted="true" preload="none">
              </video>
              <div id="ocmAdContainer-${this.adDiv.id}" class="ocmAdContainer"></div>
              <div class="ocmAdControls">
                <div class="ocmAdLabel">Ad</div>
                <div class="ocmAdPlay"></div>
                <div class="ocmAdVolume"></div>
                <div class="ocmAdReplay"></div>
              </div>
            </div>`;this.adDiv.insertAdjacentHTML("afterbegin",e),this.videoContainer=document.getElementById(`ocmVideo-${this.adDiv.id}`),this.mediaElement=document.getElementById(`ocmMediaElement-${this.adDiv.id}`),this.adContainer=document.getElementById(`ocmAdContainer-${this.adDiv.id}`),this.controlsContainer=document.querySelector(`#ocmVideo-${this.adDiv.id} .ocmAdControls`),this.volumeButton=document.querySelector(`#ocmVideo-${this.adDiv.id} .ocmAdControls .ocmAdVolume`),this.size.width===300&&(this.controlsContainer.classList.add("scaled"),this.volumeButton.classList.add("scaled")),this.elementListeners()}elementListeners(){this.volumeButton.addEventListener("click",e=>{this.volumeState?(this.controlsMute(),this.player.volume=0):(this.controlsUnMute(),this.player.volume=.2)})}controlsMute(){this.volumeState=!1,this.player.volume=0,this.volumeButton.classList.remove("unmuted"),this.volumeButton.classList.add("muted")}controlsUnMute(){this.volumeState=!0,this.player.volume=.1,this.volumeButton.classList.remove("muted"),this.volumeButton.classList.add("unmuted")}}});var zi=H((fp,Lo)=>{var K="header_bidding",Id=["Article","article","news_article","Recipe","Teen Article"],Cd="https://windrunner.orangeclickmedia.com/insert",Fd=jo();Lo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.hb_config=this.config.services.header_bidding,this.analytics_adapters=[],this.viewedBids=[],this.mode=this.hb_config.functionality,this.endedEvent=new Event("ocm-header_bidding-ended")}run(){return new Promise(async(e,i)=>{if(performance.mark("header_bidding_start"),this.utils.window.OCM.s?.header_bidding)return e({name:K});if(this.hasS2sEnabled=Math.random()<=.5&&this.hb_config.bidders.some(n=>!!n.s2s),!this.config.services.lazyload.active){switch(this.hb_config.functionality){case"lazyload":this.hb_config.functionality="adserver";break;case"no_adserver":this.hb_config.functionality="no_adserver";break;default:this.hb_config.functionality="adserver"}this.mode=this.hb_config.functionality}if(!this.utils.allowedPageType(this.hb_config.page_types))return this.utils.log.warn(K,"Header Bidding is not allowed on this page type"),this.utils.window.dispatchEvent(this.endedEvent),e({name:K});await this.ocmpbjsInit(),this.prebidEventListeners(),await this.loadPrebidLibrary().catch(n=>(this.initAdServer([],!1),this.utils.window.dispatchEvent(this.endedEvent),i({name:K,message:n}))),this.loadAdformCookie(),this.prepare(this.config.services.lazyload.active).then(()=>(this.utils.window.dispatchEvent(this.endedEvent),e({name:K}))).catch(n=>(this.utils.window.dispatchEvent(this.endedEvent),i({name:K,message:n})))})}prepare(e){return new Promise(async(i,n)=>{if(e=typeof e>"u"?!1:e,this.hb_config.bidderTimeout===1)return this.utils.log.warn(K,"Timeout was set to 1ms, terminating process."),i();this.adjustBidderTimeout(e),this.buildAdUnits().then(()=>{this.utils.window.OCM.adBlocked||this.setupAnalytics(),this.utils.window.ocmpbjs?.adUnits?.length&&this.utils.window.OCM.s&&!this.utils.window.OCM.s.ocm_gone_mad_preview&&this.utils.contentLoaded().then(()=>{this.injectHbOnlyDivs()});try{this.configure()}catch(s){this.utils.log.error(K,s,"Configuring HB settings failed")}return this.mode!=="no_adserver"&&this.gptEventListeners(),i()}).catch(s=>n(s))})}buildAdUnits(){return new Promise((e,i)=>{this.utils.log.info(K,"Building ocmpbjs.adUnits...");try{let n=[];try{n=[...this.utils.window.ocmpbjs.adUnits]}catch{}let s=this.hb_config.adUnits.map(o=>{this.utils.log.info(K,`--=== START of processing ad unit ${o.code} ===--`);let a=!0,l=!0,d=!0;if(a=this.filterAdUnitByPageType(o),l=this.filterAdUnitByDevice(o),d=l&&a,d){if(o=this.jsonifyAd(o),o=this.removeInactiveBidderBids(o),!o)return this.utils.log.warn(K,"--=== (removeInactiveBidderBids) END of processing ad unit ===--"),null;if(o=this.removeNullBidParams(o),o=this.hbSizeMap(o),!o)return this.utils.log.warn(K,"--=== (hbSizeMap) END of processing ad unit ===--"),null;o=this.removeBadBidSizes(o),this.utils.window.OCM?.geo?.country&&(o=this.geoFilter(o)),o=this.buildMediaTypes(o),o=this.setupRefreshSettings(o),o.hb_only=!!o.hb_only,o.hb_only&&(o=this.setupGpid(o))}else this.utils.log.info(K,`--=== END of processing ad unit ${o.code} ===--`),o=null;return o&&this.utils.log.info(K,`--=== END of processing ad unit ${o.code} ===--`),o}).filter(o=>o!=null),r=[...new Set([...n,...s])];this.utils.window.ocmpbjs.que.push(()=>(r.length?this.utils.window.ocmpbjs.addAdUnits(r):this.utils.window.ocmpbjs.adUnits=[],e()))}catch(n){return i(n)}})}configure(){this.sendViewabilityEvent(),this.utils.window.ocmpbjs.que.push(()=>{(typeof this.config.uses_cmp>"u"||this.config.uses_cmp)&&this.utils.window.ocmpbjs.setConfig({consentManagement:{gdpr:{cmpApi:"iab",timeout:this.hb_config.bidderTimeout+2e4,defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["ocmpba","sharedId"]},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["adsquirrel"]},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["ocmpba","adsquirrel"]},{purpose:"reportAnalytics",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["ocmpba"]}]}}}),this.hasS2sEnabled&&this.handleS2SConfig(),this.utils.window.ocmpbjs.setConfig({paapi:{enabled:!0,defaultForSlots:1},realTimeData:{auctionDelay:this.utils.window.ocmpbjs?.adUnits.length===1&&this.utils.window.ocmpbjs.adUnits[0].code==="ocm-gone-mad"?1500:700,dataProviders:this.utils.config.services.reaper.language!=="en"?[{name:"adsquirrel",waitForIt:!0,params:{}}]:[]},enableTIDs:!0,bidViewabilityIO:{enabled:!0},auctionOptions:{suppressStaleRender:!0},targetingControls:{alwaysIncludeDeals:!0,addTargetingKeys:["ocm_hb_deal","ocm_hb_size","ocm_hb_cpm","ocm_hb_auction","ocm_hb_advertiser","ocm_hb_bidder","ocm_hb_pb","ocm_hb_format","ocm_hb_adid","ocm_hb_source","ocm_hb_sf"]},floors:{enforcement:{floorDeals:!1,bidAdjustment:!0},data:{currency:this.hb_config.adServerCurrency,schema:{delimiter:"|",fields:["adUnitCode","mediaType"]},values:{"ocm-interstitial|banner":this.utils.config.services?.ocm_interstitial?.active?this.utils.is_mobile?this.utils.config.services.ocm_interstitial.mobile.price_floor:this.utils.config.services.ocm_interstitial.desktop.price_floor:.05,"ocm-interstitial|video":this.utils.config.services?.ocm_interstitial?.active?this.utils.is_mobile&&this.utils.config.services?.ocm_interstitial?.active?this.utils.config.services.ocm_interstitial.mobile.price_floor:this.utils.config.services.ocm_interstitial.desktop.price_floor:.25,"ocm-interstitial|native":this.utils.config.services?.ocm_interstitial?.active?this.utils.is_mobile&&this.utils.config.services?.ocm_interstitial?.active?this.utils.config.services.ocm_interstitial.mobile.price_floor:this.utils.config.services.ocm_interstitial.desktop.price_floor:.1,"*|banner":.05,"*|video":.25,"*|native":.1}}},ortb2:{badv:this.utils.config.badv||[],device:{geo:{},ext:{data:{}}},site:{inventorypartnerdomain:"orangeclickmedia.com",ext:{data:{hostname:this.utils.hostname.replace("www.",""),rmf_approved:this.utils.config.services.header_bidding.rmf_approved||[]}},content:{},cat:[],publisher:{domain:this.utils.hostname.replace("www.","")}},user:{ext:{data:{}},geo:{}}},firstPartyData:{skipEnrichments:!1},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},priceGranularity:{buckets:[{precision:2,min:.01,max:10,increment:.01},{precision:2,max:20,increment:.1},{precision:2,max:50,increment:.5}]},gptPreAuction:{enabled:!0,useDefaultPreAuction:!0},schain:{validation:"off",config:{ver:"1.0",complete:1,nodes:[{asi:"orangeclickmedia.com",sid:this.config.seller_id,hp:1}]}},currency:{adServerCurrency:this.hb_config.adServerCurrency,conversionRateFile:"https://cdn.orangeclickmedia.com/tech/libs/latest_currencies.txt",defaultRates:{EUR:{AED:3.910817,AFN:84.894456,ALL:107.055056,AMD:413.808926,ANG:1.935814,AOA:881.072944,ARS:372.591364,AUD:1.646941,AWG:1.919208,AZN:1.807316,BAM:1.956531,BBD:2.168715,BDT:117.86401,BGN:1.957687,BHD:.401352,BIF:3042.621899,BMD:1.064748,BND:1.461279,BOB:7.421817,BRL:5.184894,BSD:1.074052,BTC:40030548e-12,BTN:89.133502,BWP:14.61379,BYN:2.711069,BYR:20869.052451,BZD:2.164993,CAD:1.437393,CDF:2629.926215,CHF:.953586,CLF:.034314,CLP:946.81573,CNY:7.630087,COP:4173.01193,CRC:572.599852,CUC:1.064748,CUP:28.215811,CVE:110.321736,CZK:24.548287,DJF:191.238349,DKK:7.456109,DOP:60.971929,DZD:146.5753,EGP:32.945315,ERN:15.971214,ETB:59.379353,FJD:2.40899,FKP:.852689,GBP:.857154,GEL:2.798147,GGP:.852689,GHS:12.335344,GIP:.852689,GMD:64.41333,GNF:9220.915298,GTQ:8.453268,GYD:224.715566,HKD:8.333391,HNL:26.464107,HRK:7.468894,HTG:145.53758,HUF:384.59713,IDR:16360.006187,ILS:4.070828,IMP:.852689,INR:88.437826,IQD:1406.610175,IRR:44998.893087,ISK:145.295917,JEP:.852689,JMD:165.94846,JOD:.754055,JPY:157.011405,KES:156.196944,KGS:94.41479,KHR:4405.348314,KMF:493.08561,KPW:958.274829,KRW:1413.276748,KWD:.328964,KYD:.895052,KZT:500.462676,LAK:21368.78876,LBP:16062.338222,LKR:347.46543,LRD:198.504247,LSL:20.283725,LTL:3.143923,LVL:.644056,LYD:5.21068,MAD:10.906609,MDL:19.29074,MGA:4857.543739,MKD:61.531041,MMK:2255.55998,MNT:3702.293959,MOP:8.659572,MRO:380.114701,MUR:47.696163,MVR:16.40762,MWK:1170.613012,MXN:18.202284,MYR:4.98142,MZN:67.34523,NAD:20.283568,NGN:818.460413,NIO:39.301319,NOK:11.416378,NPR:142.618024,NZD:1.796133,OMR:.409911,PAB:1.074042,PEN:3.973384,PGK:3.946066,PHP:60.583601,PKR:319.806569,PLN:4.633989,PYG:7819.021134,QAR:3.876718,RON:4.970454,RSD:117.281535,RUB:101.682601,RWF:1287.786467,SAR:3.993773,SBD:8.94888,SCR:13.727802,SDG:640.004824,SEK:11.892751,SGD:1.450218,SHP:1.295531,SLE:23.682072,SLL:21028.764683,SOS:605.287384,SRD:40.737446,STD:22038.125066,SSP:639.913082,SYP:13843.498701,SZL:20.286433,THB:38.085492,TJS:11.793855,TMT:3.726617,TND:3.359295,TOP:2.546504,TRY:28.694091,TTD:7.290681,TWD:34.020779,TZS:2667.013813,UAH:39.670474,UGX:4001.057648,USD:1.064748,UYU:41.100751,UZS:13054.591054,VEF:3544567605004e-6,VES:35.632779,VND:25825.452408,VUV:129.731959,WST:2.928959,XAF:656.306851,XAG:.04655,XAU:556e-6,XCD:2.877533,XDR:.812826,XOF:656.294516,XPF:119.89017,YER:266.56004,ZAR:20.247877,ZMK:9584.016189,ZMW:22.04513,ZWL:342.848284}}},userSync:{syncsPerBidder:5,auctionDelay:700,filterSettings:{iframe:{bidders:"*",filter:"include"}},userIds:[{name:"lotamePanoramaId",params:{clientId:"17623"}},{name:"identityLink",params:{pid:"1258"},storage:{type:"html5",name:"idl_env",expires:90,refreshInSeconds:8*3600}},{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=pubmatic&fmt=json",type:"html5",name:"_unifiedid",expires:30}},{name:"criteo"},{name:"id5Id",params:{partner:347},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"sharedId",storage:{type:"html5",name:"_pubcid",expires:365}}],aliasSyncEnabled:!0},maxRequestsPerOrigin:4,bidderTimeout:Number(this.hb_config.bidderTimeout),timeoutBuffer:400,useBidCache:!0,suppressEmptyKeys:!0,enableSendAllBids:!1,pageUrl:this.utils.window.location.protocol+"//"+this.utils.window.location.hostname+this.utils.window.location.pathname,ix:{timeout:Number(this.hb_config.bidderTimeout)},rubicon:{singleRequest:!0},amazon:{sid:this.hb_config.amazon_sid},outbrain:{bidderUrl:"https://b1h.outbrain.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1sync.outbrain.com/usersync/prebid"}});let e=[{bidder:"pubmatic",domain:"pubmatic.com",id:"157884"},{bidder:"appnexus",domain:"xandr.com",id:"14808"},{bidder:"teads",domain:"teads.tv",id:"26771"},{bidder:"gumgum",domain:"gumgum.com",id:"14064"},{bidder:"medianet",domain:"media.net",id:"8CU32RQ72"},{bidder:"triplelift",domain:"triplelift.com",id:"9262"}];if(window.OCM?.notOwnedBidders){let i=null;try{window.OCM.notOwnedBidders.forEach(n=>{let s=e.findIndex(r=>r.bidder===n.bidder);s&&(delete e[s],e=e.filter(r=>r)),i={bidders:[n.bidder],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:`${n.domain}`,sid:`${n.id}`,hp:1}]}}}},this.utils.window.ocmpbjs.setBidderConfig(i)})}catch(n){this.utils.log.error(K,n,"Error while setting custom schain config")}}e.forEach(i=>{let n=i.bidder==="appnexus"?{bidders:[i.bidder],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"adops.gr",sid:this.config.adops_seller_id,hp:1}]}}}}:{bidders:[i.bidder],config:{schain:{validation:"relaxed",config:{ver:"1.0",complete:1,nodes:[this.config.schain.config.nodes[0],{asi:`${i.domain}`,sid:`${i.id}`,hp:1}]}}}};this.utils.window.ocmpbjs.setBidderConfig(n)}),this.utils.window.ocmpbjs.bidderSettings=this.setupBidderSettings(this.hb_config.custom_granularity),this.analytics_adapters.length&&!this.utils.window.OCM.adBlocked&&this.utils.window.ocmpbjs.enableAnalytics(this.analytics_adapters)}),this.resize1x1Impressions(),this.utils.config.services.reaper.active&&this.utils.window.OCM.s?.is_gordon_with_us&&this.addUserIdsToReaperAndSend(),typeof this.utils.window.ocmpbjs.getUserIdsAsync=="function"&&this.utils.window.ocmpbjs.getUserIdsAsync().then(()=>{this.utils.window.googletag.cmd.push(()=>{let e=this.utils.window.ocmpbjs.getUserIdsAsEids().filter(i=>i.source==="crwdcntrl.net")[0]?.uids[0]?.id;e&&this.utils.window.googletag.pubads().setPublisherProvidedId(e)})}),this.mode.includes("lazyload")?this.utils.window.ocmpbjs?.adUnits?.length&&this.utils.window.OCM.s&&!this.utils.window.OCM.s.ocm_gone_mad_preview?this.utils.waitFor("ADSQ.response",()=>{this.hbOnlyAuction()},100,()=>{this.hbOnlyAuction()}):(this.utils.log.warn(K,"LL is active and am trying to run hbOnlyAuctions, but one of the below was false:"),this.utils.log.warn(K,"ocmpbjs.adUnits.length",this.utils.window?.ocmpbjs?.adUnits?.length),this.utils.log.warn(K,"window.OCM.s",this.utils.window?.OCM?.s)):this.utils.window.ocmpbjs.que.push(()=>{this.utils.log.info(K,"Added this.hb_config.adUnits to prebid",this.utils.window.ocmpbjs.adUnits);let e=this.utils.window.ocmpbjs.adUnits.map(i=>["ocm-interstitial","ocm-storyteller"].includes(i.code)?null:i.code).filter(i=>i);if(this.mode==="no_adserver")e.length&&this.utils.window.ocmpbjs.requestBids({adUnitCodes:e,bidsBackHandler:(i,n,s)=>{this.utils.log.info(K,"no_adserver bidResponses",i),!(typeof i>"u")&&(Object.keys(i).forEach(r=>{i[r].bids=i[r].bids.filter(o=>o.statusMessage!=="bidRejected"&&o.status!=="bidRejected")}),Object.keys(i).forEach(r=>{i[r].bids.length||delete i[r]}),Object.keys(i).length>0&&this.directRenderBids(i))}});else{let i=[];this.utils.window.googletag.cmd.push(()=>{i=this.utils.window.googletag.pubads().getSlots().map(s=>s.getAdUnitPath());let n=this.utils.window.ocmpbjs.adUnits.map(s=>s.hb_only?null:s.code).filter(s=>s);this.utils.window.ocmpbjs.requestBids({adUnitCodes:n,bidsBackHandler:(s,r,o)=>{this.initAdServer([],!1)}})}),this.utils.window.OCM.s&&!this.utils.window.OCM.s.ocm_gone_mad_preview&&this.utils.waitFor("ADSQ.response",()=>{this.hbOnlyAuction()},100,()=>{this.hbOnlyAuction()})}})}sendViewabilityEvent(){this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("bidViewable",e=>{if(this.viewedBids.includes(e.adId))return;this.viewedBids.push(e.adId),this.utils.log.info(K,"bidViewable",e);let i={eventName:"bidViewable",adUnit:e.adUnitCode.toLowerCase(),auctionId:e.auctionId};fetch("https://windrunner.orangeclickmedia.com/pba-viewability",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(i)}).then(n=>{}).catch(n=>{!["Failed to fetch","NetworkError when attempting to fetch resource","Load failed"].includes(n.message)&&this.utils.shouldLogError&&this.utils.log.error(K,n,"Unable to send HB viewability event to Jaina")})})})}hbOnlyAuction(){let i=[...this.utils.window.ocmpbjs.adUnits].filter(n=>!!n.hb_only&&!["ocm-interstitial","ocm-storyteller"].includes(n.code));i.length&&(this.utils.log.info(K,"Running request bids for hb only ad units",i),this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.requestBids({adUnitCodes:i.map(n=>n.code),bidsBackHandler:(n,s,r)=>{this.utils.log.info(K,"hb_only bid responses: ",n," timeout: ",s," auctionId: ",r),!(typeof n>"u")&&(this.utils.log.info(K,"hb_only bid responses: ",n," timeout: ",s," auctionId: ",r),Object.keys(n).forEach(o=>{n[o].bids=n[o].bids.filter(a=>a.statusMessage!=="bidRejected"&&a.status!=="bidRejected")}),Object.keys(n).forEach(o=>{n[o].bids.length||delete n[o]}),Object.keys(n).length>0&&this.directRenderBids(n))}})}))}injectHbOnlyDivs(){let i=[...this.utils.window.ocmpbjs.adUnits].filter(n=>!!n.hb_only);if(!(i&&i.length===0)){this.utils.log.info(K,"Injecting divs for hb only ad units");for(let n of i){if(["ocm-interstitial","ocm-storyteller","ocm-sticky-fullscreen"].includes(n.code))continue;if(!this.utils.window.document.getElementById(n.code)){let r=this.utils.window.document.createElement("div");r.id=n.code,this.utils.doc_body.append(r)}}}}addUserIdsToReaperAndSend(){let e=null;e=this.utils.reaper_data,e&&typeof this.utils.window.ocmpbjs.getUserIdsAsync=="function"&&this.utils.window.ocmpbjs.getUserIdsAsync().then(()=>{e.eids=JSON.stringify(this.utils.window.ocmpbjs.getUserIdsAsEids()),e.eids=e.eids==="null"?"":e.eids,e.ip=this.utils.window.OCM?.geo?.ip||"",this.sendReaperData(e)})}sendReaperData(e){let i=new XMLHttpRequest;i.open("POST",Cd),i.setRequestHeader("Content-Type","text/plain"),i.send(JSON.stringify(e)),i.onerror=()=>{}}initAdServer(e,i=!1){if(i){this.utils.log.info(K,"Calling initAdServer with slots:",e.map(s=>s.getAdUnitPath()));let n=[];for(let s of e){let r=this.utils.window.document.querySelector('[id="'+s.getSlotElementId()+'"]');r&&(r.removeAttribute("data-lazyincluded-by-ocm"),r.setAttribute("data-lazyloaded-by-ocm",""),n.push(s.getAdUnitPath()))}typeof e<"u"&&e.length&&this.utils.window.googletag.cmd.push(()=>{this.utils.window.ocmpbjs.que.push(()=>{try{this.utils.window.ocmpbjs.setTargetingForGPTAsync(n),this.utils.window.googletag.pubads().refresh(e,{changeCorrelator:this.config.change_correlator!==void 0?this.config.change_correlator:!0})}catch(s){this.utils.log.error(K,s,"Error calling initAdServer")}})})}else this.utils.log.info(K,"Calling initAdServer for all slots"),this.utils.window.googletag.cmd.push(()=>{this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.setTargetingForGPTAsync(),this.utils.window.googletag.pubads().refresh(),this.utils.window.OCM.init_ad_server_set=!0})})}directRenderBids(e){for(let i in e){this.utils.log.info(K,"Found bid for #"+i);let n=this.getDivFromGptSlot(i),s=this.utils.window.document.getElementById(n);if(s){this.utils.log.info(K,"Ad div = ",s);let r=this.utils.window.document.createElement("iframe");r.setAttribute("id",n+"_ocm_hb"),r.setAttribute("style","border:0; overflow:hidden; margin:0px auto;display:block;"),r.width="1",r.height="1",r.setAttribute("frameborder","0"),r.setAttribute("marginheight","0"),r.setAttribute("marginwidth","0"),r.setAttribute("scrolling","no"),r.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation-by-user-activation");let o=this.utils.window.ocmpbjs.getAdserverTargetingForAdUnitCode(n);if(Object.keys(o).length||(o=this.utils.window.ocmpbjs.getAdserverTargetingForAdUnitCode(i)),this.utils.log.info(K,"adServerTargeting",o),o&&o.hb_adid){this.utils.log.info(K,"Rendering ad for "+n),s.querySelectorAll("script, div, iframe, ins").forEach(p=>p.remove()),s.append(r);let l=r.contentDocument||r.contentWindow.document,d=r.contentWindow;if(o.hb_format==="native"){let p=l.createElement("script");p.src="https://cdn.orangeclickmedia.com/tech/libs/pbc/native.js",l.head.appendChild(p),p.onload=()=>{d.pbNativeData={},d.pbNativeData.pubUrl=this.utils.window.location.hostname,d.pbNativeData.adId=o.hb_adid,d.pbNativeData.requestAllAssets=!0,d.ucTag.renderAd(l,d.pbNativeData)}}else this.utils.window.ocmpbjs.renderAd(l,o.hb_adid);setTimeout(()=>{l.body&&(l.body.insertAdjacentHTML("afterbegin","<style>body {margin:0px !important}</style>"),l.body.style.margin="0px !important")},10),s.setAttribute("style","display:block;overflow:hidden;margin:0 auto;")}}else this.utils.log.info(K,"Ad div #"+n+" not found")}}getDivFromGptSlot(e){try{if(!!this.hb_config.adUnits.filter(n=>n.code===e&&n.hb_only).length){if(this.utils.window.document.querySelectorAll(`div[id="${e}"]`))return e}else{let n=this.utils.window.googletag.pubads().getSlots().filter(s=>s.getAdUnitPath()===e);if(n.length)return n[0].getSlotElementId()}}catch(i){this.utils.log.error(K,i,"Error while getting div from GPT slot")}return e}resize1x1Impressions(){this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("bidWon",e=>{if(e.mediaType==="banner"){let i=this.utils.window.googletag.pubads().getSlots().find(r=>r.getAdUnitPath()===e.adUnitCode&&r.getTargeting("hb_adid")[0]===e.adId);if(!i)return;let n=this.utils.window.document.querySelector(`div[id^="google_ads_iframe_${i.getSlotId().getId().replace(/(\.|\/)/g,"\\$1")}"]`);n&&(n.style.height=`${e.height}px !important`,n.style.width=`${e.width}px !important`);let s=this.utils.window.document.getElementById(i.getSlotElementId());if(s&&s.id.includes("ocm_sticky")){let o=s.parentNode.parentNode,a=o.parentNode;if(a.classList.contains("left")||a.classList.contains("right")){let l=document.createElement("div");l.classList.add("ocm-close-icon-container");let d=document.createElement("span");d.classList.add("ocm-button-close"),this.utils.is_mobile||(l.addEventListener("mouseenter",()=>{d.classList.add("ocm-button-close-hover")}),l.addEventListener("mouseleave",()=>{d.classList.remove("ocm-button-close-hover")})),a.setAttribute("style","width:300px !important"),setTimeout(()=>{o&&o.childNodes&&Array.from(o.childNodes).find(h=>h.className==="ocm-close-icon-container")||(l.append(d),o.append(l))},5e3),o&&o.childNodes&&Array.from(o.childNodes).find(m=>m.className==="ocm-close-icon-container")||(l.append(d),o.append(l)),d.addEventListener("click",m=>{a.classList.contains("left")?a.style.marginLeft="-"+String(e.width)+"px":a.classList.contains("right")&&(a.style.marginRight="-"+String(e.height)+"px"),setTimeout(()=>{a.remove()},500),m.stopPropagation()})}}}})})}setupBidderSettings(e){this.utils.log.info(K,"Setting up adserverTargeting & bidder settings");let i={standard:{suppressEmptyKeys:!0,adserverTargeting:[{key:"adlds",val:o=>this.hb_config.hasOwnProperty("adelaideEnabled")&&this.hb_config.adelaideEnabled?"true":"false"},{key:"hb_auction",val:o=>o.auctionId},{key:"hb_advertiser",val:o=>o.meta.hasOwnProperty("advertiserDomains")&&o.meta.advertiserDomains.length?o.meta.advertiserDomains.map(a=>a.replace("www.","")):""},{key:"infi_article_count",val:o=>this.utils.window.OCM?.infi_article_count.toString()},{key:"hb_bidder",val:o=>o.bidderCode},{key:"hb_adid",val:o=>o.adId},{key:"hb_pb",val:o=>(typeof this.hb_config.currencyMultiplier>"u"&&(this.hb_config.currencyMultiplier=1),e?o.pbCg=(o.pbCg*this.hb_config.currencyMultiplier).toFixed(2):o.pbHg=(o.pbHg*this.hb_config.currencyMultiplier).toFixed(2),e?o.pbCg:o.pbHg)},{key:"hb_size",val:o=>o.getSize()},{key:"hb_format",val:o=>o.mediaType},{key:"hb_cpm",val:o=>o.cpm},{key:"hb_deal",val:o=>o.dealId},{key:"hb_sf",val:o=>"false"},{key:"hb_cache_id",val:o=>o.videoCacheKey},{key:"hb_uuid",val:o=>o.videoCacheKey},{key:"ocm_hb_size",val:o=>o.getSize()},{key:"ocm_hb_cpm",val:o=>o.cpm},{key:"ocm_hb_deal",val:o=>o.dealId},{key:"ocm_hb_auction",val:o=>o.auctionId},{key:"ocm_hb_advertiser",val:o=>o.meta.hasOwnProperty("advertiserDomains")&&o.meta.advertiserDomains.length?o.meta.advertiserDomains.map(a=>a.replace("www.","")):""},{key:"ocm_hb_bidder",val:o=>o.bidderCode},{key:"ocm_hb_adid",val:o=>o.adId},{key:"ocm_hb_pb",val:o=>(typeof this.hb_config.currencyMultiplier>"u"&&(this.hb_config.currencyMultiplier=1),e?o.pbCg=(o.pbCg*this.hb_config.currencyMultiplier).toFixed(2):o.pbHg=(o.pbHg*this.hb_config.currencyMultiplier).toFixed(2),e?o.pbCg:o.pbHg)},{key:"ocm_hb_format",val:o=>o.mediaType},{key:"ocm_hb_source",val:o=>o.source},{key:"ocm_hb_sf",val:o=>"false"},{key:"ocm_hb_cache_id",val:o=>o.videoCacheKey},{key:"ocm_hb_deal",val:o=>o.dealId}]}},n,s=1,r="";if(typeof this.hb_config.bidders<"u")for(n=0;n<this.hb_config.bidders.length;n++)s=parseFloat(this.hb_config.bidders[n].bid_cpm_adjust),r=this.hb_config.bidders[n].name,i[this.hb_config.bidders[n].name]={storageAllowed:!0,bidCpmAdjustment:(o,a)=>{if(Object.keys(a).length===1)return o;let l=o;switch(a.bidderCode){case"equativ":a.netRevenue===!1&&a.dealId!==""&&(l=o*.9);break;case"improvedigital":a.isNet===!1&&a.dealId!==""&&(l=o*.9);break;case"adform":a.dealId&&(l=o>3.5&&a.height===1&&a.width===1?3.5:o*.8);break;case"pubmatic":a.dealId&&(l=o*.8);break;default:l=o;break}return l}};return i}handleS2SConfig(){if(this.hb_config.s2sProvider==="assertive-yield"){(function(){window.assertive={entityId:"iA6DnRMwWAYDNvCLK",analytics:{logUnfilled:!0,override:{adid:"hb_adid",pbjs:"ocmpbjs"}},hash:{generator:"list",list:["S2S-OFF","S2S-ON"],key:"S2S-OFF",values:2}};var s=document.createElement("script");s.setAttribute("src","https://ia6dnrmwwaydnvclk.ay.delivery/client-v2.js"),s.setAttribute("async",""),document.head.appendChild(s)})();let i={orgId:"ZuBpLk42aCq7qJPoW",entityId:"iA6DnRMwWAYDNvCLK",bidders:this.hb_config.bidders.filter(s=>!!s.s2s).map(s=>s.name),serverOnlyBidders:[],pbjs:"ocmpbjs",continent:this.utils.window.OCM?.geo?.continent||"EU",analytics:!1,aliasRegistry:this.utils.window.ocmpbjs.aliasRegistry,suffix:"_s2s",abPercentage:95,callback:function(s){window.assertiveQueue=window.assertiveQueue||[],window.assertiveQueue.push(function(){assertive.setConfig("analytics.custom.custom_2",s.enabled?"S2S-ON":"S2S-OFF"),assertive.setConfig("hash.key",s.enabled?"S2S-ON":"S2S-OFF"),assertive.updateHash()})}},n=this.utils.window.document.createElement("script");n.src="https://"+i.entityId+".ay.delivery/s2s-client-v1.js",n.onload=function(){ayS2STag.init(i)},this.utils.window.document.head.appendChild(n);return}this.hb_config.s2sProvider!=="magnite"&&this.hb_config.s2sProvider}setupAnalytics(){this.hb_config.analytics.includes("ocmpba")&&this.analytics_adapters.push({provider:"ocmpba"})}filterAdUnitByPageType(e){return this.utils.allowedPageType(e.page_types)?!0:(this.utils.log.info(K,"Removing "+e.code+" due to page type"),!1)}filterAdUnitByDevice(e){if(this.utils.is_mobile){if(e.visibility.hasOwnProperty("mobile")&&!e.visibility.mobile)return this.utils.log.info(K,"Removing "+e.code+" due to hidden in mobile"),!1}else if(e.visibility.hasOwnProperty("desktop")&&!e.visibility.desktop)return this.utils.log.info(K,"Removing "+e.code+" due to hidden in desktop"),!1;return!0}jsonifyAd(e){typeof e.sizes<"u"&&(typeof e.sizes=="string"&&!e.sizes.ocmStartsWith("[[")&&(e.sizes="["+e.sizes+"]"),this.utils.hasJsonStructure(e.sizes)&&(e.sizes=JSON.parse(e.sizes))),e.hasOwnProperty("size_mapping")&&(e.size_mapping=e.size_mapping.map(o=>(typeof o.ad_sizes=="string"&&!o.ad_sizes.ocmStartsWith("[[")&&(o.ad_sizes="["+o.ad_sizes+"]"),this.utils.hasJsonStructure(o.ad_sizes)&&(o.ad_sizes=JSON.parse(o.ad_sizes)),this.utils.hasJsonStructure(o.window_size)&&(o.window_size=JSON.parse(o.window_size)),o)));let i=!1,n=!1,s,r;return e.bids=e.bids.map(o=>{for(let a=0;a<Object.keys(o.params).length;a++){let l=Object.keys(o.params)[a],d=o.params[l];l==="size"&&d!==null&&d.indexOf("[[")<0&&o.bidder!=="ix"&&(d="["+d+"]"),o.bidder==="criteo"&&(i=!0),o.bidder==="equativ"&&(n=!0,s=o.params.siteId,r=o.params.pageId),o.bidder==="rubicon"&&e.media_types.length>1&&(o.params.bidonmultiformat=!0),this.utils.hasJsonStructure(d)&&(o.params[l]=JSON.parse(d))}return o}).filter(o=>o!==void 0),(e.media_types.indexOf("video")>-1||e.media_types.indexOf("videoInArticle")>-1)&&(i&&e.bids.push({bidder:"criteo",params:{zoneId:1697471}}),n&&e.bids.push({bidder:"equativ",params:{networkId:3172,siteId:s,pageId:r,formatId:67950,video:{protocol:8}}})),e}removeInactiveBidderBids(e){for(let i=0;i<e.bids.length;i++)this.hb_config.bidders.forEach(n=>{e.bids[i]&&e.bids[i].bidder===n.name&&!n.active&&delete e.bids[i]});return e.bids=e.bids.filter(i=>i!==null&&i!=="undefined"),e.bids.length?e:null}removeNullBidParams(e){for(let i of e.bids)for(let n in i.params)i.params[n]===null&&delete i.params[n];return e}hbSizeMap(e){if(typeof e.size_mapping<"u"&&e.size_mapping.length){let i=e.size_mapping;for(let n=i.length-1;n>=0;n--){if(this.utils.screen_width>=i[n].window_size[0]){e.sizes=i[n].ad_sizes;break}if(n-1>=0){if(this.utils.screen_width<i[n].window_size[0]&&this.utils.screen_width>=i[n-1].window_size[0]){e.sizes=i[n-1].ad_sizes;break}}else if(this.utils.screen_width>=i[n].window_size[0]){e.sizes=i[n].ad_sizes;break}}try{e.sizes=e.sizes.filter(n=>n.length),e.sizes.length||(this.utils.log.info(K,"Removing "+e.code+" due to empty size mapping for this window size"),e=null)}catch(n){this.utils.log.error(K,n,"Error filtering ad unit sizes by screen width"),e=null}}return e}removeBadBidSizes(e){let i=[];return e.bids=e.bids.filter(n=>{if(i=[],typeof n.params.size<"u"){let s=[1,1];if(n.params.size[0]===s&&n.bidder==="sovrn")return!0;if(!Array.isArray(n.params.size[0])&&e.sizes.ocmContainsArray(n.params.size)?i.push(n.params.size):Array.isArray(n.params.size[0])&&(i=n.params.size.filter(r=>n.params.size[0][0]===1&&n.params.size[0][1]===1&&n.bidder==="sovrn"?!0:e.sizes.ocmContainsArray(r))),i.length)n.bidder==="ix"?n.params.size=JSON.parse(JSON.stringify(i[0])):n.params.size=JSON.parse(JSON.stringify(i));else return this.utils.log.info(K,"Removing ",n," due to ad unit sizes"),!1}return!0}),e}geoFilter(e){try{let i=[];for(let n of this.hb_config.bidders)(n.geo.length===0||n.geo.length>0&&n.geo.includes(this.utils.window.OCM?.geo?.country))&&i.push(n.name);i.length&&i.length!==this.hb_config.bidders.length&&(this.utils.log.info(K,"Keeping ",i," due to country = "+this.utils.window.OCM?.geo?.country),e.bids=e.bids.filter(n=>i.includes(n.bidder)))}catch(i){this.utils.log.error(K,i,"Handling HB geoFilter")}return e}buildMediaTypes(e){let i={};return typeof e.media_types<"u"?(e.media_types.includes("banner")&&(i.banner={sizes:typeof e.sizes=="string"?JSON.parse(e.sizes):e.sizes},i.banner.pos=1),e.media_types.indexOf("native")>-1&&(i.native=e.native,i.native.pos=1),(e.media_types.indexOf("videoInArticle")>-1||e.media_types.indexOf("video")>-1)&&(i.video={},i.video.pos=1,i.video.context="outstream",i.video.playerSize=this.utils.hasJsonStructure(e.video.playerSize)?JSON.parse(e.video.playerSize):e.video.playerSize,i.video.playerSize=this.utils.is_mobile?[[300,169]]:i.video.playerSize,i.video.w=i.video.playerSize[0][0],i.video.h=i.video.playerSize[0][1],i.video.mimes=["video/webm","video/mp4","application/javascript"],i.video.pos=1,i.video.delivery=[2],i.video.minduration=1,i.video.maxduration=30,i.video.protocols=[2,3,5,6,7,8],i.video.api=[1,2],i.video.skip=0,i.video.startdelay=0,i.video.linearity=1,i.video.placement=2,i.video.playbackmethod=[2],i.video.playbackend=1,i.video.renderer={url:"https://cdn.orangeclickmedia.com/tech/libs/dummy-renderer.js",backupOnly:!1,render:n=>{try{let s=this.utils.getAdDivElement(e.code);if(!s){console.error("Could not find element to render outstream ad",n);return}new Fd(this.utils,s,{width:i.video.playerSize[0][0],height:i.video.playerSize[0][1]},n).run()}catch(s){console.error(s),console.error("Error in ad rendering!")}}})):i.banner={sizes:typeof e.sizes=="string"?JSON.parse(e.sizes):e.sizes},e.mediaTypes=i,e}setupRefreshSettings(e){if(this.utils.config.services.fizz.ads_whitelist.filter(n=>n.path===e.code).length>0){let n=e?.ortb2Imp?JSON.parse(JSON.stringify(e.ortb2Imp)):{ext:{data:{}}};e.ortb2Imp=n}return e}setupGpid(e){try{let i=e?.ortb2Imp?JSON.parse(JSON.stringify(e.ortb2Imp)):{ext:{data:{}}};i.ext.gpid=`${e.code}`,i.ext.data.pbadslot=`${e.code}`,e.ortb2Imp=i}catch(i){this.utils.log.warn(K,i,"Error setting up gpid for ad unit",e.code)}return e}adjustBidderTimeout(e){this.hb_config.bidderTimeout=Number(this.hb_config.bidderTimeout),this.utils.log.info(K,"bidderTimeout = "+this.hb_config.bidderTimeout);let i=this.utils.window.navigator||null;i&&i?.connection&&i?.connection?.rtt&&(this.hb_config.bidderTimeout+=i.connection.rtt),this.utils.is_mobile&&(e?this.hb_config.bidderTimeout+=this.hb_config.bidderTimeout*.5:this.hb_config.bidderTimeout+=this.hb_config.bidderTimeout,this.utils.log.info(K,"Mobile device, so bidderTimeout = ",this.hb_config.bidderTimeout))}ocmpbjsInit(){return new Promise((e,i)=>(this.utils.window.ocmpbjs=this.utils.window.ocmpbjs||{},this.utils.window.ocmpbjs.que=this.utils.window.ocmpbjs.que||[],e(!0)))}loadPrebidLibrary(){return new Promise((e,i)=>{this.utils.log.info(K,"Loading OCM HB wrapper...");let n=this.utils.window.document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://cdn.orangeclickmedia.com/tech/libs/ocmpb.js",n.onerror=s=>{i("Failed loading OCM HB wrapper script")},n.onload=()=>{e()},this.utils.window.document.head.append(n)})}loadAdformCookie(){(this.hb_config.adsqRTDModuleEnabled||this.utils.window?.ADSQ?.response)&&Id.includes(this.utils.window.OCM.pageType)&&Math.random()<.1&&(navigator.sendBeacon&&navigator.sendBeacon("https://track.adform.net/Serving/TrackPoint/?pm=2776384")||fetch("https://track.adform.net/Serving/TrackPoint/?pm=2776384",{method:"POST",keepalive:!0}))}gptEventListeners(){this.utils.log.info(K,"Setting up GPT events for HB"),this.utils.window.googletag.cmd.push(()=>{this.utils.window.googletag.pubads().addEventListener("slotRenderEnded",e=>{e.slot.getAdUnitPath().includes("inread_pb")&&e.isEmpty&&typeof this.utils.window.OCM.oopb<"u"&&this.utils.window.OCM.oopb()})})}prebidEventListeners(){let e=new Event("ogmEmpty");this.utils.log.debug(K,"Setting up Prebid events for HB"),this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("bidRequested",i=>{["appnexus","adform","pubmatic","rubicon","ix","outbrain"].includes(i.bidderCode)||i.bids.forEach(s=>{try{delete s.mediaTypes.native,delete s.nativeOrtbRequest,delete s.nativeParams}catch{this.utils.log.warn(K,`Could not delete native mediaType from bid of bidder ${s.bidderCode} @ ${s.adUnitCode}`)}}),i.bidderCode==="appnexus"&&(i.bids=i.bids.map(s=>(this.utils.window?.ADSQ?.response&&(s.params.keywords={adsq_bs:this.utils.window.ADSQ.response.brandSafe?"Yes":"No"}),s)))})}),this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("auctionEnd",i=>{i.adUnitCodes.includes("ocm-gone-mad")&&(i.winningBids.filter(s=>s.adUnitCode==="ocm-gone-mad").length||(this.utils.log.info(K,"No rich media won, dispatching ogmEmpty event"),this.utils.window.dispatchEvent(e)))})}),this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("bidWon",i=>{i.mediaType==="native"&&i.adUnitCode!=="ocm-storyteller"&&(this.utils.log.info(K,"native bidWon event",i),this.utils.setMaxWidthForNatives(i.adUnitCode))})}),this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("adRenderFailed",i=>{i.bid.vastXml&&delete i.bid.vastXml,this.utils.log.error(K,i,"adRenderFailed")})}),this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("auctionDebug",i=>{try{if(i.type!=="ERROR"&&i.type!=="WARNING")return;try{if(JSON.stringify(i.arguments).includes("readyState"))return}catch{}i?.bid?.vastXml&&delete i.bid.vastXml;let n=null;if(i.arguments.length){for(let s=0;s<i.arguments.length;s++)if(i.arguments[s]&&typeof i.arguments[s]=="string"&&i.arguments[s].indexOf("Invalid bid sent to bidder")>-1){let r=i.arguments[s].split(": ");n={message:"Invalid bid sent to bidder",bid:JSON.parse(r[1])};break}!n&&typeof i.arguments=="object"&&(n=Object.keys(i.arguments).map(s=>`${i.arguments[s]}`).join(" "))}if(!n||n!=="")return;i.type==="ERROR"?this.utils.log.error(K,n,"auctionDebug ERROR"):this.utils.log.warn(K,n,"auctionDebug WARNING")}catch(n){this.utils.log.error(K,n,"Error in auctionDebug listener")}})}),this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("bidResponse",i=>{(i&&i.meta&&i.meta.advertiserDomains&&i.meta.advertiserDomains||[]).some(r=>{let o=this.utils.config.badv&&(this.utils.config.badv.includes(r)||r.includes(".bond")||r.includes("leon")&&r.includes("casino")||r.includes("leon")&&r.includes("bet")||r.includes("leon")&&/\d/.test(r)||r.includes("malinacasino")||r.includes("malina.com")||r.includes("gransino")||r.includes("legiano")||r.includes("natiocazino")||r.includes("winz")&&r.includes(".io")||r.includes("vegasino")||r.includes("45cai8qoi")||r.includes("cashed")||r.includes("22bet")||r.includes("hellspin")||r.includes("rtbet")||r.includes("gov.il")||r.includes("quickwin")),a=!1;return i.bidderCode==="appnexus"&&i.meta?.brandId&&(a=[482109,681947,746605,864403,1093786,1143978,1183257,1204106,1217804,1671003,1803547,2174752,48109].includes(i.meta?.brandId)),a||o})&&(this.utils.log.warn(K,"Blocked advertiser",i.meta.advertiserDomains),i.cpm=0,i.ad="")})})}}});var Mi=H((gp,Ho)=>{var ke="iab_compliance";Ho.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-iab_compliance-end")}run(){return new Promise((e,i)=>{if(performance.mark("iab_compliance_start"),!this.config.uses_cmp){this.utils.window.OCM.gdprApplies=!1,this.utils.window.OCM.hasGoogleConsent=!0,this.utils.window.OCM.hasPurposeOneConsent=!0,this.setPrivacySettings(!1,!1);try{this.transmuteScripts()}catch(o){this.utils.log.error(ke,"Error transmuting scripts",o)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:ke})}let n=50,s=1,r=()=>{if(this.utils.log.info(ke,"Waiting for TCF API to be available..."),typeof window.top.__tcfapi>"u"&&typeof window.top.__cmp>"u")if(s++,s>n){this.utils.log.info(ke,"TCF API is not available. Setting ads to non personalized..."),window.top.OCM.gdprApplies=!1,window.top.OCM.hasGoogleConsent=!0,window.top.OCM.hasPurposeOneConsent=!0,this.setPrivacySettings(!1,!1);try{this.transmuteScripts()}catch(o){this.utils.log.error(ke,"Error transmuting scripts",o)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:ke})}else setTimeout(r,100);else if(typeof window.top.__tcfapi<"u")window.top.__tcfapi("addEventListener",2,(o,a)=>{if(a&&!o.eventStatus&&!o.gdprApplies){this.utils.log.info(ke,"GDPR does not apply, run ads normally"),window.top.OCM.gdprApplies=!1,window.top.OCM.hasGoogleConsent=!0,window.top.OCM.hasPurposeOneConsent=!0,this.setPrivacySettings(!1,!1);try{this.transmuteScripts()}catch(l){this.utils.log.error(ke,"Error transmuting scripts",l)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:ke})}if(a&&(o.eventStatus==="tcloaded"||o.eventStatus==="useractioncomplete")){if(this.utils.log.info(ke,"TCF API is available"),!o.gdprApplies){this.utils.log.info(ke,"GDPR does not apply, run ads normally"),window.top.OCM.gdprApplies=!1,window.top.OCM.hasGoogleConsent=!0,window.top.OCM.hasPurposeOneConsent=!0,this.setPrivacySettings(!1,!1);try{this.transmuteScripts()}catch(b){this.utils.log.error(ke,"Error transmuting scripts",b)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:ke})}this.utils.window.OCM.gdprApplies=!0;let l=o.purpose.consents[1]===!0||o.purpose.legitimateInterests[1]===!0||!1,d=o.purpose.consents[2]===!0||o.purpose.legitimateInterests[2]===!0||!1,p=o.purpose.consents[3]===!0||o.purpose.legitimateInterests[3]===!0||!1,m=o.purpose.consents[4]===!0||o.purpose.legitimateInterests[4]===!0||!1,h=o.purpose.consents[7]===!0||o.purpose.legitimateInterests[7]===!0||!1,u=o.purpose.consents[9]===!0||o.purpose.legitimateInterests[9]===!0||!1,g=o.purpose.consents[10]===!0||o.purpose.legitimateInterests[10]===!0||!1,f=o.vendor.consents[755]&&o.vendor.legitimateInterests[755]||!1,w=!1,v=!0,y=!1;f&&l&&d&&h&&u&&g&&(w=!0),l&&d&&p&&m&&h&&u&&g&&w?v=!1:l&&d&&!p&&!m&&h&&u&&g&&w&&(v=!0),this.utils.window.OCM.hasPurposeOneConsent=l,this.utils.window.OCM.serveNonPersonalized=v,this.utils.window.OCM.restrictDataProcessing=y,this.utils.window.OCM.hasGoogleConsent=w,this.setPrivacySettings(v,y);try{this.transmuteScripts()}catch(b){this.utils.log.error(ke,"Error transmuting scripts",b)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:ke})}});else if(typeof window.top.__cmp<"u"){this.utils.log.info(ke,"Old CMP api found, run ads normally"),window.top.OCM.hasGoogleConsent=!0;try{this.transmuteScripts()}catch(o){this.utils.log.error(ke,"Error transmuting scripts",o)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:ke})}else{this.utils.log.info(ke,"No __tcfapi found, nonPersonalizedAds true"),window.top.OCM.hasPurposeOneConsent=!1,window.top.OCM.serveNonPersonalized=!1,window.top.OCM.restrictDataProcessing=!1,window.top.OCM.hasGoogleConsent=!0,this.setPrivacySettings(!1,!1);try{this.transmuteScripts()}catch(o){this.utils.log.error(ke,"Error transmuting scripts",o)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:ke})}};r()})}setPrivacySettings(e,i){this.utils.window.googletag.cmd.push(()=>{this.utils.window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:e,restrictDataProcessing:i})}),this.utils.window.googlefc=this.utils.window?.googlefc||{},this.utils.window.googlefc.callbackQueue=this.utils.window?.googlefc?.callbackQueue||[],this.utils.window.googlefc.callbackQueue.push({CONSENT_DATA_READY:()=>{let n=e?"denied":"granted";typeof this.utils.window.gtag=="function"&&(this.utils.window.gtag("consent","update",{ad_personalization:n,ad_storage:n,ad_user_data:n,analytics_storage:n,functionality_storage:n,personalization_storage:n,security_storage:n}),this.utils.window.gtag("set","url_passthrough",!0),this.utils.window.gtag("set","ads_data_redaction",!1),this.utils.window.localStorage.setItem("ocm-gbc",JSON.stringify({ad_personalization:n,ad_storage:n,ad_user_data:n,analytics_storage:n,functionality_storage:n,personalization_storage:n,security_storage:n})))}})}transmuteScripts(){let e,i,n,s=this.config.use_window_top?window.top:window,r=window.top.document.querySelectorAll("script[data-cmp-src]");if(r.length)for(let a of r){for(e=document.createElement("script"),i=Array.prototype.slice.call(a.attributes);n=i.pop();)n.nodeName==="data-cmp-src"?e.setAttribute("src",n.nodeValue):e.setAttribute(n.nodeName,n.nodeValue);a.parentNode.insertBefore(e,a),a.remove()}let o=window.top.document.querySelectorAll("script[data-cmp-script]");if(o.length)for(let a of o){for(e=document.createElement("script"),i=Array.prototype.slice.call(a.attributes);n=i.pop();)n.nodeName==="data-cmp-script"?e.setAttribute("type","text/javascript"):n.nodeName!=="type"&&e.setAttribute(n.nodeName,n.nodeValue);e.text=a.text,a.parentNode.insertBefore(e,a),a.remove()}}}});var Gn=H((vp,qo)=>{var ce="in_image";qo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.inImageConfig=this.config.services.in_image,this.observers=[],this.endedEvent=new Event("ocm-in_image-end")}run(){return new Promise((e,i)=>{performance.mark("in_image_start"),this.utils.log.info(ce,"Running...");let n=this.inImageConfig.fc?Number(this.inImageConfig.fc/100):0,s=Math.random();this.utils.log.info(ce,"Math.random: "+s+" Frequency/100: "+n);let r=[];if(!this.inImageConfig.fc||s<=n){this.utils.log.info(ce,"In at frequency condition and inImageConfig.fc is:",this.inImageConfig.fc),this.utils.log.info(ce,"Is mobile =>",this.utils.is_mobile);for(let o of this.inImageConfig.tags)o.active&&(this.utils.log.info(ce,"Tag =>",o),r.push(this.showAdInImage(o)))}return Promise.all(r).then(()=>{this.utils.window.dispatchEvent(this.endedEvent),e({name:ce})}).catch(o=>{this.utils.window.dispatchEvent(this.endedEvent),i({name:ce,message:o})})})}showAdInImage(e){return new Promise((i,n)=>{let s=Array.from(this.utils.window.document.querySelectorAll(`${e.selector}`)).length,r=[];if(!s)return i();s<=5?(r=Array.from(this.utils.window.document.querySelectorAll(`${e.selector}`)).filter((l,d)=>{if(d%2===0)return l}),this.utils.log.info(ce,"This site has ",s," images"," and is <= 5, so ads showing at every second img")):s>5&&(r=Array.from(this.utils.window.document.querySelectorAll(`${e.selector}`)).filter((l,d)=>{if(d%3===0)return l}),this.utils.log.info(ce,"This site has ",s," images"," and is > 5, so ads showing at every third img"));let o=r.length;this.utils.log.info(ce,"This site has total",s," images:",r);let a=(l,d)=>{this.utils.log.info(ce,"Start check images src");let p=r.filter(h=>h.currentSrc.indexOf("lazy_placeholder.gif")===-1||h.getAttribute("height")!==null&&h.getAttribute("width")!==null),m=[];if(this.utils.log.info(ce,"This site has",l+" images - images with filter = "+p.length),l===p.length)this.utils.log.info(ce,"Start - normal image without ll"),this.addInImageAd(p,d);else{this.utils.log.info(ce,"Start - image with ll");let h=setInterval(()=>{if(this.utils.log.info(ce,"Start run Interval"),p=r.filter(u=>u.currentSrc.indexOf("lazy_placeholder.gif")===-1||u.getAttribute("height")!==null&&u.getAttribute("width")!==null),l!==m.length){this.utils.log.info(ce,"Start checking");let u=p,g=0;if(u.length!==0)if(m.length===0)m=u;else for(let f=0;f<u.length;f++)m.find(v=>u[f-g].currentSrc===v.currentSrc)?(this.utils.log.info(ce,"Remove image "+u[f-g].currentSrc),u.splice(f-g,1),g++):(this.utils.log.info(ce,"Done image "+u[f-g].currentSrc),m.push(u[f-g]));u.length>0&&this.addInImageAd(u,d)}else this.utils.log.info(ce,"Stop run Interval"),clearInterval(h)},1e3)}};if(o===0)this.utils.log.info(ce,"Wait Loaded"),this.utils.window.addEventListener("load",function(l){return o=Array.from(l.currentTarget.window.document.querySelectorAll(`${e.selector}`)).length,a(o,e),i()});else return a(o,e),i()})}addInImageAd(e,i){this.utils.log.info(ce,"add InImage Ad, images: "+e," tag:",i);for(let n=0;n<e.length;n++){let s=e[n],r=0,o=0,a=0,l=s.parentElement,d=0;l&&(d=l.getBoundingClientRect().width);let p=s.getBoundingClientRect().height.toString(),m=s.getBoundingClientRect().width.toString();s.hasAttribute("data-lazy-type")&&(this.utils.log.info(ce,"image with attr data-lazy-type ",s),m=s.clientWidth?s.clientWidth.toString():m,d=l.clientWidth?l.clientWidth.toString():d,s.getAttribute("height")&&s.getAttribute("width")&&s.getBoundingClientRect().width===s.getBoundingClientRect().height&&(this.utils.log.info(ce,"this image has height and width"),a=s.getAttribute("height")/s.getAttribute("width"),o=s.clientHeight?s.clientHeight*a:p,p=o.toString())),d>parseInt(m)&&(r=(d-parseInt(m))/2),this.utils.log.info(ce,"imageParent_width = ",d,typeof d),this.utils.log.info(ce,"image_height = ",p,typeof p),this.utils.log.info(ce,"imageParent_width > parseInt(image_width) = ",d>parseInt(m)),this.utils.log.info(ce,"image_width = ",m,typeof m),this.utils.log.info(ce,"new_left = ",r,typeof r),this.utils.log.info(ce,"new_left in css = ",String(r)+"px");let h=this.inImageConfig.available_sizes,u=null,g=!1;h=h.filter(f=>f.isMobile===this.utils.is_mobile).reverse();for(let f of h)if(m>=f.widthImg&&p>=f.heightImg&&f.isActive===!0){this.utils.log.info(ce,`in_image_${n} has the conditions to render ad`,f);try{u=JSON.parse(f.adSizes)[0]}catch{break}g=!0;break}if(g){this.utils.log.info(ce,`For div in_image_${n}, width:`+u[0]+" height:"+u[1]),this.topStyleForButton(u[1],n);let f=u[1]+6,w=document.createElement("div");w.setAttribute("id",`in_image_container_${n}`),w.classList.add("ocm-inImage-container"),w.style=`height:${p}px; width:${m}px; margin: auto;`,s.parentElement.insertBefore(w,s),w.appendChild(s),this.inImageConfig.withoutLeft||(s.style=`position:absolute; left:${String(r)}px; top:0`);let v=`<div id="in_image_${n}" style="height:0;"></div>`,y=document.createElement("div");y.classList.add("ocm-inImage","reveal-top"),w.appendChild(y),y.insertAdjacentHTML("beforeend",v),this.utils.window.googletag=this.utils.window.googletag||{cmd:[]},this.utils.window.googletag.cmd.push(()=>{let b=this.utils.window.googletag.defineSlot(`${i.ad_tag_url}`,[u],`in_image_${n}`).addService(googletag.pubads());this.utils.window.googletag.display(`in_image_${n}`),!this.utils.config.services.lazyload.active&&this.utils.window.OCM.init_ad_server_set&&this.utils.window.googletag.pubads().refresh([b],{changeCorrelator:this.config.change_correlator!==void 0?this.config.change_correlator:!0}),this.utils.window.googletag.pubads().addEventListener("slotRenderEnded",async _=>{if(!_.isEmpty&&_.slot.getSlotElementId()===`in_image_${n}`){let R=y.parentElement.getAttribute("id");if(this.utils.browser.isSafari)await this.isInViewportInImage(n,y,r,f);else{let S=document.querySelectorAll(`#in_image_container_${n}`)[0];await this.includeObserverInImage(R,y,r,f),this.observers[R].observe(S)}}})})}}}includeObserverInImage(e,i,n,s){IntersectionObserver.prototype.POLL_INTERVAL=100;let r={root:null,rootMargin:"20px 0px",threshold:.5};this.observers[e]=new IntersectionObserver((o,a)=>{o.forEach(async l=>{e===l.target.id&&(typeof l.isVisible>"u"&&(l.isVisible=!0),l.isIntersecting&&(await this.addEffectAndCloseButton(i,n,s),a.unobserve(l.target)))})},r)}isPhotoInViewport(e){let i,n=!1,s=0,r=document.getElementById(e);if(!r||typeof r>"u")return!1;if(i=r.getBoundingClientRect(),n=i.height>=600,i.top>=0&&i.left>=0&&i.bottom<=(this.utils.window.innerHeight||this.utils.window.document.documentElement.clientHeight)&&i.right<=(this.utils.window.innerWidth||this.utils.window.document.documentElement.clientWidth))return!0;if(i.top<0&&i.left>=0){if(s=(i.height-Math.abs(i.top))/i.height*100,n){if(s>=67)return!0}else if(s>=51)return!0}return!1}isInViewportInImage(e,i,n,s){window.addEventListener("scroll",async()=>{this.isPhotoInViewport(`in_image_container_${e}`)&&await this.addEffectAndCloseButton(i,n,s)})}addEffectAndCloseButton(e,i,n){e.classList.add("menu--animatable"),e.classList.contains("menu--visible")?e.classList.remove("menu--visible"):e.classList.add("menu--visible");let s=this.inImageConfig.bg_color;this.inImageConfig.withoutLeft?e.style=`width:100%;height:${n}px !important;background-color:${s}`:e.style=`left:${String(i)}px; height:${n}px !important;background-color:${s}`;let r=document.createElement("div"),o=document.createElement("button");this.utils.is_mobile?(r.classList.add("close-icon-container-mobile"),o.classList.add("ocm-button-close-mobile")):(r.classList.add("close-icon-container"),o.classList.add("ocm-button-close")),this.utils.is_mobile||(r.addEventListener("mouseenter",()=>{o.classList.add("ocm-button-close-hover")}),r.addEventListener("mouseleave",()=>{o.classList.remove("ocm-button-close-hover")})),r.append(o),e.append(r),o.addEventListener("click",()=>{e.classList.add("ocm-inImage-remove")})}topStyleForButton(e,i){this.utils.loadStyle(`          .ocm-button-close{
               padding: 0 !important;
               border-radius: 4px !important;
               display: block !important;
               position: relative !important;
               width: 30px !important;
               height: 30px !important;
               background: #fff !important;
               color: #4a968e !important;
               border: 1px solid #106e89 !important;
               outline: none !important;
               cursor: pointer !important;
           }

          .ocm-button-close-mobile{
               padding: 0 !important;
               border-radius: 4px !important;
               display: block !important;
               position: relative !important;
               width: 26px !important;
               height: 100% !important;
               background: #fff !important;
               color: #4a968e !important;
               border: 1px solid #106e89 !important;
               outline: none !important;
               cursor: pointer !important;
           }

           .ocm-button-close-hover:before{
                   width: 100% !important;
                   box-sizing: border-box !important;
                   margin:0 !important;
                   padding:0 !important;
            }

            .ocm-button-close-hover:after{
                   width: 100% !important;
                   box-sizing: border-box !important;
                   margin:0 !important;
                   padding:0 !important;
            }

            .ocm-button-close:before{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(-45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }

           .ocm-button-close:after{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }

            .ocm-button-close-mobile:before{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(-45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }

           .ocm-button-close-mobile:after{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }

          .ocm-inImage-container {
             position:relative; 
             overflow: hidden;
          }

          .ocm-inImage.menu--visible  {
              -webkit-transform: none;
              transform: none;
}

          .ocm-inImage.menu--animatable {
             transition: all 1s ease-out;
}
         .ocm-inImage.menu--animatable > #in_image_`+i+` {
           height: `+e+`px !important; 
           transition: height 1s ease-out;
}
          .ocm-inImage {
             overflow: visible;             position:absolute; 
             padding-top:3px; 
             padding-bottom:3px; 
             bottom:0 !important; 
             height: 0px;
             width:100%; 
             display: flex; 
             align-items: center;
             justify-content: center;
          }

          .ocm-inImage .close-icon-container {
            position: absolute;
            top: -37px;
            height: 20px;
            width: 30px;
            right: 9px;
            z-index: 10;
          }

          .ocm-inImage .close-icon-container-mobile {
            position: absolute;
            top: -37px;
            height: 26px;
            width: 26px;
            right: 9px;
            z-index: 10;
          }

          .ocm-inImage .close-icon {
            display: inline-block;
            height: 26px;
            width: 26px;
            cursor: pointer;
            stroke: #fff;
            margin: 3px;
          }

          .ocm-inImage.reveal-top {
            opacity: 1;
          }

          .ocm-inImage.reveal-top.ocm-inImage-remove {
            transition: opacity 0.5s linear;
            opacity: 0;
          }

          .ocm-inImage .progress {
            opacity: 0;
            stroke-dasharray: 0, 120;
          }`)}}});var ji=H((yp,Vo)=>{var st="injected_tags";Vo.exports=class{constructor(e,i,n=null){this.utils=e,this.config=i,this.itConfig=this.config.services.injected_tags,this.parent=n,this.endedEvent=new Event("ocm-injected_tags-end")}run(){return new Promise((e,i)=>{performance.mark("injected_tags_start");let n=[];for(let s of this.itConfig.tags){if(!s.active){this.utils.log.info(st,"Injected tag is not active",s);continue}this.utils.allowedPageType(s.conditions.page_types)?n.push(this.createTag(s)):this.utils.log.warn(st,"Injected tags blocked by page type ",s)}Promise.all(n).then(()=>{this.utils.window.dispatchEvent(this.endedEvent),e({name:st})}).catch(s=>{this.utils.window.dispatchEvent(this.endedEvent),i({name:st,message:s})})})}createTag(e){return new Promise((i,n)=>{this.utils.contentLoaded().then(()=>{this.inject(e,i,n)})})}inject(e,i,n){this.utils.log.info(st,`injecting ${e.path}`);let s=e.div_id+"_"+this.utils.getRandomString(7);if(e&&e.device_category){if(!e.device_category.mobile&&this.utils.is_mobile)return this.utils.log.info(st,`injected tag: ${e.path} has been disabled on mobile`),i({name:st});if(!e.device_category.desktop&&!this.utils.is_mobile)return this.utils.log.info(st,`injected tag: ${e.path} has been disabled on desktop`),i({name:st})}this.parent&&(e.conditions.selector=this.parent+" "+e.conditions.selector);let r=this.utils.determineInjectionTarget(e.conditions.selector,e.conditions.position,e.conditions.count_gt,e.conditions.word_count,e.conditions.words_gt);if(!r)return this.utils.log.info(st,"node NOT found, stopping process",r),i({name:st});this.utils.log.info(st,"node found: ",r);let o=this.utils.window.document.createElement("div"),a=this.utils.window.document.createElement("div"),l=this.utils.window.document.createElement("script"),d=e.hasOwnProperty("mobile_inread_sticky")&&this.utils.is_mobile?e.mobile_inread_sticky:!1;if(d){o.classList.add("ocm-mis");let p=this.utils.window.document.createElement("div");p.classList.add("ocm-mis-expand");let m=this.utils.window.document.createElement("div");m.classList.add("ocm-mis-wrapper"),a.id=s,a.setAttribute("data-ocm-mis","true"),m.append(a),p.append(m),o.append(p)}else o.id=s;return e.style!==""&&(o.style=e.style),e.classes&&e.classes!==""&&o.setAttribute("class",e.classes),e&&e.size_mapping&&e.size_mapping.code&&e.size_mapping.name?(l.text=`googletag.cmd.push(function() { ${e.size_mapping.code}
                var ${s}_slot = googletag.defineSlot("${e.path}", ${e.sizes}, "${s}").defineSizeMapping(${e.size_mapping.name}).addService(googletag.pubads());
                googletag.display("${s}"); `,!this.config.services.lazyload.active&&this.config.services.header_bidding.active&&(l.text+=`if (window.OCM.init_ad_server_set) { googletag.pubads().refresh([${s}_slot], { changeCorrelator: ${this.config.change_correlator!==void 0?this.config.change_correlator.toString():"true"} }); }`),l.text+="});"):(l.text=`googletag.cmd.push(() => {
                var ${s}_slot = googletag.defineSlot("${e.path}", ${e.sizes}, "${s}").addService(googletag.pubads());
                googletag.display("${s}"); `,!this.config.services.lazyload.active&&this.config.services.header_bidding.active&&(l.text+=`if (window.OCM.init_ad_server_set) { googletag.pubads().refresh([${s}_slot], { changeCorrelator: ${this.config.change_correlator!==void 0?this.config.change_correlator.toString():"true"} }); }`),l.text+="});"),e.conditions&&e.conditions.place&&this.utils.injectTag(r,o,e.conditions.place)&&(d?(a.append(l),this.utils.clipHiddenOverflows(o)):o.append(l)),i({name:st})}}});var $n=H((Sp,Uo)=>{var Je="lazyload",Td=zi();Uo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.ll_config=i.services.lazyload,this.include_offset=this.ll_config.include_offset,this.load_offset=this.ll_config.load_offset,this.offset_custom_observers=this.ll_config.load_offset,this.connection=navigator.connection||navigator.mozConnection||navigator.webkitConnection,this.hb=null,this.config.services.header_bidding.active&&this.utils.allowedPageType(this.config.services.header_bidding.page_types)&&(this.hb=new Td(e,i)),this.endedEvent=new Event("ocm-lazyload-end")}run(){return new Promise(async e=>{performance.mark("lazyload_start"),this.utils.log.info(Je,"Running..."),this.hb&&await this.hb.run(!0).then(async()=>{this.utils.updateState("header_bidding",!0)}).catch(n=>{this.utils.log.error(Je,n,"Error running header bidding")});let i=this.calculateDetectionPixels(this.ll_config.include_offset,this.ll_config.load_offset);return this.ll_config.include_offset=i.include_offset,this.ll_config.load_offset=i.load_offset,await this.setupObservers(),await this.utils.gptApiReady(),this.detectAndObserveAdDivs(),this.utils.window.dispatchEvent(this.endedEvent),e({name:Je})})}detectAndObserveAdDivs(){this.utils.log.info(Je,"Detecting slots");let e=()=>{let i=this.utils.window.googletag.pubads().getSlots().map(n=>{let s=this.utils.window.document.querySelector('div[id="'+n.getSlotElementId()+'"]:not([id*="_rw_ad"]):not([data-oau-code]):not([data-lazyloaded-by-ocm]):not([data-lazyincluded-by-ocm])');return s?(s.setAttribute("data-oau-code",n.getAdUnitPath()),s):null}).filter(n=>n!=null);if(i.length)for(let n=0;n<i.length;n++)this.ll_config.hasOwnProperty("ad_load_offsets")&&this.ll_config.ad_load_offsets.length&&this.ll_config.ad_load_offsets.filter(s=>s.path===i[n].getAttribute("data-oau-code")&&s.offset===-1).length?(this.utils.log.info(Je,"ll excluded element, combust instantly",i[n]),i[n].setAttribute("data-lazyincluded-by-ocm",""),this.combust([i[n]])):i[n].hasAttribute("data-lazyincluded-by-ocm")||this.include_observer.observe(i[n]);setTimeout(e,500)};e()}setupObservers(){return new Promise(e=>{this.custom_observers=[];let i={root:null,rootMargin:this.include_offset&&this.include_offset!==-1?String(this.include_offset)+"px 0px":"0px 0px"},n={root:null,rootMargin:this.load_offset&&this.load_offset!==-1?String(this.load_offset)+"px 0px":"0px 0px"};if(IntersectionObserver.prototype.POLL_INTERVAL=100,this.ll_config.hasOwnProperty("ad_load_offsets")&&this.ll_config.ad_load_offsets.length)for(let s of this.ll_config.ad_load_offsets){let r=this.calculateDetectionPixels(this.ll_config.include_offset,s.offset).load_offset,o=[];if(!s.path||s.path==="")continue;let a={root:null,rootMargin:r&&r!=-1?String(r)+"px 0px":"0px 0px"};this.utils.log.info(Je,"Custom observer config: ",a),this.custom_observers[s.path]=new IntersectionObserver((l,d)=>{let p=!1;l.forEach(m=>{typeof m.isVisible>"u"&&(m.isVisible=!0),m.isIntersecting&&(this.utils.log.info("intersecting",m.target.getAttribute("data-oau-code"),m.target.hasAttribute("data-lazyincluded-by-ocm")),d.unobserve(m.target),o.push(m.target),p=!0)}),p&&this.combust(o)},a)}return this.load_observer=new IntersectionObserver((s,r)=>{let o=!1,a=[];s.forEach(l=>{typeof l.isVisible>"u"&&(l.isVisible=!0),l.isIntersecting&&(r.unobserve(l.target),a.push(l.target),o=!0)}),o&&this.combust(a)},n),this.include_observer=new IntersectionObserver((s,r)=>{s.forEach(o=>{typeof o.isVisible>"u"&&(o.isVisible=!0),o.isIntersecting&&(o.target.hasAttribute("data-lazyincluded-by-ocm")||(o.target.setAttribute("data-lazyincluded-by-ocm",""),this.load_observer.observe(o.target))),o.target.hasAttribute("data-lazyincluded-by-ocm")&&r.unobserve(o.target)})},i),e({name:Je})})}combust(e){e=e.filter(r=>r),this.utils.log.info(Je,"Combusting..",e),e.length&&e.forEach(r=>{r.removeAttribute("data-lazyincluded-by-ocm"),r.setAttribute("data-lazyloaded-by-ocm","")});let i=e.map(r=>r.getAttribute("data-oau-code"));i=i.filter((r,o,a)=>a.indexOf(r)===o);let n=e.map(r=>r.getAttribute("id")),s=this.utils.window.googletag.pubads().getSlots().filter(r=>n.includes(r.getSlotElementId())?!0:null);if(!s.length){this.utils.log.warn(Je,"No lazyincluded-by-com ad units found. Aborting ad calls.");return}if(this.utils.log.info(Je,"includedAdUnits",i),this.hb&&this.config.services.header_bidding.bidderTimeout>1){let r=this.findAdUnitsInHb(i);r.length?(this.utils.log.info(Je,"Found ad unit configuration in HB, running hbRefresh"),this.hbRefresh(r,s)):(this.utils.log.info(Je,"No ad unit configuration found in HB, running gptRefresh"),this.gptRefresh(s))}else this.utils.log.info(Je,"gptRefresh"),this.gptRefresh(s)}findAdUnitsInHb(e){let i=[];return i=this.utils.window.ocmpbjs.adUnits.map(n=>e.includes(n.code)?n:null).filter(n=>n),i}hbRefresh(e,i){this.utils.window.ocmpbjs=this.utils.window.ocmpbjs||{},this.utils.window.ocmpbjs.que=this.utils.window.ocmpbjs.que||[],this.utils.window.ocmpbjs.que.push(()=>{try{this.utils.window.ocmpbjs.requestBids({adUnitCodes:e.map(n=>n.code),bidsBackHandler:(n,s,r)=>{this.hb.initAdServer(i,!0)},timeout:this.hb.bidderTimeout})}catch(n){this.utils.log.error(Je,n,"Error refreshing ad slots")}})}gptRefresh(e){this.utils.window.googletag.cmd.push(()=>{this.utils.window.googletag.pubads().refresh(e,{changeCorrelator:this.config.change_correlator!==void 0?this.config.change_correlator:!0})})}calculateDetectionPixels(e,i){if(i===-1)return{include_offset:e,load_offset:i};if(this.utils.is_mobile&&(e=e*1.7,i=i*1.7),typeof this.connection<"u"&&typeof this.connection.effectiveType<"u")switch(this.connection.effectiveType){case"2g":e=Math.round(e*5),i=Math.round(i*5);break;case"3g":e=Math.round(e*1.38),i=Math.round(i*1.38);break;default:break}return this.utils.log.info(Je,`{include_offset: ${e}, load_offset: ${i}`),{include_offset:e,load_offset:i}}}});var Wn=H((Ep,Ko)=>{var Ue="mobile_inread_sticky";Ko.exports=class{constructor(e,i){this.utils=e,this.config=i,this.misConfig=this.config.services.mobile_inread_sticky,this.endedEvent=new Event("ocm-mobile_inread_sticky-end")}run(){return new Promise((e,i)=>{if(performance.mark("mobile_inread_sticky_start"),this.utils.log.info(Ue,"Running..."),!this.utils.is_mobile)return this.utils.log.info(Ue,"Not a mobile device. Aborting..."),this.utils.window.dispatchEvent(this.endedEvent),e({name:Ue});this.utils.loadStyle(`.ocm-mis-adv{font-size:10px; margin:0 auto 5px 0} .ocm-mis{position:relative !important;text-align:center} 
                 .ocm-mis-expand{height:${this.misConfig?.height?this.misConfig?.height:"650"}px; min-width:300px; max-width:336px; background-color:transparent; margin:0 auto;}
                .ocm-mis-wrapper{position:sticky !important; top:${this.misConfig.top}px !important}`),this.listenGPTEvent(),this.utils.contentLoaded().then(()=>(this.init(),this.utils.window.dispatchEvent(this.endedEvent),e({name:Ue})))})}init(){this.utils.log.info(Ue,"Looking up configured MIS divs...");for(let e of this.misConfig.pairs){if(!this.utils.allowedPageType(e.page_types)){this.utils.log.info(Ue,"##"+e.selector+"## not allowed in page type");continue}let i=this.utils.window.document.querySelector('[id*="'+e.selector+'"]:not([data-ocm-mis="true"])');if(!i)continue;if(this.utils.log.info(Ue,"Div found ("+e.selector+")"),i.querySelector('div[id^="google_ads_iframe_"] > iframe')){this.utils.log.warn(Ue,"Ad already loaded. Don't mess with it. Aborting DOM manipulation.");continue}this.utils.log.info(Ue,"Transforming to mobile inread sticky ("+e.selector+")");let n=document.createElement("div");n.classList.add("ocm-mis");let s=document.createElement("div");s.classList.add("ocm-mis-expand");let r=document.createElement("div");r.classList.add("ocm-mis-wrapper"),i.parentNode.insertBefore(n,i),n.append(s),s.append(r),r.appendChild(i),i.setAttribute("data-ocm-mis","true"),this.utils.clipHiddenOverflows(n),this.utils.log.info(Ue,"Transformation done ("+e.selector+")")}}listenGPTEvent(){this.utils.window.googletag.cmd.push(()=>{googletag.pubads().addEventListener("slotRenderEnded",e=>{if(e.isEmpty||!this.utils.is_mobile)return;this.utils.log.info(Ue,"I am in mobile device, time to check for position + z-index properties");let i=document.getElementById(e.slot.getSlotElementId());if(this.utils.log.info(Ue,"Found non empty mis slot:",i,i.classList.contains("ocm-mis")),i.classList.contains("ocm-mis"))return;let n=20,s=()=>{this.utils.log.info(Ue,"Looking for position style property in #"+i.id),i.style.getPropertyValue("position")&&n>0?(this.utils.log.info(Ue,"Found position style property in #"+i.id),i.style.removeProperty&&(this.utils.log.info(Ue,"Removing position style property in #"+i.id),i.style.removeProperty("position"))):(this.utils.log.info(Ue,"Did not find position style property in #"+i.id+", retrying"),n>0&&(n--,setTimeout(s,100)))};s()})})}}});var Jn=H((Ap,Go)=>{var Qe="mwi";Go.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-mwi-end")}run(){return new Promise((e,i)=>{if(performance.mark("mwi_start"),this.utils.log.info(Qe,"Running..."),!this.config.services.mwi.hasOwnProperty("code"))return this.utils.log.error(Qe,"Ad unit code missing from config"),this.utils.window.dispatchEvent(this.endedEvent),e({name:Qe});if(!this.utils.allowedPageType(this.config.services.mwi.page_types))return this.utils.log.info(Qe,"Terminating due to page type"),this.utils.window.dispatchEvent(this.endedEvent),e({name:Qe});if(!this.config.services.mwi.mobile&&this.utils.is_mobile)return this.utils.log.info(Qe,"Terminating due to mobile device"),this.utils.window.dispatchEvent(this.endedEvent),e({name:Qe});if(!this.config.services.mwi.desktop&&!this.utils.is_mobile)return this.utils.log.info(Qe,"Terminating due to desktop device"),this.utils.window.dispatchEvent(this.endedEvent),e({name:Qe});this.utils.window.googletag.cmd.push(()=>{let n=googletag.defineOutOfPageSlot(this.config.services.mwi.code,googletag.enums.OutOfPageFormat.INTERSTITIAL);return n?(this.utils.log.info(Qe,"Slot created"),this.utils.loadStyle("ins[data-vignette-loaded] { position:fixed !important; z-index: 2147483647 !important }"),n.addService(googletag.pubads()),n.addService(googletag.pubads()).setConfig({interstitial:{triggers:{unhideWindow:this.config.services.mwi&&this.config.services.mwi.unhideWindow||!1}}}),this.utils.config.services.header_bidding.active||this.utils.config.services.lazyload.active?(this.utils.log.info(Qe,"disableInitialLoad is on, refreshing"),this.utils.gptPubAdsReady().then(()=>{googletag.pubads().refresh([n],{changeCorrelator:this.config.change_correlator!==void 0?this.config.change_correlator:!0})}),this.utils.window.dispatchEvent(this.endedEvent),e({name:Qe})):(this.utils.window.dispatchEvent(this.endedEvent),e({name:Qe}))):(this.utils.window.dispatchEvent(this.endedEvent),e({name:Qe}))})})}}});var Xn=H((Cp,Wo)=>{var $o="ocm_chrome_ext";Wo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-ocm_chrome_ext-end")}run(){return new Promise((e,i)=>{performance.mark("ocm_chrome_ext_start"),this.utils.log.info($o,"Populating Extension Data");let n={type:"OCM_CONFIG",data:this.config};return this.utils.window.postMessage(n,"*"),this.utils.window.dispatchEvent(this.endedEvent),e({name:$o})})}}});var Yn=H((Tp,Jo)=>{var ve="ocm_interstitial";Jo.exports=class{constructor(e,i){this.utils=e,this.oi_config=this.utils.config.services.ocm_interstitial,this.oi_config_device=e.is_mobile?this.oi_config.mobile:this.oi_config.desktop,this.clicked_url=null,this.open_in_new_tab=!1,this.adUnit=null,this.now=Date.now(),this.wait_for_ads_ended=!1,this.waitForAdsEndedEvent=new Event("waitForAdsEnded"),this.ocmInterstitialClosedEvent=new Event("ocm-ocm_interstitial-closed"),this.endedEvent=new Event("ocm-ocm_interstitial-end"),this.FREQUENCY_CAP_KEY="ocm_inter_fcap_"+(this.utils.is_mobile?"mobile":"desktop")}run(){return new Promise(async(e,i)=>(performance.mark("ocm_interstitial_start"),this.utils.log.info(ve,"Running..."),this.oi_config_device.active?!this.utils.canUseLocalStorage&&this.oi_config_device.frequency>0?(this.utils.log.info(ve,"Local storage inaccessible, terminating"),this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent),this.utils.window.dispatchEvent(this.endedEvent),e({name:ve})):this.oi_config_device.frequency>0&&this.isFrequencyCapped()?(this.utils.log.info(ve,"Frequency cap reached, terminating process"),this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent),this.utils.window.dispatchEvent(this.endedEvent),e({name:ve})):this.checkHbConfig()?this.utils.allowedPageType(this.oi_config_device.page_types)?(this.utils.log.info(ve,"oi_config_device",this.oi_config_device),this.oi_config_device.wait_for_ads.length===0?(this.setupAndRun(),this.utils.window.dispatchEvent(this.endedEvent),e({name:ve})):(this.utils.log.info(ve,"has wait_for_ads, setting up listener"),this.waitForAdsToRenderEmpty(),this.utils.window.addEventListener("waitForAdsEnded",()=>{this.setupAndRun()}),this.utils.window.dispatchEvent(this.endedEvent),e({name:ve}))):(this.utils.log.info(ve,"Page type not allowed, terminating process",this.oi_config_device.page_types),this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent),this.utils.window.dispatchEvent(this.endedEvent),e({name:ve})):(this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent),this.utils.window.dispatchEvent(this.endedEvent),i({name:ve,message:"OCM Interstitial not set up in HB config"})):(this.utils.log.info(ve,`Inactive for ${this.utils.mobile?"mobile":"desktop"}, terminating`),this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent),this.utils.window.dispatchEvent(this.endedEvent),e({name:ve}))))}setupAndRun(){this.setup(),this.oi_config.options.show_on_load&&this.showOnLoad(),this.oi_config.options.show_on_navigation&&this.showOnNavigation(),this.oi_config.options.show_on_tab_back&&this.showOnTabBack()}setup(){this.fullScreenStyles(),this.fullScreen(),this.adUnit=this.utils.window.ocmpbjs.adUnits.find(e=>e.code==="ocm-interstitial")}showOnLoad(){this.show()}showOnNavigation(){this.utils.window.document.querySelectorAll(`a[href*="${this.utils.hostname}"]:not(a[data-google-interstitial="false"]), a[href^="/"]:not(a[data-google-interstitial="false"])`).forEach(i=>i.addEventListener("click",n=>{n.preventDefault();let s=this.findParentAnchor(n.target);s&&s.hasAttribute("href")&&(this.clicked_url=s.href||s.parentNode.href,this.open_in_new_tab=s.hasAttribute("target")&&s.getAttribute("target")==="_blank"),this.show()}),{once:!0})}findParentAnchor(e){return e.tagName==="A"?e:e.parentElement?this.findParentAnchor(e.parentElement):null}showOnTabBack(){this.utils.window.document.addEventListener("visibilitychange",()=>{if(!document.hidden){if(this.oi_config_device.frequency>0&&this.isFrequencyCapped()){this.utils.log.info(ve,"Frequency cap reached, terminating process");return}this.show()}})}show(){this.utils.window.ocmpbjs.requestBids({adUnits:this.adUnit,bidsBackHandler:e=>{if(this.utils.log.info(ve,"ocm-interstitial bidResponses",e),!e){this.oi_config.options.show_on_navigation&&this.clicked_url?this.open_in_new_tab?window.open(this.clicked_url,"_blank").focus():window.top.location.href=this.clicked_url:this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent);return}Object.keys(e).forEach(i=>{e[i].bids=e[i].bids.filter(n=>n.statusMessage!=="bidRejected"&&n.status!=="bidRejected")}),Object.keys(e).forEach(i=>{e[i].bids.length||delete e[i]}),Object.keys(e).length>0?this.directRenderBids(e):this.oi_config.options.show_on_navigation&&this.clicked_url?this.open_in_new_tab?window.open(this.clicked_url,"_blank").focus():window.top.location.href=this.clicked_url:this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent)}})}directRenderBids(e){for(let i in e){this.utils.log.info(ve,"Found bid for #"+i);let n=i,s=this.utils.window.document.getElementById(n);if(s){this.utils.log.info(ve,"Ad div = ",s);let r=this.utils.window.document.createElement("iframe");r.setAttribute("id",n+"_ocm_hb"),r.setAttribute("style","border:0; overflow:hidden; margin:0px auto;display:block;"),r.width="1",r.height="1",r.setAttribute("frameborder","0"),r.setAttribute("marginheight","0"),r.setAttribute("marginwidth","0"),r.setAttribute("scrolling","no"),r.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation-by-user-activation");let o=this.utils.window.ocmpbjs.getAdserverTargetingForAdUnitCode(n);if(Object.keys(o).length||(o=this.utils.window.ocmpbjs.getAdserverTargetingForAdUnitCode(i)),this.utils.log.info(ve,"adServerTargeting",o),o&&o.hb_adid){this.utils.log.info(ve,"Rendering ad for "+n),s.querySelectorAll("script, div, iframe, ins").forEach(p=>p.remove()),s.append(r);let l=r.contentDocument||r.contentWindow.document,d=r.contentWindow;if(o.hb_format==="native"){let p=l.createElement("script");p.src="https://cdn.orangeclickmedia.com/tech/libs/pbc/native.js",l.head.appendChild(p),p.onload=()=>{d.pbNativeData={},d.pbNativeData.pubUrl=this.utils.window.location.hostname,d.pbNativeData.adId=o.hb_adid,d.pbNativeData.requestAllAssets=!0,d.ucTag.renderAd(l,d.pbNativeData)}}else this.utils.window.ocmpbjs.renderAd(l,o.hb_adid);setTimeout(()=>{l.body&&(l.body.insertAdjacentHTML("afterbegin","<style>body {margin:0px !important}</style>"),l.body.style.margin="0px !important")},10),s.setAttribute("style","display:block;overflow:hidden;margin:0 auto;")}}else this.utils.log.info(ve,"Ad div #"+n+" not found")}}isFrequencyCapped(){let e=this.getFrequencyCap();return e?this.now<e:!1}setFrequencyCap(){if(this.oi_config_device.frequency!==0)try{let e=this.now+this.oi_config_device.frequency*60*60*1e3;this.utils.window.localStorage.setItem(this.FREQUENCY_CAP_KEY,e.toString())}catch(e){this.utils.log.error(ve,e,"Failed to set frequency cap")}}getFrequencyCap(){if(this.oi_config_device.frequency!==0)try{return parseInt(this.utils.window.localStorage.getItem(this.FREQUENCY_CAP_KEY))}catch(e){this.utils.log.error(ve,e,"Failed to get frequency cap")}}checkHbConfig(){return!!this.utils.window.ocmpbjs.adUnits.some(e=>e.code==="ocm-interstitial")}waitForAdsToRenderEmpty(){let e=0,i=0;this.utils.window.googletag.cmd.push(()=>{let n=this.oi_config_device.wait_for_ads.length;this.utils.window.googletag.pubads().addEventListener("slotRenderEnded",s=>{this.oi_config_device.wait_for_ads.filter(r=>r.path===s.slot.getAdUnitPath()).length&&(s.isEmpty?i++:e++,this.utils.log.info(ve,n,i,e),i===n&&(this.wait_for_ads_ended=!0,this.utils.log.warn(ve,"All ad units to wait for were rendered as empty, continuing..."),this.utils.log.info(ve,"dispatching waitForAdsEnded event"),this.utils.window.dispatchEvent(this.waitForAdsEndedEvent)))}),setTimeout(()=>{!this.wait_for_ads_ended&&e===0?(this.wait_for_ads_ended=!0,this.utils.log.warn(ve,"Waited for ads to render empty but timed out, continuing..."),this.utils.log.info(ve,"dispatching waitForAdsEnded event"),this.utils.window.dispatchEvent(this.waitForAdsEndedEvent)):this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent)},6e3)})}fullScreen(e){this.styleForXButton();let i=this.utils.window.document.querySelectorAll("body *")[0],n=this.utils.window.document.querySelector("body"),s=this.utils.window.document.createElement("div");s.classList.add("ocm-interstitial","ocm-is");let r=document.createElement("div");r.classList.add("ocm-interstitial-container");let o=document.createElement("div");o.classList.add("ocm-interstitial-content");let a=this.utils.window.document.createElement("div");a.id="ocm-interstitial",a.styles="display:none;overflow:hidden;margin:0 auto;max-height:calc(100vh - 60px);",a.classList.add("ocm-interstitial-ad");let l=document.createElement("div");l.classList.add("ocm-close-icon-container");let d=document.createElement("button");d.classList.add("ocm-button-close"),this.utils.is_mobile||(l.addEventListener("mouseenter",()=>{d.classList.add("ocm-button-close-hover")}),l.addEventListener("mouseleave",()=>{d.classList.remove("ocm-button-close-hover")})),l.append(d),d.addEventListener("click",p=>{setTimeout(()=>{this.oi_config.options.show_on_navigation&&this.clicked_url?(window.top.location.href=this.clicked_url,this.clicked_url=null):(s.classList.remove("active"),n.classList.remove("no-scroll"),this.utils.window.dispatchEvent(this.ocmInterstitialClosedEvent))},0),p.stopPropagation()}),o.append(l),o.append(a),r.append(o),s.append(r),i.parentNode.append(s),this.utils.window.ocmpbjs=this.utils.window.ocmpbjs||{},this.utils.window.ocmpbjs.que=this.utils.window.ocmpbjs.que||[],this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("adRenderSucceeded",p=>{p.bid.adUnitCode==="ocm-interstitial"&&(this.setFrequencyCap(),s.classList.add("active"),n.classList.add("no-scroll"))})})}fullScreenStyles(){this.utils.loadStyle(`            .ocm-interstitial.ocm-is {
                z-index: 2147483643;
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(255, 255, 255, 0.7);
            }

            .ocm-interstitial.ocm-is.active {
                display: block !important;
            }

            .ocm-interstitial.ocm-is .ocm-interstitial-container {
                z-index: 2147483643;
                display: flex;
                flex-direction: column;
                width: 100%;
                height: 100%;
                justify-content: center;
                align-items: center;
            }

            .ocm-interstitial.ocm-is .ocm-interstitial-container .ocm-interstitial-content {
                z-index: 2147483643;
                display: flex;
                flex-direction: column;
            }

            .ocm-interstitial.ocm-is .ocm-close-icon-container {
                z-index: 2147483644;
                display: flex;
                flex-direction: row;
                justify-content: flex-end;
            }

            body.no-scroll {
                overflow: hidden!important;
            }
`)}styleForXButton(){this.utils.loadStyle(`          .ocm-button-close{
               padding: 0 !important;
               border-radius: 4px !important;
               display: block !important;
               position: relative !important;
               width: 30px !important;
               height: 30px !important;
               background: #fff !important;
               color: #4a968e !important;
               border: 1px solid #106e89 !important;
               outline: none !important;
               cursor: pointer !important;
           }

           .ocm-button-close-hover:before{
                   width: 100% !important;
                   box-sizing: border-box !important;
                   margin:0 !important;
                   padding:0 !important;
            }

            .ocm-button-close-hover:after{
                   width: 100% !important;
                   box-sizing: border-box !important;
                   margin:0 !important;
                   padding:0 !important;
            }

            .ocm-button-close:before{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(-45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }

           .ocm-button-close:after{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }`)}}});var Qn=H((kp,Xo)=>{var At="outbrain";Xo.exports=class{constructor(e,i){this.utils=e,this.config=i,this.obConfig=this.utils.is_mobile?this.config.services.outbrain.mobile:this.config.services.outbrain.desktop,this.isInjected=!1,this.endedEvent=new Event("ocm-outbrain-end")}run(){return new Promise(async(e,i)=>(performance.mark("outbrain_start"),this.utils.log.info(At,"Running..."),this.utils.window.document.querySelector(this.obConfig.conditions.selector)?this.obConfig.lazyload&&this.obConfig.lazyload.enable?(this.utils.window.dispatchEvent(this.endedEvent),this.lazyLoadInject(e,i)):(this.utils.window.dispatchEvent(this.endedEvent),this.inject(e,i)):(this.utils.log.info(At,"Could not find defined selector: ",this.obConfig.selector),this.utils.window.dispatchEvent(this.endedEvent),e({name:At}))))}inject(e,i){let n=this.utils.determineInjectionTarget(this.obConfig.conditions.selector,this.obConfig.conditions.position,this.obConfig.conditions.count_gt,this.obConfig.conditions.word_count,this.obConfig.conditions.words_gt);if(!n)return this.utils.log.info(At,"Could not find defined selector: ",this.obConfig.selector),e({name:At});let s=this.utils.window.document.createElement("div");s.classList.add("OUTBRAIN"),(this.obConfig.include_ob_content_url===void 0||this.obConfig.include_ob_content_url)&&s.setAttribute("data-ob-contentUrl",window.location.href),s.setAttribute("data-widget-id",this.obConfig.widgetId),s.setAttribute("data-ob-installation-key",this.obConfig.installationKey);let r=this.obConfig.styles;r&&r!==""&&s.setAttribute("style",r);let o=this.obConfig.classes.split(" ");o.length&&(s.classList.add("OUTBRAIN"),s.classList.add(o));let a=this.utils.window.document.createElement("script");return a.async="async",a.src="https://widgets.outbrain.com/outbrain.js",this.utils.injectTag(n,s,this.obConfig.conditions.place)&&((this.config.debug||this.obConfig.debug)&&this.utils.log.info(At,"Injected OUTBRAIN div in "+this.obConfig.conditions.place+" of ",n),this.utils.injectTag(n,a,this.obConfig.conditions.place))?((this.config.debug||this.obConfig.debug)&&this.utils.log.info(At,"Injected OUTBRAIN script in "+this.obConfig.conditions.place+" of ",n),e({name:At})):e({name:At})}lazyLoadInject(e,i){let n=this.obConfig.lazyload.offset&&this.obConfig.lazyload.offset!==""?this.obConfig.lazyload.offset:0;this.utils.lazyLoad(this.obConfig.conditions.selector,{rootMargin:`${n}px 0px`},(s,r)=>{this.isInjected||(this.isInjected=!0,this.inject(e,i))})}}});var ts=H((Zn,es)=>{(function(t,e){typeof Zn=="object"&&typeof es<"u"?es.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,function(){var i=t.Cookies,n=t.Cookies=e();n.noConflict=function(){return t.Cookies=i,n}}())})(Zn,function(){"use strict";function t(s){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)s[a]=o[a]}return s}var e={read:function(s){return s[0]==='"'&&(s=s.slice(1,-1)),s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(s){return encodeURIComponent(s).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function i(s,r){function o(l,d,p){if(!(typeof document>"u")){p=t({},r,p),typeof p.expires=="number"&&(p.expires=new Date(Date.now()+p.expires*864e5)),p.expires&&(p.expires=p.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var m="";for(var h in p)p[h]&&(m+="; "+h,p[h]!==!0&&(m+="="+p[h].split(";")[0]));return document.cookie=l+"="+s.write(d,l)+m}}function a(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var d=document.cookie?document.cookie.split("; "):[],p={},m=0;m<d.length;m++){var h=d[m].split("="),u=h.slice(1).join("=");try{var g=decodeURIComponent(h[0]);if(p[g]=s.read(u,g),l===g)break}catch{}}return l?p[l]:p}}return Object.create({set:o,get:a,remove:function(l,d){o(l,"",t({},d,{expires:-1}))},withAttributes:function(l){return i(this.converter,t({},this.attributes,l))},withConverter:function(l){return i(t({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(s)}})}var n=i(e,{path:"/"});return n})});var Li=H((Dp,Yo)=>{var Xt="user_engagement";Yo.exports=class{constructor(e,i,n){this.utils=e,this.config=i,this.ue_config=this.config.services.user_engagement,this.oid=n,this.oeid=this.utils._oeid,this.sent=!1,this.ocm_pvc_items=JSON.parse(this.utils.window.localStorage.getItem("ocm_pvc_items"))||[],this.engaged=!1,this.engaged_time=this.getCurrentTime(),this.disengaged_time=this.engaged_time+2e3,this.totalCompletion=0,this.totalEngagedTime=0;let s="";if(this.config.build){let r=this.config.build.split(".");r.length>1&&(this.ocm_build_version=r[1])}this.now=this.getCurrentTime(),this.endedEvent=new Event("ocm-user_engagement-end")}async run(){performance.mark("user_engagement_start"),await this.sendAndEmptyEvents(),await this.createPvcEvent(),this.initEngagementListener(),this.updateEventListener(),this.utils.window.dispatchEvent(this.endedEvent)}sendAndEmptyEvents(){return new Promise(async(e,i)=>{let n=[...this.ocm_pvc_items];if(this.utils.window.document.visibilityState==="visible")for(let s=0;s<n.length;s++){let r=n[s],o=JSON.parse(this.utils.window.localStorage.getItem(r))||null;if(o){if(o.tet===0){o.tl+18e5<=this.now&&await this.deletePvcEvent(r);continue}await this.deletePvcEvent(r),await this.sendEventToAPI(o).then(a=>{}).catch(a=>{})}else this.utils.log.warn(Xt,`Could not find ${r} in localStorage`)}return e({name:Xt})})}initEngagementListener(){["touchstart","mousemove","mousedown","scroll","keydown","resize","focus"].forEach(i=>{this.utils.window.addEventListener(i,this.utils.throttle(()=>{this.engaged=!0,this.engaged_time=this.getCurrentTime(),this.engagement_timer&&clearTimeout(this.engagement_timer),this.engagement_timer=setTimeout(()=>{this.engaged=!1,this.disengaged_time=this.getCurrentTime(),this.totalEngagedTime+=this.disengaged_time-this.engaged_time},2e3)},1e3))})}updateEventListener(){let e=()=>{if(this.utils.window.document.visibilityState!=="visible"){setTimeout(e,2e3);return}this.ocm_pvc_items.some(i=>i===`ocm_pvc_${this.oeid}`)||(this.ocm_pvc_items.push(`ocm_pvc_${this.oeid}`),this.utils.window.localStorage.setItem("ocm_pvc_items",this.ocm_pvc_items)),this.utils.window.localStorage.setItem(`ocm_pvc_${this.oeid}`,JSON.stringify(this.updatePvcEvent("updateEventListener"))),setTimeout(e,2e3)};e()}createPvcEvent(){return new Promise((e,i)=>{let n=this.updatePvcEvent("createPvcEvent");try{this.ocm_pvc_items.push(`ocm_pvc_${this.oeid}`),this.utils.window.localStorage.setItem("ocm_pvc_items",JSON.stringify(this.ocm_pvc_items)),this.utils.window.localStorage.setItem(`ocm_pvc_${this.oeid}`,JSON.stringify(n))}catch(s){this.utils.shouldLogError&&this.utils.log.error(Xt,s,"Error creating PVC event",JSON.stringify(n))}return e({name:Xt})})}updatePvcEvent(e){let i=Math.max(this.totalCompletion,this.getCurrentCompletion()),n=this.getCurrentCompletion();return this.totalEngagedTime+=this.engaged&&e==="updateEventListener"?this.getCurrentTime()-this.engaged_time:0,this.totalCompletion=i,{u:this.utils.window.location.href,o:this.oeid,oi:this.oid,d:this.utils.window.location.hostname.replace("www.",""),tet:Math.ceil(parseInt(this.totalEngagedTime)/1e3),s:n,ts:this.totalCompletion,tm:this.now,tl:this.getCurrentTime(),v:this.ocm_build_version}}deletePvcEvent(e){return new Promise((i,n)=>(this.ocm_pvc_items=JSON.parse(this.utils.window.localStorage.getItem("ocm_pvc_items")).filter(s=>s!==e),this.utils.window.localStorage.setItem("ocm_pvc_items",JSON.stringify(this.ocm_pvc_items)),this.utils.window.localStorage.removeItem(e),i({name:Xt})))}sendEventToAPI(e){return new Promise((i,n)=>{if(!e)return n({name:Xt,message:"Failed to send event to API"});let s={u:e.u,t:e.t,oi:e.oi,tet:parseInt(e.tet),s:e.s||0,ts:e.ts||0,o:e.o,h:e.d,tm:e.tm,v:this.ocm_build_version},r=new URLSearchParams(this.utils.window.location.search),o=Object.fromEntries(r.entries());fetch("https://windrunner.orangeclickmedia.com/pvc",{method:"POST",headers:{"Content-Type":"text/plain",Accept:"*/*"},body:JSON.stringify({events:[s]}),keepAlive:!0}).then(l=>{l.ok?i():n(l.json())}).catch(l=>{n(l)})})}getCurrentCompletion(){let e=this.utils.window.document.documentElement.scrollHeight,i=this.utils.window.scrollY+this.utils.window.innerHeight;return i<=0?0:i>=e?1:i/e}getCurrentTime(){let e=new Date;return e.toLocaleString("el-GR",{timeZone:"Europe/Athens"}),e.getTime()}}});var ns=H((Np,ea)=>{var Yt="reaper",Qo="https://windrunner.orangeclickmedia.com/insert",Zo="//windrunner.orangeclickmedia.com/usync",is=ts();ea.exports=class{constructor(e,i){this.utils=e,this.config=i,this._oid=null,this.cookie_type=null,this._oeid=this.utils._oeid,this._oeid_time=this.utils._oeid_time,this.reaper_config=i.services.reaper,this.data={},this.device_access=!0,this.ip="",this.utils.window.OCM.site_language=this?.reaper_config?.language||null,this.endedEvent=new Event("ocm-reaper-end")}run(){return new Promise(async(e,i)=>{performance.mark("reaper_start"),this.config.uses_cmp&&!this.utils.window.OCM.hasPurposeOneConsent&&(this.device_access=!1),this.gptSetTargetingOeid(),this.collect().then(()=>(this.runUserEngagement(this._oid,this._oeid),this.utils.config.services.header_bidding.active||this.send(),this.utils.updateState("is_gordon_with_us",!0),this.utils.window.dispatchEvent(this.endedEvent),e({name:"reaper"}))).catch(n=>(this.utils.window.dispatchEvent(this.endedEvent),i({name:"reaper",message:n})))})}async runUserEngagement(e,i){let n=Li();await new n(this.utils,this.config,e).run()}gptSetTargetingOeid(){this.utils.window.googletag.cmd.push(()=>{this.utils.window.googletag.pubads().setTargeting("oeid",[this.utils._oeid])})}collect(){return new Promise((e,i)=>{let n=["Article","article","news_article","Recipe","Teen Article","Article-Event","Article-Movie","BombPlus Article","Maritime Article","Nea-Article","Plus Article","no-refresh","Post","block","Efsyn City Article"];this.reap().then(s=>(this.data={ip:this.utils.window.OCM?.geo?.ip||"",oid:this._oid||"",oeid:this.utils._oeid||"",oeid_time:this.utils._oeid_time,eids:"",consent:this.utils.window.OCM.hasPurposeOneConsent,cookie_type:this.cookie_type,os:`${this.utils.browser.os.name||""}/${this.utils.browser.os.versionName||""}/${this.utils.browser.os.version||""}`,browser:`${this.utils.browser.browser.name}/${this.utils.browser.browser.version}`||"",platform:this.utils.browser.platform.type||"",pageType:n.includes(this.utils.window.OCM.pageType)||this.utils.window.OCM.pageType.toLowerCase().includes("article")?"Article":this.utils.window.OCM.pageType,url:`${this.utils.window.location.protocol}//${this.utils.window.location.hostname+this.utils.window.location.pathname}`,language:this.utils.window.navigator.language,hostname:this.utils.window.location.hostname.replace("www.",""),searchParams:this.utils.window.location.search,city:this.utils.window?.OCM?.geo?.city||this.utils.window?.xtbClient?.cookies.city||"",pixelRatio:this.utils.window.devicePixelRatio||null,connection:this.getConnectionSpeed(),referrer:document.referrer,viewportSize:`${document.documentElement.clientWidth}x${document.documentElement.clientHeight}`,windowSize:`${this.utils.window.outerWidth}x${this.utils.window.outerHeight}`,site_language:this?.reaper_config?.language||"-"},this.utils.config.services.header_bidding.active&&(this.utils.reaper_data=this.data),e())).catch(s=>i(s))})}reap(){return new Promise(async(e,i)=>{if(!this.device_access)return this._oid="",this.cookie_type="",e();this._oid=is.get("_oid")||this.utils.window.localStorage.getItem("_oid")||null,this.thirdPartyCall(n=>n?(this.saveOidInStorage(),e(n)):e(null))})}saveOidInStorage(){try{is.set("_oid",this._oid,{expires:400,domain:"."+this.utils.window.location.host.replace("www.",""),path:"/",Secure:!0,HttpOnly:!1})}catch(e){this.utils.log.error(Yt,e,"Failed to save _oid in a cookie")}if(this.utils.canUseLocalStorage)try{this.utils.window.localStorage.setItem("_oid",this._oid)}catch(e){this.utils.shouldLogError&&this.utils.log.error(Yt,e,"Failed to save _oid in localStorage")}}deleteOidFromStorage(){try{is.remove("_oid",{domain:"."+this.utils.window.location.host.replace("www.",""),path:"/",Secure:!0,HttpOnly:!1})}catch(e){this.utils.log.error(Yt,e,"Failed to delete _oid from cookies")}try{this.utils.window.localStorage.removeItem("_oid")}catch(e){this.utils.log.error(Yt,e,"Failed to delete _oid from localStorage")}}thirdPartyCall(e){let i=new XMLHttpRequest;i.open("GET",Zo),i.setRequestHeader("Content-Type","text/plain"),i.withCredentials=!0,i.send(),i.onloadend=()=>{let n=JSON.parse(i.response);if(n.hasOwnProperty("result")&&n.result)this.cookie_type="third",this._oid=n._oid,e(!0);else if(this._oid)this._oid=n._oid,this.cookie_type="first",e(!0);else{let s=new XMLHttpRequest;s.open("GET",Zo),s.setRequestHeader("Content-Type","text/plain"),s.withCredentials=!0,s.send(),s.onloadend=()=>{let r=JSON.parse(s.response);r.hasOwnProperty("result")&&r.result?this.cookie_type="third":this.cookie_type="first",this._oid=r._oid,e(!0)},s.onerror=()=>{this.deleteOidFromStorage(),e(!1)}}},i.onerror=n=>{n.hasOwnProperty("isTrusted")||this.utils.log.error(Yt,n,`Failed to get _oid from sync endpoint. Cookie type set to ${this.cookie_type}.`),this.deleteOidFromStorage(),e(!1)}}getConnectionSpeed(){let e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!e||e.saveData)return null;switch(e.effectiveType){case"4g":return 3;case"3g":return 2;case"2g":case"slow-2g":return 1;default:return null}}send(){this.data.ip=this.data.ip===""?this.utils.window.OCM?.geo?.ip:"";let e=new XMLHttpRequest;e.open("POST",Qo),e.setRequestHeader("Content-Type","text/plain"),e.send(JSON.stringify(this.data)),e.onerror=()=>{this.utils.log.error(Yt,`Failed at sending data to ${Qo}`)}}}});var ss=H((zp,ta)=>{var ze="rewarded_ad";ta.exports=class{constructor(e,i){this.utils=e,this.config=i,this.now=Date.now(),this.rwd_config=this.utils.is_mobile?this.utils.config.services.rewarded_ad.mobile:this.utils.config.services.rewarded_ad.desktop,this.localStorageKey=this.utils.is_mobile?"ocm_rw_fc_m":"ocm_rw_fc_d",this.ocmRewardedAdCloseEvent=new Event("ocmRewardedAdCloseEvent"),this.endedEvent=new Event("ocm-rewarded_ad-end")}run(){return new Promise((e,i)=>{if(performance.mark("rewarded_ad_start"),this.utils.log.info(ze,"Running..."),!this.utils.canUseLocalStorage||this.utils.isIOS)return this.utils.log.warn(ze,"Local storage is not available or iOS detected, terminating"),this.utils.window.dispatchEvent(this.endedEvent),e({name:ze});if(!this.config.services.rewarded_ad.hasOwnProperty("code"))return this.utils.log.error(ze,"Ad unit code missing from config"),this.utils.window.dispatchEvent(this.endedEvent),e({name:ze});if(!this.utils.allowedPageType(this.config.services.rewarded_ad.page_types))return this.utils.log.info(ze,"Terminating due to page type"),this.utils.window.dispatchEvent(this.endedEvent),e({name:ze});if(!this.config.services.rewarded_ad.mobile.active&&this.utils.is_mobile)return this.utils.log.info(ze,"Terminating due to mobile device"),this.utils.window.dispatchEvent(this.endedEvent),e({name:ze});if(!this.config.services.rewarded_ad.desktop.active&&!this.utils.is_mobile)return this.utils.log.info(ze,"Terminating due to desktop device"),this.utils.window.dispatchEvent(this.endedEvent),e({name:ze});this.checkFrequencyCap().then(n=>{if(!n)return this.utils.log.info(ze,"Terminating due to frequency cap"),this.utils.window.dispatchEvent(this.endedEvent),e({name:ze});this.utils.config.services.rewarded_ad?.css_fix&&this.utils.loadStyle("ins[id*=rw_ad]{position:fixed !important;} ins[id*=rw_ad] iframe{z-index:2147483647;}"),this.utils.window.googletag.cmd.push(()=>{let s=this.utils.window.googletag.defineOutOfPageSlot(this.utils.config.services.rewarded_ad.code,this.utils.window.googletag.enums.OutOfPageFormat.REWARDED).addService(this.utils.window.googletag.pubads());return this.utils.window.googletag.pubads().addEventListener("slotRenderEnded",r=>{!r.isEmpty&&r.slot.getAdUnitPath()===this.utils.config.services.rewarded_ad.code&&this.setFrequencyCap()}),this.utils.window.googletag.pubads().addEventListener("rewardedSlotReady",r=>{r.makeRewardedVisible()}),this.utils.window.googletag.pubads().addEventListener("rewardedSlotClosed",r=>{this.utils.window.dispatchEvent(this.ocmRewardedAdCloseEvent)}),this.utils.gptPubAdsReady().then(()=>{this.utils.config.services.lazyload.active&&this.utils.window.googletag.pubads().refresh([s],{changeCorrelator:this.utils.config.change_correlator!==void 0?this.utils.config.change_correlator:!0})}),this.utils.window.dispatchEvent(this.endedEvent),e({name:ze})})})})}checkFrequencyCap(){return new Promise((e,i)=>{let n=!1;if(this.rwd_config.fc===0)return this.utils.log.info(ze,"Frequency cap is set to 0, will run service"),e(!0);let s=this.getFrequencyCap();return s?(this.utils.log.info(ze,`localStorage key ${this.localStorageKey} found with value ${s}`),this.now>=s&&(this.utils.log.info(ze,`localStorage key ${this.localStorageKey} expired, will run service`),n=!0)):(this.utils.log.info(ze,`localStorage key ${this.localStorageKey} not found`),n=!0,this.setFrequencyCap()),e(n)})}setFrequencyCap(){this.utils.window.localStorage.setItem(this.localStorageKey,String(this.now+this.rwd_config.fc*60*60*1e3))}getFrequencyCap(){return parseInt(this.utils.window.localStorage.getItem(this.localStorageKey))}}});var rs=H((jp,ia)=>{var It="sticky";ia.exports=class{constructor(e,i){this.utils=e,this.config=i,this.sticky_config=i.services.sticky,this.counter=0,this.skin_slot=null,this.skin_empty=null,this.endedEvent=new Event("ocm-sticky-end")}run(){return new Promise(async(e,i)=>{performance.mark("sticky_start"),this.utils.log.info(It,"Running..."),await this.utils.gptApiReady();for(let n of this.sticky_config.ads)if(n.active){if(!this.deviceAllowed(n.conditions)&&n.position!=="fullscreen"){this.utils.log.info(It,"Ad ("+n.code+") not meant to run in current device");continue}if(!this.utils.allowedPageType(n.conditions.page_types)){this.utils.log.info(It,"Ad ("+n.code+") not meant to run in current page type");continue}if(this.isExcluded(n.conditions.exclude_urls)){this.utils.log.info(It,"Ad ("+n.code+"). Inside excluded url. Terminating service.");continue}this.structure(n)}return this.utils.window.dispatchEvent(this.endedEvent),e({name:It})})}determineSkinExists(){return new Promise((e,i)=>{let n=[];this.utils.log.info(It,"Checking if skin ad exists"),this.skin_slot&&e(!0),n=this.utils.window.googletag.pubads().getSlots().filter(s=>s.getSlotElementId().toLowerCase().includes("skin")||s.getAdUnitPath().toLowerCase().includes("skin")?(this.skin_slot=s,!0):!1),e(n.length>0)})}structure(e){switch(this.counter++,this.utils.log.info(It,"Structuring sticky with code: ",e.code),e.bg_color||(e.bg_color="rgba(27,27,27,.75)"),this.utils.config.services.lazyload.ad_load_offsets.push({path:e.code,offset:-1}),e.position){case"left":this.leftStyles(e),this.side(e);break;case"right":this.rightStyles(e),this.side(e);break;case"top":this.topStyles(e),this.topBottom(e);break;case"bottom":this.bottomStyles(e),this.topBottom(e);break;case"fullscreen":this.fullScreenStyles(e),this.fullScreen(e);break;default:break}}side(e){this.utils.log.info(It,"Trying to render side sticky with code: ",e.code),this.styleForXButton();let i=!0,n,s,r=this.utils.window.document.querySelectorAll("body *")[0],o=this.utils.window.document.createElement("div");o.classList.add("ocm-sticky",e.position),e.style&&e.style!==""&&(o.style=e.style),e.classes&&e.classes!==""&&o.setAttribute("class",e.classes);let a=this.utils.window.document.createElement("div");a.classList.add("ocm-sticky-container");let l=this.utils.window.document.createElement("div");l.classList.add("ocm-sticky-content");let d=this.utils.window.document.createElement("div");d.id="ocm_sticky_"+this.counter;let p=this.utils.window.document.createElement("script");p.text=`googletag.cmd.push(() => {
            try {
        `,e.size_mapping&&e.size_mapping.code&&e.size_mapping.name?p.text+=`${e.size_mapping.code.replace(/g\n/,"")}
                var ${d.id}_slot = googletag.defineSlot("${e.code}", ${e.sizes}, "${d.id}").defineSizeMapping(${e.size_mapping.name})
            `:p.text+=`
                var ${d.id}_slot = googletag.defineSlot("${e.code}", ${e.sizes}, "${d.id}")
            `,p.text+=`
                if (${d.id}_slot) {
                    ${d.id}_slot.addService(googletag.pubads())
                    googletag.display("${d.id}")
                    `,!this.config.services.lazyload.active&&this.config.services.header_bidding.active&&(p.text+=`
                    if (window.OCM.init_ad_server_set) {
                        googletag.pubads().refresh([${d.id}_slot], { changeCorrelator: ${this.config.change_correlator!==void 0?this.config.change_correlator:!0} })
                    }
                `),p.text+=`
                }
            } catch(err) {
                console.error('Error in sticky ad: ', err)
            }
        });`;let m=this.utils.window.document.createElement("div");m.classList.add("ocm-close-icon-container");let h=this.utils.window.document.createElement("button");h.classList.add("ocm-button-close"),this.utils.is_mobile||(m.addEventListener("mouseenter",()=>{h.classList.add("ocm-button-close-hover")}),m.addEventListener("mouseleave",()=>{h.classList.remove("ocm-button-close-hover")})),m.append(h),l.append(d),a.append(l),d.append(p),o.append(a),r.parentNode.append(o),this.utils.window.googletag.pubads().addEventListener("slotRenderEnded",u=>{if(!u.isEmpty&&u.slot.getSlotElementId()===d.id){if(n=u.size[0],s=u.size[1],setTimeout(()=>{a&&a.childNodes&&Array.from(a.childNodes).find(f=>f.className==="ocm-close-icon-container")||a.append(m)},5e3),s===1&&n===1)return;o.style.width=String(n)+"px",e.conditions.retract&&(o.addEventListener("mouseenter",g=>{i||(e.position==="left"?o.style.marginLeft="0px":e.position==="right"&&(o.style.marginRight="0px"),i=!0,g.stopPropagation())}),o.addEventListener("mouseleave",g=>{i&&(setTimeout(()=>{e.position==="left"?o.style.marginLeft="-"+String(Math.round(n*.33))+"px":e.position==="right"&&(o.style.marginRight="-"+String(Math.round(n*.33))+"px"),i=!1},1e3),g.stopPropagation())}))}}),this.utils.window.googletag.pubads().addEventListener("impressionViewable",u=>{u.slot.getSlotElementId()===d.id&&(this.utils.log.info(It,"Event after impression viewable ",u," event condition ",u.slot.getSlotElementId()===d.id),a&&a.childNodes&&Array.from(a.childNodes).find(f=>f.className==="ocm-close-icon-container")||a.append(m),h.addEventListener("click",f=>{e.position==="left"?o.style.marginLeft="-"+String(n)+"px":e.position==="right"&&(o.style.marginRight="-"+String(n)+"px"),setTimeout(()=>{o.remove()},500),f.stopPropagation()}),e.conditions.hide_if_skin&&this.determineSkinExists().then(f=>{f&&this.skin_slot&&this.skin_slot.getResponseInformation()&&setTimeout(()=>{e.position==="left"?o.style.marginLeft="-400px":e.position==="right"&&(o.style.marginRight="-400px"),setTimeout(()=>{o.remove()},500)},2e3)}),e.conditions.retract&&n!==1&&s!==1&&setTimeout(function(){e.position==="left"?o.style.marginLeft="-"+String(Math.round(n*.33))+"px":e.position==="right"&&(o.style.marginRight="-"+String(Math.round(n*.33))+"px"),i=!1},1e3))})}topBottom(e){this.styleForXButton();let i=this.utils.window.document.querySelectorAll("body *")[0],n=this.utils.window.document.createElement("div");n.classList.add("ocm-sticky",e.position),e.style&&e.style!==""&&(n.style=e.style),e.classes&&e.classes!==""&&n.setAttribute("class",e.classes);let s=this.utils.window.document.createElement("div");s.id="ocm_sticky_"+this.counter;let r=this.utils.window.document.createElement("script");r.text=`googletag.cmd.push(() => {
            try {
        `,e.size_mapping&&e.size_mapping.code&&e.size_mapping.name?r.text+=`${e.size_mapping.code.replace(/g\n/,"")}
                var ${s.id}_slot = googletag.defineSlot("${e.code}", ${e.sizes}, "${s.id}").defineSizeMapping(${e.size_mapping.name})
            `:r.text+=`
                var ${s.id}_slot = googletag.defineSlot("${e.code}", ${e.sizes}, "${s.id}")
            `,r.text+=`
                if (${s.id}_slot) {
                    ${s.id}_slot.addService(googletag.pubads())
                    googletag.display("${s.id}")
                    `,!this.config.services.lazyload.active&&this.config.services.header_bidding.active&&(r.text+=`
                    if (window.OCM.init_ad_server_set) {
                        googletag.pubads().refresh([${s.id}_slot], { changeCorrelator: ${this.config.change_correlator!==void 0?this.config.change_correlator:!0} })
                    }
                `),r.text+=`
                }
            } catch(err) {
                console.error('Error in sticky ad: ', err)
            }
        });`;let o=this.utils.window.document.createElement("div");o.classList.add("close-icon-container");let a=this.utils.window.document.createElement("button");a.classList.add("ocm-button-close"),this.utils.is_mobile||(o.addEventListener("mouseenter",()=>{a.classList.add("ocm-button-close-hover")}),o.addEventListener("mouseleave",()=>{a.classList.remove("ocm-button-close-hover")})),o.append(a),n.append(o),s.append(r),n.append(s),i.parentNode.append(n),this.utils.window.googletag.pubads().addEventListener("slotRenderEnded",l=>{if(!l.isEmpty&&l.slot.getSlotElementId()===s.id){n.classList.add("reveal-"+e.position);let d=l.size[0],p=l.size[1];e.conditions.device==="desktop"&&(d+=6,p+=6,["top","bottom"].includes(e.position)||(n.style.width=String(d)+"px")),setTimeout(()=>{o.addEventListener("click",()=>{n.classList.remove("reveal-"+e.position)})},2e3)}})}fullScreen(e){this.styleForXButton();let i=this.utils.window.document.querySelectorAll("body *")[0],n=this.utils.window.document.querySelector("body"),s=this.utils.window.document.createElement("div");s.classList.add("ocm-sticky","ocm-fs"),e.style&&e.style!==""&&(s.style=e.style),e.classes&&e.classes!==""&&s.setAttribute("class",e.classes);let r=this.utils.window.document.createElement("div");r.classList.add("ocm-sticky-container");let o=this.utils.window.document.createElement("div");o.classList.add("ocm-sticky-content");let a=this.utils.window.document.createElement("div");a.id="ocm-sticky-fullscreen",a.classList.add("ocm-sticky-ad");let l=this.utils.window.document.createElement("div");l.classList.add("ocm-close-icon-container");let d=this.utils.window.document.createElement("button");d.classList.add("ocm-button-close"),this.utils.is_mobile||(l.addEventListener("mouseenter",()=>{d.classList.add("ocm-button-close-hover")}),l.addEventListener("mouseleave",()=>{d.classList.remove("ocm-button-close-hover")})),l.append(d),d.addEventListener("click",p=>{setTimeout(()=>{s.classList.remove("active"),n.classList.remove("no-scroll")},500),p.stopPropagation()}),o.append(l),o.append(a),r.append(o),s.append(r),i.parentNode.append(s),this.utils.window.ocmpbjs=this.utils.window.ocmpbjs||{},this.utils.window.ocmpbjs.que=this.utils.window.ocmpbjs.que||[],this.utils.window.ocmpbjs.que.push(()=>{this.utils.window.ocmpbjs.onEvent("adRenderSucceeded",p=>{p.bid.adUnitCode===e.code&&(s.classList.add("active"),n.classList.add("no-scroll"))})})}styleForXButton(){this.utils.loadStyle(`          .ocm-button-close{
               padding: 0 !important;
               border-radius: 4px !important;
               display: block !important;
               position: relative !important;
               width: 30px !important;
               height: 30px !important;
               background: #fff !important;
               color: #4a968e !important;
               border: 1px solid #106e89 !important;
               outline: none !important;
               cursor: pointer !important;
           }

           .ocm-button-close-hover:before{
                   width: 100% !important;
                   box-sizing: border-box !important;
                   margin:0 !important;
                   padding:0 !important;
            }

            .ocm-button-close-hover:after{
                   width: 100% !important;
                   box-sizing: border-box !important;
                   margin:0 !important;
                   padding:0 !important;
            }

            .ocm-button-close:before{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(-45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }

           .ocm-button-close:after{
               box-sizing: border-box !important;
               content: '' !important;
               border-radius: 13px !important;
               position: absolute !important;
               left: 50% !important;
               top: 50% !important;
               width: 0;
               margin:0 !important;
               padding:0 !important;
               height: 1px !important;
               border-left: 8px solid currentColor !important;
               border-right: 8px solid currentColor !important;
               -webkit-transform: translate3d(-50%,-50%,0) rotate(45deg) !important;
               transition: all .2s cubic-bezier(.25,.46,.45,.94) !important;
           }`)}leftStyles(e){this.utils.loadStyle(`            .ocm-sticky.left {
                z-index: 2147483641;
                display: block;
                position: fixed;
                ${e?.conditions?.bottom&&e?.conditions?.bottom!==""?"bottom:"+e?.conditions?.bottom+`px;
`:`top:calc(50% - 300px);
`}                left:0px;
                -webkit-transition: margin-left 0.5s ease-in-out !important;
                transition: margin-left 0.5s ease-in-out !important;
            }
            .ocm-sticky.left .ocm-sticky-container {
                z-index: 2147483643;
                background-color: #fff;
                border: 0 solid #afaeae;
                box-sizing: content-box;
                color: #000;
                height: 100%;
                overflow: visible;
                position: absolute;
                text-align: left;
                visibility: visible;
            }
            .ocm-sticky.left .ocm-sticky-container .ocm-sticky-content {
              overflow: hidden;
              visibility: visible;
            }
            .ocm-sticky.left .ocm-sticky-container .ocm-sticky-content .ocm-sticky-ad {
              border: 0;
              height:100%;
              visibility: visible;
              width:100%;
            }
            .ocm-sticky.left .ocm-sticky-container .ocm-close-icon-container {
              z-index: 2147483645;
              cursor: pointer;
              display: block;
              height: 31px;
              ${e.x_position==="left"?"left: 3px;":"right: 3px;"}
              position: absolute;
              top: -35px;
              width: 32px;
            }
            .ocm-sticky.left .ocm-sticky-container .ocm-close-icon-container .ocm-close-icon .progress {
                opacity: 0;
                stroke-dasharray: 0,120;
                transition: 0.5s cubic-bezier(0.165, 0.775, 0.145, 1.020);
            }`)}rightStyles(e){this.utils.loadStyle(`            .ocm-sticky.right {
                z-index: 2147483641;
                display: block;
                position: fixed;
                ${e?.conditions?.bottom&&e?.conditions?.bottom!==""?"bottom:"+e?.conditions?.bottom+`px;
`:`top:calc(50% - 300px);
`}                right:0px;
                -webkit-transition: margin-right 0.5s ease-in-out !important;
                transition: margin-right 0.5s ease-in-out !important;
            }
            .ocm-sticky.right .ocm-sticky-container {
                z-index: 2147483643;
                background-color: #fff;
                border: 0 solid #afaeae;
                box-sizing: content-box;
                color: #000;
                height: 100%;
                overflow: visible;
                position: absolute;
                text-align: left;
                visibility: visible;
            }
            .ocm-sticky.right .ocm-sticky-container .ocm-sticky-content {
              overflow: hidden;
              visibility: visible;
            }
            .ocm-sticky.right .ocm-sticky-container .ocm-sticky-content .ocm-sticky-ad {
              border: 0;
              height:100%;
              visibility: visible;
              width:100%;
            }
            .ocm-sticky.right .ocm-sticky-container .ocm-close-icon-container {
              z-index: 2147483645;
              cursor: pointer;
              display: block;
              height: 32px;
              ${e.x_position==="left"?"left: 3px;":"right: 3px;"}
              position: absolute;
              top: -35px;
              width: 32px;
            }
            .ocm-sticky.right .ocm-sticky-container .ocm-close-icon-container .ocm-close-icon .progress {
                opacity: 0;
                stroke-dasharray: 0,120;
                transition: 0.5s cubic-bezier(0.165, 0.775, 0.145, 1.020);
            }`)}topStyles(e){this.utils.loadStyle(`          .ocm-sticky.top {
            position: fixed;
            background-color:`+e.bg_color+`;
            width: 100%;
            padding: 8px 0;
            z-index: 2147483641;
            top: -1000px;
            left: 0;
            right: 0;
            transition: top .5s ease-in-out !important;
            text-align: center;
          }

          .ocm-sticky.reveal-top {
            top: 0;
          }

          .ocm-sticky.reveal-top div[data-oau-code] {
            margin: 0 auto;
          }

          .ocm-sticky.top .close-icon-container {
            position: absolute;
            bottom: -35px;
              ${e.x_position==="left"?"left: 4px;":"right: 4px;"}
            z-index: 10;
          }

          .ocm-sticky.top .close-icon {
            display: inline-block;
            height: 32px;
            width: 32px;
            cursor: pointer;
            stroke: #fff;
          }

          .ocm-sticky.top .progress {
            opacity: 0;
            stroke-dasharray: 0, 120;
          }`)}bottomStyles(e){this.utils.loadStyle(`          .ocm-sticky.bottom {
            position: fixed;
            background-color:`+e.bg_color+`;
            width: 100%;
            padding: 8px 0;
            z-index: 2147483641;
            bottom: -1000px;
            left: 0px;
            right: 0px;
            transition: bottom .5s ease-in-out !important;
            text-align: center;
          }

          .ocm-sticky.reveal-bottom {
            bottom: 0px;
          }
          .ocm-sticky.reveal-bottom div[data-oau-code] {            margin: 0 auto;          }

          .ocm-sticky.bottom .close-icon-container {
            position: absolute;
            top: -35px;
              ${e.x_position==="left"?"left: 4px;":"right: 4px;"}
            z-index: 10;
          }

          .ocm-sticky.bottom .close-icon {
            display: inline-block;
            height: 32px;
            width: 32px;
            cursor: pointer;
            stroke: #fff;
          }

          .ocm-sticky.bottom .progress {
            opacity: 0;
            stroke-dasharray: 0, 120;
          }`)}fullScreenStyles(e){this.utils.loadStyle(`            .ocm-sticky.ocm-fs {
                z-index: 2147483643;
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(255, 255, 255, 0.7);
            }

            .ocm-sticky.ocm-fs.active {
                display: block !important;
            }

            .ocm-sticky.ocm-fs .ocm-sticky-container {
                z-index: 2147483643;
                display: flex;
                flex-direction: column;
                width: 100%;
                height: 100%;
                justify-content: center;
                align-items: center;
            }

            .ocm-sticky.ocm-fs .ocm-sticky-container .ocm-sticky-content {
                z-index: 2147483643;
                display: flex;
                flex-direction: column;
            }

            .ocm-sticky.ocm-fs .ocm-close-icon-container {
                z-index: 2147483644;
                display: flex;
                flex-direction: row;
                justify-content: flex-end;
            }

            body.no-scroll {
                overflow: hidden!important;
            }
`)}deviceAllowed(e){return this.utils.is_mobile&&e.device==="mobile"||!this.utils.is_mobile&&e.device==="desktop"&&this.utils.screen_width>=e.min_width*this.utils.window.devicePixelRatio}isExcluded(e){return!!(typeof e!==void 0&&e.length&&e.find(i=>this.utils.window.location.href.includes(i)))}}});var ds=H((Lp,ls)=>{var na=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);na?(os=new Uint8Array(16),ls.exports=function(){return na(os),os}):(as=new Array(16),ls.exports=function(){for(var e=0,i;e<16;e++)e&3||(i=Math.random()*4294967296),as[e]=i>>>((e&3)<<3)&255;return as});var os,as});var us=H((Hp,ra)=>{var sa=[];for(di=0;di<256;++di)sa[di]=(di+256).toString(16).substr(1);var di;function Pd(t,e){var i=e||0,n=sa;return[n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]]].join("")}ra.exports=Pd});var la=H((qp,aa)=>{var kd=ds(),Rd=us(),oa,cs,hs=0,fs=0;function Dd(t,e,i){var n=e&&i||0,s=e||[];t=t||{};var r=t.node||oa,o=t.clockseq!==void 0?t.clockseq:cs;if(r==null||o==null){var a=kd();r==null&&(r=oa=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=cs=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:new Date().getTime(),d=t.nsecs!==void 0?t.nsecs:fs+1,p=l-hs+(d-fs)/1e4;if(p<0&&t.clockseq===void 0&&(o=o+1&16383),(p<0||l>hs)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");hs=l,fs=d,cs=o,l+=122192928e5;var m=((l&268435455)*1e4+d)%4294967296;s[n++]=m>>>24&255,s[n++]=m>>>16&255,s[n++]=m>>>8&255,s[n++]=m&255;var h=l/4294967296*1e4&268435455;s[n++]=h>>>8&255,s[n++]=h&255,s[n++]=h>>>24&15|16,s[n++]=h>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var u=0;u<6;++u)s[n+u]=r[u];return e||Rd(s)}aa.exports=Dd});var ua=H((Vp,da)=>{var Od=ds(),Nd=us();function Bd(t,e,i){var n=e&&i||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||Od)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e)for(var r=0;r<16;++r)e[n+r]=s[r];return e||Nd(s)}da.exports=Bd});var gs=H((Up,ha)=>{var zd=la(),ca=ua(),ps=ca;ps.v1=zd;ps.v4=ca;ha.exports=ps});var ms=H((Gp,pa)=>{var G="story_teller_v2",Md="//cdn.orangeclickmedia.com/tech/libs/deckard-cain-v2.js",jd=gs(),fa=ts();pa.exports=class{constructor(e,i){this.stVisitedURLs=[],this.utils=e,this.config=i,this.stConfig=this.config.services.story_teller_v2,this.conditions=this.utils.is_mobile?this.stConfig.mobile.conditions:this.stConfig.desktop.conditions,this.stickyConfig=this.utils.is_mobile?this.stConfig.mobile.sticky:this.stConfig.desktop.sticky,this.vchackConfig=e.is_mobile?this.stConfig.mobile.vchack:this.stConfig.desktop.vchack,this.stickyBottomHeight=0,this.isIntersecting=!1,this.isMounted=!1,this.selector=null,this.now=new Date().getTime(),this.expirationTime=this.now+7*24*60*60*1e3,this.eId=jd.v4(),this.isInjected=!1,this.hasAd=!1,this.ANALYTICS_TIMEOUT=15*60*1e3,this.endedEvent=new Event("ocm-story_teller_v2-end"),this.nativeStory=null,this.injectNativeIndex=(typeof this.stConfig.inject_ad_at<"u"?Number(this.stConfig.inject_ad_at):2)-1,this.viewabilityFrame=null}run(){return new Promise(async(e,i)=>(performance.mark("story_teller_v2_start"),this.utils.config.services.header_bidding.active&&this.utils.config.services.header_bidding.adUnits.filter(n=>n.code==="ocm-storyteller").length>0&&(this.utils.log.info(G,"ocm-storyteller ad unit found, running auction for native"),await this.auctionForNative()),typeof this.utils.window.gtag=="function"&&this.utils.window.location.search.includes("ref=storyteller")&&this.sendGoogleAnalyticsStoryTellerEvent(),this.utils.allowedPageType(this.conditions.page_types)?this.stConfig.lazyload&&this.stConfig.lazyload.enable?(this.utils.window.dispatchEvent(this.endedEvent),this.lazyLoadInject(e,i)):(this.utils.window.dispatchEvent(this.endedEvent),this.inject(e,i)):(this.utils.log.info(G,"Page type not allowed, terminating process",this.conditions.page_types),this.utils.window.dispatchEvent(this.endedEvent),e({name:G}))))}auctionForNative(){return new Promise((e,i)=>{try{this.utils.window.ocmpbjs=this.utils.window.ocmpbjs||{},this.utils.window.ocmpbjs.cmd=this.utils.window.ocmpbjs.cmd||[],this.utils.window.ocmpbjs.cmd.push(()=>{this.utils.window.ocmpbjs.requestBids({adUnitCodes:["ocm-storyteller"],bidsBackHandler:n=>{if(this.utils.log.info(G,"ocm-storyteller bidResponses",n),typeof n>"u")return e(!0);if(Object.keys(n).forEach(s=>{n[s].bids=n[s].bids.filter(r=>r.statusMessage!=="bidRejected"&&r.status!=="bidRejected")}),Object.keys(n).forEach(s=>{n[s].bids.length||delete n[s]}),Object.keys(n).length>0){this.utils.log.info(G,"ST native bidResponses",n);try{let s=this.utils.window.ocmpbjs.getAdserverTargetingForAdUnitCode("ocm-storyteller");s&&s.hb_adid&&(this.nativeStory={title:n["ocm-storyteller"].bids[0]?.native?.title||n["ocm-storyteller"].bids[0]?.native?.ortb?.assets[0]?.title?.text||"",img:n["ocm-storyteller"].bids[0]?.native?.image?.url||n["ocm-storyteller"].bids[0]?.native?.ortb?.assets[2]?.img?.url||"",url:n["ocm-storyteller"].bids[0]?.native?.clickUrl||n["ocm-storyteller"].bids[0]?.native?.ortb?.link?.url||"",ad:{logo:n["ocm-storyteller"].bids[0]?.native?.icon?.url||"",cta:n["ocm-storyteller"].bids[0]?.native?.cta||"",description:n["ocm-storyteller"].bids[0]?.native?.body||"",sponsoredBy:n["ocm-storyteller"].bids[0]?.native?.sponsoredBy||"",trackers:n["ocm-storyteller"].bids[0]?.native?.impressionTrackers||n["ocm-storyteller"].bids[0]?.native?.ortb?.imptrackers||[],privacyUrl:n["ocm-storyteller"].bids[0]?.native?.privacy||""}})}catch(s){this.utils.log.error(G,s)}}return e(!0)}})})}catch(n){return this.utils.log.error(G,n,"Failed to run auction for native"),i(n)}})}sendGoogleAnalyticsStoryTellerEvent(){gtag("event","storyteller_pv",{url:encodeURIComponent(this.utils.window.document.location.href)})}lazyLoadInject(e,i){let n=this.stConfig.lazyload.offset&&this.stConfig.lazyload.offset!==""?+this.stConfig.lazyload.offset:0,s=this.utils.adjustLazyLoadOffset(n);this.utils.lazyLoad(this.conditions.selector,{rootMargin:`${s}px 0px`},(r,o)=>{this.isInjected||(this.isInjected=!0,this.inject(e,i))})}inject(e,i){performance.mark("story_teller_v2_start"),this.utils.log.info(G,"Running...");let n=this.createWrapper(),s=this.utils.determineInjectionTarget(this.conditions.selector,this.conditions.position,this.conditions.count_gt,this.conditions.words,this.conditions.words_gt);if(!s)return this.utils.log.info(G,"selector NOT found, stopping process",s),e({name:G});if(!n)return this.utils.log.info(G,"wrapper NOT found, stopping process",n),e({name:G});this.stConfig.enable_analytics&&(this.utils.log.info(G,"Analytics are enabled"),this.startTrackAnalytics()),this.getVisitedStories(),this.setWindowGlobals(),this.getStories().then(()=>{this.filterStories(),this.nativeStory&&this.injectNativeStory(),this.utils.injectTag(s,n,this.conditions.place),this.utils.waitFor("ADSQ.response",()=>(this.utils.window?.ADSQ?.response&&this.utils.log.info(G,"ADSQ.response",this.utils.window?.ADSQ?.response),this.handleBottomSticky(),this.populateWrapper(n),e({name:G})),50,()=>((this.stConfig.source==="rss"||(this.stConfig.source==="adsquirrel"&&this.utils.window?.ADSQ?.response)(this.stConfig.source==="adsquirrel"&&this.stConfig.rss_url!==""))&&(this.handleBottomSticky(),this.populateWrapper(n)),e({name:G})))}).catch(r=>(this.utils.window.OCM.ST.stories=[],i({name:G,message:r})))}renderNativeAd(){if(!this.nativeStory)return;let e="ocm-st",i=this.utils.window.document.querySelector('[data-id="ocm-st"]');if(i){this.utils.log.info(G,"Ad div = ",i);let n=this.utils.window.document.createElement("iframe");this.viewabilityFrame=n,n.setAttribute("id","ocm-storyteller"),n.setAttribute("style","max-width:1px; max-height:1px; border:0; overflow:hidden; margin:0px auto;display:block;"),n.width="1",n.height="1",n.setAttribute("frameborder","0"),n.setAttribute("marginheight","0"),n.setAttribute("marginwidth","0"),n.setAttribute("scrolling","no"),n.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation-by-user-activation");let s=this.utils.window.ocmpbjs.getAdserverTargetingForAdUnitCode("ocm-storyteller");if(s&&s.hb_adid){this.utils.log.info(G,"Rendering ad for "+e),i.append(n);let r=n.contentDocument||n.contentWindow.document,o=n.contentWindow;if(s.hb_format==="native"){let a=r.createElement("script");a.src="https://cdn.orangeclickmedia.com/tech/libs/pbc/native.js",r.head.appendChild(a),a.onload=()=>{o.pbNativeData={},o.pbNativeData.pubUrl=this.utils.window.location.hostname,o.pbNativeData.adId=s.hb_adid,o.pbNativeData.requestAllAssets=!0,o.ucTag.renderAd(r,o.pbNativeData)}}else this.utils.window.ocmpbjs.renderAd(r,s.hb_adid);setTimeout(()=>{r.body&&(r.body.insertAdjacentHTML("afterbegin","<style>body {margin:0px !important}</style>"),r.body.style.margin="0px !important")},10),i.setAttribute("style","display:block;overflow:hidden;margin:0 auto;")}}else this.utils.log.info(G,"Ad div #"+e+" not found")}injectNativeStory(){this.utils.log.info(G,"Injecting native story",this.nativeStory),this.utils.window.OCM.ST.stories.splice(this.injectNativeIndex,0,this.nativeStory)}initAnalytics(){if(this.utils.window&&this.utils.window.localStorage)try{let e=this.utils.window.localStorage.getItem("ost_analytics")?JSON.parse(this.utils.window.localStorage.getItem("ost_analytics")):[];e.push({id:this.eId,o:fa.get("_oid")||this.utils.window.localStorage.getItem("_oid")||null,oe:this.utils._oeid,u:this.utils.window.location.href,nc:[],pc:[],vs:[],ls:[],r:[],m:!0,t:this.now}),this.utils.log.info(G,"Initializing track analytics: ",e),this.utils.canUseLocalStorage&&(this.utils.window.localStorage.setItem("ost_analytics",JSON.stringify(e)),this.utils.window.sessionStorage.setItem("ost_aid",this.eId))}catch{let i=[{id:this.eId,o:fa.get("_oid")||this.utils.window.localStorage.getItem("_oid")||null,oe:this.utils._oeid,u:this.utils.window.location.href,nc:[],pc:[],vs:[],ls:[],r:[],m:!0,t:this.now}];this.utils.log.info(G,"Initializing track analytics: ",i),this.utils.window.localStorage.setItem("ost_analytics",JSON.stringify(i)),this.utils.window.sessionStorage.setItem("ost_aid",this.eId)}}startTrackAnalytics(){if(this.utils.window&&this.utils.window.localStorage){let e=this.utils.window.localStorage.getItem("ost_analytics")?JSON.parse(this.utils.window.localStorage.getItem("ost_analytics")):[],i=[],n=[];for(let s of e)if(s.t+this.ANALYTICS_TIMEOUT<=this.now){let r=s&&s.nc&&s.nc.length>0,o=s&&s.pc&&s.pc.length>0,a=s&&s.vs&&s.vs.length>0,l=s&&s.r&&s.r.length>0,d=s&&s.ls&&s.ls.length>0;(r||o||a||l||d)&&n.push(s)}else i.push(s);n&&n.length>0?fetch("https://storyteller-events-worker.ocm.workers.dev/st-events",{method:"POST",headers:{"Content-Type":"application/json"},mode:"no-cors",body:JSON.stringify({events:n})}).then(s=>{this.utils.canUseLocalStorage&&this.utils.window.localStorage.setItem("ost_analytics",JSON.stringify(i))}).catch(s=>{this.utils.log.error(G,s,"Failed to store st events")}).finally(()=>{this.initAnalytics()}):this.initAnalytics()}}getVisitedStories(){let e=this.utils.window.location.protocol+"//"+this.utils.window.location.hostname+this.utils.window.location.pathname,i=this.utils.window.localStorage.getItem("osturls");try{i||(this.utils.window.localStorage.setItem("osturls",JSON.stringify({urls:this.stVisitedURLs,exp:this.expirationTime})),i=this.utils.window.localStorage.getItem("osturls"));let n=JSON.parse(i);n&&this.now>=n.exp&&this.utils.window.localStorage.removeItem("osturls"),this.stVisitedURLs=n?n.urls:[],this.utils.window.location.href.includes("ref=storyteller")&&!this.stVisitedURLs.includes(e)&&(this.stVisitedURLs.push(e),this.utils.window.localStorage.setItem("osturls",JSON.stringify({urls:this.stVisitedURLs,exp:this.expirationTime})))}catch(n){this.utils.shouldLogError&&this.utils.log.error(G,n,"Failed to manage visited stories")}}filterStories(){if(this.utils.window&&this.utils.window.localStorage.getItem("osturls")){let e=this.utils.window.OCM.ST.stories.filter(i=>!this.stVisitedURLs.includes(i.url));e.length>4&&(this.utils.window.OCM.ST.stories=JSON.parse(JSON.stringify(e)))}}getStories(){return new Promise((e,i)=>{if(this.stConfig.source==="adsquirrel")this.fetchStoriesFromAdsquirrel().then(()=>e()).catch(()=>{this.utils.log.info(G,"Failed fetchStoriesFromAdsquirrel, falling back to fetchStoriesFromRss"),this.fetchStoriesFromRss().then(()=>e()).catch(n=>(this.utils.log.error(G,n,"Failed fetchStoriesFromRss, falling back to cloud video"),i(n)))});else if(this.stConfig.source==="rss")this.fetchStoriesFromRss().then(()=>e()).catch(n=>(this.utils.log.error(G,n,"Failed fetchStoriesFromRss, falling back to cloud video"),i(n)));else return i({name:G,message:"Failed to get stories"})})}fetchStoriesFromRss(){return new Promise(async(e,i)=>{if(!this.stConfig.rss_url||this.stConfig.rss_url==="")return this.utils.log.error(G,"Invalid RSS url"),i("Empty RSS URL in config");this.utils.parseRss(this.stConfig.rss_url).then(n=>(this.utils.window.OCM.ST.stories=[],n.forEach(s=>{this.utils.log.info(G,"Pushing to stories [",s.title,s.link,s.image,"]"),this.utils.window.OCM.ST.stories.push({url:s.link,title:s.title,img:s?.image})}),e())).catch(n=>i(G,n,"Failed to fetch stories from RSS"))})}fetchStoriesFromAdsquirrel(){return new Promise((e,i)=>{this.utils.waitFor("ADSQ",()=>{if(this.utils.window.ADSQ.response===null||this.utils.window.ADSQ.response.classified_as===null)return this.utils.log.info(G,"this.utils.window.ADSQ.response was null, rejecting fetchStoriesFromAdsquirrel"),i({name:G,message:"this.utils.window.ADSQ.response was null, rejecting fetchStoriesFromAdsquirrel"});let n="hostname="+this.utils.window.location.host+"&",s="classification="+encodeURIComponent(this.utils.window.ADSQ.response.classified_as[0].split("/")[0])+"&",r="";r+=n,r+=s,r=r.substring(0,r.length-1),r=btoa(r),fetch("https://api.adsquirrel.ai/stories?q="+r,{headers:{Accept:"application/json","Content-Type":"text/plain"},method:"GET"}).then(o=>o.json()).then(o=>(this.utils.window.OCM.ST.stories=o?.filter(a=>a.url!==this.utils.window.location.protocol+"//"+this.utils.window.location.host+this.utils.window.location.pathname),typeof this.utils.window.OCM.ST.stories>"u"?(this.utils.log.info(G,"this.utils.window.OCM.ST.stories was undefined, rejecting fetchStoriesFromAdsquirrel"),i({name:G,message:"this.utils.window.OCM.ST.stories was undefined, rejecting fetchStoriesFromAdsquirrel"})):(this.utils.log.info(G,"this.utils.window.OCM.ST.stories is gg, resolving fetchStoriesFromAdsquirrel"),e()))).catch(()=>(this.utils.log.info(G,"Could not fetch stories from api, rejecting fetchStoriesFromAdsquirrel"),i({name:G,message:"Could not fetch stories from api, rejecting fetchStoriesFromAdsquirrel"})))},100,()=>(this.utils.log.info(G,"ADSQ response took too long to respond, rejecting fetchStoriesFromAdsquirrel"),i({name:G,message:"ADSQ response took too long to respond, rejecting fetchStoriesFromAdsquirrel"})))})}setWindowGlobals(){this.utils.log.info(G,"Setting window globals"),this.utils.window.OCM.ST={sync_with_aniview:this.stConfig.sync_with_aniview||!1,hasAd:this.hasAd||!1,midRollTime:this.stConfig.midRollTime||5,playerTagId:this.stConfig.playerTagId,publisherId:this.stConfig.publisherId,source:this.stConfig.source,rss_url:this.stConfig.rss_url,debug:this.config.debug||this.stConfig.debug,redirect_target:this.stConfig.redirect_target,branding:this.stConfig.branding,sticky:this.stickyConfig,vchack:this.vchackConfig||!1,sound_hack:typeof this.stConfig.sound_hack<"u"?this.stConfig.sound_hack:!0,show_ad_choices:typeof this.stConfig.show_ad_choices<"u"?this.stConfig.show_ad_choices:!0,show_ad_description:typeof this.stConfig.show_ad_description<"u"?this.stConfig.show_ad_description:!1,device:this.utils.is_mobile?"mobile":"desktop",lg:{i:(...e)=>this.utils.log.info(...e),e:(...e)=>this.utils.log.error(...e),w:(...e)=>this.utils.log.warn(...e)},enable_analytics:this.stConfig.enable_analytics||!1}}updateStorytellerStickyState(e){this.utils.window.postMessage({type:"stickies_sync",service:"story_teller_v2",value:e})}createWrapper(){this.utils.log.info(G,"Creating wrapper");let e=this.utils.window.document.createElement("div");e.setAttribute("data-id","ocm-st"),this.utils.loadStyle('div[data-id="ocm-st"] { max-width:640px; display:block; margin:0 auto 1rem; position: relative; }');let i=this.utils.is_mobile?this.stConfig.mobile.styles:this.stConfig.desktop.styles,n=this.utils.is_mobile?this.stConfig.mobile.classes:this.stConfig.desktop.classes;return i&&i!==""&&(e.style=i),n&&n!==""&&e.setAttribute("class",n),e}handleBottomSticky(){new MutationObserver((i,n)=>{let s=this.utils.window.document.querySelector(".ocm-sticky.bottom");this.stickyBottomHeight=s&&s.clientHeight+40||0}).observe(this.utils.window.document,{childList:!0,subtree:!0})}handleStickiness(e,i,n){if(!e)return;let s=this.stickyConfig&&this.stickyConfig.enable,r=this.vchackConfig,o=this.stickyConfig?.full_width;if(this.isMounted&&(s||r))if(n){let a=i.clientWidth,l=Math.ceil(a*9/16)+70;this.utils.log.info(G,"Width ",a," and height: ",l),i.style.height=l+"px",e.style.position="relative",e.classList.remove("ocm-st-sticky"),e.style.zIndex="0",e.style.width="100%",e.style.height=l+"px",e.style.bottom="",e.style.top="",e.style.left="",e.style.right=""}else if(e.style.position="fixed",e.classList.add("ocm-st-sticky"),e.style.zIndex="2147483646",o&&i.clientWidth<425){e.style.width="100%";let a=this.utils.is_mobile?i.clientWidth*.4>120?i.clientWidth*.4:120:i.clientWidth*.5;e.style.height=a+"px",this.stickyConfig.position==="bottom_right"||this.stickyConfig.position==="bottom_left"?(e.style.bottom=this.stickyConfig.offsets.bottom+"px",e.style.left="0%"):(this.stickyConfig.position==="top_right"||this.stickyConfig.position==="top_left")&&(e.style.top=this.stickyConfig.offsets.top+"px",e.style.left="0%")}else{let a=this.utils.is_mobile?i.clientWidth*.4>270?i.clientWidth*.4:270:i.clientWidth*.5>300?i.clientWidth*.5:300;console.log("st sticky width = ",a);let l=Math.ceil(a*9/16)+70;e.style.width=a+"px",e.style.height=l+"px",this.stickyConfig.position==="bottom_right"?(e.style.bottom=+this.stickyConfig.offsets.bottom+this.stickyBottomHeight+"px",e.style.right=this.stickyConfig.offsets.right+"px"):this.stickyConfig.position==="bottom_left"?(e.style.bottom=+this.stickyConfig.offsets.bottom+this.stickyBottomHeight+"px",e.style.left=this.stickyConfig.offsets.left+"px"):this.stickyConfig.position==="top_right"?(e.style.top=this.stickyConfig.offsets.top+"px",e.style.right=this.stickyConfig.offsets.right+"px"):this.stickyConfig.position==="top_left"&&(e.style.top=this.stickyConfig.offsets.top+"px",e.style.left=this.stickyConfig.offsets.left+"px")}}appendIframeContent(e){if(!e||!e.contentDocument||!e.contentWindow){this.utils.log.warn(G,"Frame content window is not available. Probably an SPA reload?");return}let i=e.contentDocument||e.contentWindow.document,n=i.createElement("div");n.id="ocm-st";let s=i.createElement("script");s.src=Md,i.body.insertAdjacentElement("afterbegin",n),i.body.insertAdjacentElement("beforeend",s)}populateWrapper(e){this.utils.log.info(G,"Populating wrapper for the iframe");let i=e.clientWidth,n=Math.floor(i/1.28);this.utils.log.info(G,"Populating wrapper for the iframe with width: ",i," and height: ",n);let s=this.utils.window.document.createElement("iframe");if(s.setAttribute("id","ocm-st-frame"),s.setAttribute("FRAMEBORDER",0),s.setAttribute("SCROLLING","no"),s.setAttribute("MARGINHEIGHT",0),s.setAttribute("MARGINWIDTH",0),s.setAttribute("TOPMARGIN",0),s.setAttribute("LEFTMARGIN",0),s.setAttribute("ALLOWTRANSPARENCY","true"),e.style.height=n+"px",s.style.height=n+"px",s.style.width="100%",e.appendChild(s),this.stConfig.branding&&this.stConfig.branding.custom_css&&this.stConfig.branding.custom_css!==""){let o=s.contentWindow.document.createElement("style");o.appendChild(document.createTextNode(this.stConfig.branding.custom_css)),s.contentWindow.document.head.appendChild(o)}navigator.userAgent.toLowerCase().includes("firefox")?s.onload=()=>{this.appendIframeContent(s)}:this.appendIframeContent(s),new IntersectionObserver(o=>{if(!s||!s.contentDocument||!s.contentWindow){this.utils.log.warn(G,"Frame content window is not available. Probably an SPA reload?");return}this.isIntersecting=o&&o.length>0&&o[0]?.isIntersecting,s.contentWindow.postMessage({channel:"storyteller",event:"isIntersecting",value:this.isIntersecting}),this.utils.log.info(G,"Observer was triggered and we inform the iframe with the following event: ",{channel:"storyteller",event:"isIntersecting",value:this.isIntersecting})},{root:null,threshold:0}).observe(e),this.utils.window.addEventListener("message",o=>{if(!s.contentWindow){this.utils.log.warn(G,"Frame content window is not available. Probably an SPA reload?");return}let a=o.data;if(a?.channel==="storyteller"&&a?.event==="hasAd"&&(this.hasAd=a?.value,this.utils.log.info(G,"Parent received sticky event: ",a),this.utils.window.OCM.ST.hasAd=this.hasAd),a?.channel==="storyteller"&&a?.event==="isSticky"){let l=a?.value;this.handleStickiness(s,e,!l),this.handleStickiness(this.viewabilityFrame,e,!l),this.updateStorytellerStickyState(l),this.utils.log.info(G,"Parent received sticky event: ",a)}if(a?.channel==="storyteller"&&a?.event==="onMounted"&&(s.contentWindow.postMessage({channel:"storyteller",event:"isIntersecting",value:this.isIntersecting}),this.isMounted=!0,this.utils.log.info(G,"The player inside the iframe was mounted successfully")),a?.channel==="storyteller"&&a?.event==="renderAd"){this.renderNativeAd();let l=this.stickyConfig&&this.stickyConfig.enable,d=this.vchackConfig;(l||d)&&!this.isIntersecting&&this.handleStickiness(this.viewabilityFrame,e,!1),this.utils.log.info(G,"The player rendered native ad")}a?.channel==="storyteller"&&a?.event==="restart"&&this.restart()})}restart(){let e=document.querySelector('div[data-id="ocm-st"]');e&&(this.utils.log.info(G,"Removing the wrapper and restarting storyteller."),e.remove(),this.run())}}});var vs=H((Wp,ma)=>{var ga="teads_analytics";ma.exports=class{constructor(e,i){this.utils=e,this.config=i,this.endedEvent=new Event("ocm-teads_analytics-end")}run(){return new Promise((e,i)=>(performance.mark("teads_analytics_start"),this.utils.log.info(ga,"Stopping execution for Teads Analytics due to huge amount of errors"),e({name:ga})))}}});var Hi=H((Xp,va)=>{var bt="teads_preview";va.exports=class{constructor(e,i){this.utils=e,this.config=i,this.selector=null,this.vastUrl=null}run(){return new Promise(async(e,i)=>{if(this.vastUrl=this.utils.getParameterByName("vast_url"),!this.vastUrl||this.vastUrl==="")return this.utils.log.info(bt,"No preview Vast URL provided, skipping"),e({name:bt});try{this.selector=await this.findContentElement()}catch(n){return this.utils.log.error(bt,"Error finding content element",n),i({name:bt,message:n})}return this.setup(e,i)})}setup(e,i){try{this.utils.loadStyle(".teads-inread {max-width: 650px!important; margin: 10px auto;} ");let n=this.selector?.id!==""?`#${this.selector.id}`:"";n+=this.selector?.className!==""?`.${this.selector.className.split(" ").join(".")}`:"",n+=" > p",this.utils.log.info(bt,"final selector path ",n);let s=()=>{let o=window.top,a=112951,l=1,d=!1,p=!1;this.utils.getParameterByName("view_to_start")==="1"&&(l=122779),this.utils.getParameterByName("smart")==="1"&&(l=122781,d=!0,this.utils.window.DO_BYPASS_DO_FORCE_SMART=!0),this.utils.getParameterByName("slider")==="1"&&(l=122782,p=!0,d=!0);let m={headerBiddingProvider:"debugFormat",headerBiddingSlotAvailableTrackUrl:"https://t.teads.tv/test",type:"VastUrl",settings:{values:{placementId:l,pageId:a,threshold:50,adType:"video"},behaviors:{onlyNative:!1,smartPosition:{corner:d,top:d},smart6Position:this.utils.getParameterByName("isSmart6")==="true"?{corner:!0,top:!0}:{corner:!1,top:!1},slider:{enable:p},videoPause:"no"},components:{credits:{display:!1,text:"",link:"#"},closeButton:{display:!0}}},content:this.vastUrl},h={parentWindow:!1,slot:{selector:n,minimum:1,btf:!1,insertInside:!1},slider:{allow_top_position:!0,allow_corner_position:!0}};window.teads.ad(l,m).page(a).placement(l,h).serve()},r=document.createElement("script");return r.src="//a.teads.tv/static/master/media/format/v3/teads-format.min.js",r.async=!0,r.onload=s,window.top.teadsscript=window.top.document.getElementsByTagName("head")[0].appendChild(r),e({name:bt})}catch(n){return i({name:bt,message:n})}}findContentElement(){return new Promise((e,i)=>{this.utils.log.info(bt,"Resolving content element");let n=[],s=null;this.utils.contentLoaded().then(()=>{try{let r=this.utils.window.document.querySelectorAll("p");for(let o=0;o<r.length;o++){let a=r[o].parentNode.innerHTML.hashCode();n.filter(d=>d.hash===a).filter(d=>d).length?n.map(d=>d.hash===a?d.count++:null).filter(d=>d):n.push({hash:a,el:r[o].parentNode,count:1})}return this.utils.log.info(bt,"parents",n),s=n.sort((o,a)=>a.count-o.count)[0],this.utils.log.info(bt,"Content element is",s.el),s?e(s.el):i("No content element found")}catch(r){return i(r)}})})}}});var ya=H((tg,wa)=>{wa.exports={log:!0,log_sample_percentage:0,debug:!1,use_window_top:!0,uses_cmp:!0,site_categories:["382","385"],badv:["soundmachine.com.mt","f1games.net","playgame.net","robertabela.mt","tvidler-official.com","nuubu.com","bmit.com.mt","adoremore.com.mt","boconcept.com","dental-implants-zonesearch.life","lidl.de","lidl.bg","lidl-connect.ch","lidl.pl","lidl.be","lidl-voyages.fr","lidl.nl","lidl.fr","lidl.sk","lidl.com.cy","lidl-reisen.de","lidl.hu","lidl.hr","lidl.cz","lidl.rs","lidl.ro","lidl.es","lidl.si","borggalea.com","shotz.com","megastore.com.mt","mod-trendz.com"],nativeAdTemplate:`<style>
  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;1,400&display=swap');
</style>
<style>
  body {
    position: relative;
    margin: 0;
  }

  .abgb {
    top:2px !important;
  }

  .cbb {
    right:3px !important;
    top:3px !important;
  }

  .ocm-pbn-container {
    position:relative;
    border: 1px solid #ccc;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    background-color: #fff;
  }

  .ocm-pbn {
    font-family: Roboto, Arial, sans-serif;
    display:flex;
    flex-direction: row;
    padding: 5px;
  }

  .ocm-pbn-content {
    display: flex;
    flex-direction: row;
  }

  .ocm-pbn-info {
    display: flex;
    flex-direction: column;
  }

  .ocm-pbn .brand {
    display: none;
    max-width:fit-content;
    padding:8px 8px 0px;
  }

  .ocm-pbn .sponsored-by {
    display: flex;
    color:#a8a8a8;
    align-items: center;
    font-size:0.7rem;
    text-decoration: none;
    padding:0 8px 8px;
  }

  .ocm-pbn .sponsored-by a {
    font-size:0.7rem;
    font-weight: 500;
    color:#ababab;
  }

  .ocm-pbn .sponsored-by a:has(span:empty) {
    display:none;
  }

  .ocm-pbn a {
    color:#3b3b3b;
    font-weight: 600;
    font-size:0.85rem;
    text-decoration: none;
  }

  .ocm-pbn .brand a {
    display:flex;
    align-items: center;
    justify-content: flex-start;
  }

  .ocm-pbn .brand a img {
    margin-right:5px;
    max-width:20px;
  }

  .ocm-pbn .brand a img {
    margin-right:5px;
    max-width:20px;
  }

  .ocm-pbn .image {
    color:#666;
    align-items: center;
    justify-content: center;
    font-size:0.85rem;
    text-decoration: none;
    padding:8px 8px 4px;
  }

  .ocm-pbn .image img {
    max-width: 100%;
    width:100%;
  }

  .ocm-pbn .title {
    color:#666;
    align-items: center;
    justify-content: flex-start;
    font-size:0.85rem;
    font-weight: 650;
    text-decoration: none;
    padding:0 8px 8px;
  }

  .ocm-pbn .title:has(span:empty) {
    display:none;
  }

  .ocm-pbn .description, .ocm-pbn .description2 {
    color:#a8a8a8;
    align-items: center;
    justify-content: center;
    font-size:0.82rem;
    text-decoration: none;
    padding:0 8px 8px;
  }
  
  .ocm-pbn .description:has(span:empty) {
    display:none;
  }
  
  .ocm-pbn .description2 {
    font-size:0.78rem;
  }

  .ocm-pbn .description2:has(span:empty) {
    display:none;
  }

  .ocm-pbn .link {
    color:#9b9b9b;
    align-items: center;
    justify-content: center;
    font-size:0.75rem;
    text-decoration: none;
    padding:0 8px 8px;
  }

  .ocm-pbn .link a {
    font-size:0.8rem;
    font-weight: 500;
    color:#ababab;
  }

  .ocm-pbn .link:has(span:empty) {
    display:none;
  }
  
  .ocm-pbn .cta {
    border-top: 1px solid #ccc;
    padding: 5px 5px 0px 0px;
    margin-top:2px;
    text-align: right;
  }

  .ocm-pbn .cta:has(span:empty) {
    display:none;
  }
  
  .ocm-pbn-container .privacy-link {
    position: absolute;
    top:2px;
    right:3px;
  }
  
  .ocm-pbn-container .privacy-link a img {
    width:12px;
    height:12px;
  }

  @media only screen and (max-width: 600px) {
    .ocm-pbn {
      flex-direction: column;
    }
    .ocm-pbn .brand {
      display: flex;
    }

    .ocm-pbn-info {
      flex-direction: column;
    }

    .ocm-pbn .image {
      display: block;
    }
  }
</style>

<div class="ocm-pbn-container">
  <div class="privacy-link">
    <a href="##hb_native_privacy##" target="_blank">
      <img src="//cdn.orangeclickmedia.com/assets/images/adchoices.png">
    </a>
  </div>
  <div class="ocm-pbn">
    <div class="brand">
      <a href="%%CLICK_URL_UNESC%%##hb_native_linkurl##" target="_blank" pbadid="%%PATTERN:hb_adid%%" class="pb-click">
        <img src="##hb_native_asset_id_1##" hb_native_asset_id="1">
        <span class="name" hb_native_asset_id="4">##hb_native_asset_id_4##</span>
      </a>
    </div>
    <div class="image">
      <a href="%%CLICK_URL_UNESC%%##hb_native_linkurl##" target="_blank" pbadid="%%PATTERN:hb_adid%%" class="pb-click">
        <img src="##hb_native_asset_id_2##" hb_native_asset_id="2">
      </a>
    </div>
    <div class="ocm-pbn-info">
      <div class="title">
        <a href="%%CLICK_URL_UNESC%%##hb_native_linkurl##" target="_blank" pbadid="%%PATTERN:hb_adid%%" class="pb-click">
          <span hb_native_asset_id="3">##hb_native_asset_id_3##</span>
        </a>
      </div>
      <div class="description">
        <span hb_native_asset_id="5">##hb_native_asset_id_5##</span>
      </div>
      <div class="description2">
        <span hb_native_asset_id="10">##hb_native_asset_id_10##</span>
      </div>
      <div class="link">
        <a href="%%CLICK_URL_UNESC%%##hb_native_linkurl##" target="_blank" pbadid="%%PATTERN:hb_adid%%" class="pb-click">
          <span hb_native_asset_id="13">##hb_native_asset_id_13##</span>
        </a>
      </div>
      <div class="sponsored-by">
        <a href="%%CLICK_URL_UNESC%%##hb_native_linkurl##" target="_blank" pbadid="%%PATTERN:hb_adid%%" class="pb-click">
          <span hb_native_asset_id="4">Sponsored by ##hb_native_asset_id_4##</span>
        </a>
      </div>
    </div>
    <div class="cta">
      <a href="%%CLICK_URL_UNESC%%##hb_native_linkurl##" target="_blank" pbadid="%%PATTERN:hb_adid%%" class="pb-click">
        <span hb_native_asset_id="15">##hb_native_asset_id_15## ></span>
      </a>
    </div>
  </div>
</div>`,dont_touch_flag:!1,waitForContentfulPaint:!0,change_correlator:!1,services:{fou_analytics:{active:!1,debug:!1},cmp:{active:!1,debug:!1,hostname:null,network_id:null},gpt:{active:!1,debug:!1,network_id:null,collapseEmptyDivs:[!1,!1],enableSingleRequest:!1,setCentering:!1,disableInitialLoad:!1},blockthrough:{active:!0,debug:!1},injected_tags:{active:!1,debug:!1,tags:[{path:"/65246246/timesofmalta.com/inline1",sizes:"[[300,250],[336,280]]",style:"clear:both; margin-bottom:20px",active:!0,div_id:"inline1",multiplex:!1,conditions:{place:"insertAfter",count_gt:8,position:6,selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",words_gt:0,page_types:["Article"],word_count:0},size_mapping:{code:`var inline1 = googletag.sizeMapping()
      .addSize([0, 0], [[300, 250]])
      .addSize([400, 0], [[300, 250], [336, 280]])
      .addSize([768, 0], [[300, 250], [336, 280]])
      .addSize([1024, 0], [[300, 250], [336, 280]])
      .build();`,name:"inline1"},device_category:{mobile:!0,desktop:!0},mobile_inread_sticky:!0},{path:"/65246246/timesofmalta.com/inline2",sizes:"[[300,250],[300,600],[336,280]]",style:"clear:both; margin-bottom:20px",active:!0,div_id:"inline2",multiplex:!1,conditions:{place:"insertAfter",count_gt:22,position:20,selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",words_gt:0,page_types:["Article"],word_count:0},size_mapping:{code:`var inline2 = googletag.sizeMapping()
      .addSize([0, 0], [[300, 250], [300, 600]])
      .addSize([400, 0], [[300, 250], [300, 600], [336, 280]])
      .addSize([768, 0], [[300, 250], [336, 280]])
      .addSize([1024, 0], [[300, 250], [336, 280]])
      .build();`,name:"inline2"},device_category:{mobile:!0,desktop:!0},mobile_inread_sticky:!0},{path:"/65246246/timesofmalta.com/inline3",sizes:"[[300,250],[336,280]]",style:"clear:both; margin-bottom:20px",active:!0,div_id:"inline3",multiplex:!1,conditions:{place:"insertAfter",count_gt:29,position:27,selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",words_gt:0,page_types:["Article"],word_count:0},size_mapping:{code:`var inline3 = googletag.sizeMapping()
      .addSize([0, 0], [[300, 250]])
      .addSize([400, 0], [[300, 250], [336, 280]])
      .addSize([768, 0], [[300, 250], [336, 280]])
      .addSize([1024, 0], [[300, 250], [336, 280]])
      .build();`,name:"inline3"},device_category:{mobile:!0,desktop:!0},mobile_inread_sticky:!1},{path:"/65246246/timesofmalta.com/skin",sizes:"[[1,1]]",style:"width:100%; height:1px; margin-bottom:-1px;",active:!0,div_id:"skin",classes:null,multiplex:!1,conditions:{place:"insertBefore",count_gt:0,position:0,selector:"body *",words_gt:0,page_types:["ROS"],word_count:0},size_mapping:{code:`var skin = googletag.sizeMapping()
.addSize([0,0], [])
.addSize([1280,0], [[1,1]])
.build();`,name:"skin"},device_category:{mobile:!0,desktop:!0},mobile_inread_sticky:!1},{path:"/65246246/timesofmalta.com/mobile_scroller",sizes:"[[1,1]]",style:null,active:!0,div_id:"mobile_scroller",classes:null,multiplex:!1,conditions:{place:"insertAfter",count_gt:0,position:1,selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",words_gt:0,page_types:["Article"],word_count:0},size_mapping:null,device_category:{mobile:!0,desktop:!0},mobile_inread_sticky:!1},{path:"/65246246/timesofmalta.com/inline4",sizes:"[[300,250],[336,280]]",div_id:"inline4",mobile_inread_sticky:!1,active:!0,style:"clear:both; margin-bottom:20px",classes:null,size_mapping:{code:`var inline4 = googletag.sizeMapping()
      .addSize([0, 0], [[300, 250]])
      .addSize([400, 0], [[300, 250], [336, 280]])
      .addSize([768, 0], [[300, 250], [336, 280]])
      .addSize([1024, 0], [[300, 250], [336, 280]])
      .build();`,name:"inline4"},conditions:{page_types:["Article"],selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",position:34,count_gt:36,word_count:0,words_gt:0,place:"insertAfter"},device_category:{mobile:!0,desktop:!0}},{path:"/65246246/timesofmalta.com/inline5",sizes:"[[300,250],[336,280]]",div_id:"inline5",mobile_inread_sticky:!1,active:!0,style:"clear:both; margin-bottom:20px",classes:null,size_mapping:{code:`var inline5 = googletag.sizeMapping()
      .addSize([0, 0], [[300, 250]])
      .addSize([400, 0], [[300, 250], [336, 280]])
      .addSize([768, 0], [[300, 250], [336, 280]])
      .addSize([1024, 0], [[300, 250], [336, 280]])
      .build();`,name:"inline5"},conditions:{page_types:["Article"],selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",position:41,count_gt:43,word_count:0,words_gt:0,place:"insertAfter"},device_category:{mobile:!0,desktop:!0}},{path:"/65246246/timesofmalta.com/inline6",sizes:"[[300,250],[336,280]]",div_id:"inline6",mobile_inread_sticky:!1,active:!0,style:"clear:both; margin-bottom:20px",classes:null,size_mapping:{code:`var inline6 = googletag.sizeMapping()
      .addSize([0, 0], [[300, 250]])
      .addSize([400, 0], [[300, 250], [336, 280]])
      .addSize([768, 0], [[300, 250], [336, 280]])
      .addSize([1024, 0], [[300, 250], [336, 280]])
      .build();`,name:"inline6"},conditions:{page_types:["Article"],selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",position:47,count_gt:49,word_count:0,words_gt:0,place:"insertAfter"},device_category:{mobile:!0,desktop:!0}},{path:"/65246246/timesofmalta.com/inline7",sizes:"[[300,250],[336,280]]",div_id:"inline7",mobile_inread_sticky:!1,active:!0,style:"clear:both; margin-bottom:20px",classes:null,size_mapping:{code:`var inline7 = googletag.sizeMapping()
      .addSize([0, 0], [[300, 250]])
      .addSize([400, 0], [[300, 250], [336, 280]])
      .addSize([768, 0], [[300, 250], [336, 280]])
      .addSize([1024, 0], [[300, 250], [336, 280]])
      .build();`,name:"inline7"},conditions:{page_types:["Article"],selector:".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol",position:54,count_gt:56,word_count:0,words_gt:0,place:"insertAfter"},device_category:{mobile:!0,desktop:!0}}]},lazyload:{active:!0,debug:!1,page_types:["ROS"],version:2,include_offset:"800",load_offset:"600",ad_load_offsets:[{path:"/65246246/timesofmalta.com/mobile_scroller",offset:-1}]},adblock:{active:!1,debug:!1,pairs:[]},outbrain:{active:!1,debug:!1,desktop:{enable:!0,widgetId:"GS_1",installationKey:"CYOCM2IDF6569I0FK92EEOL10",styles:"margin: 0px auto 60px;",classes:"OUTBRAIN",include_ob_content_url:!0,conditions:{page_types:["Article"],selector:null,position:0,count_gt:0,word_count:0,words_gt:0,place:"insertAfter"},lazyload:{enable:!1,offset:800}},mobile:{enable:!0,widgetId:"GS_1",installationKey:"CYOCM2IDF6569I0FK92EEOL10",styles:"margin: 0px auto 60px;",classes:"OUTBRAIN",include_ob_content_url:!0,conditions:{page_types:["Article"],selector:null,position:0,count_gt:0,word_count:0,words_gt:0,place:"insertAfter"},lazyload:{enable:!1,offset:800}}},fizz:{active:!0,debug:!1,page_types:["ROS"],interval:"30000",advertisers_whitelist:[{id:"5231103074",name:"Times of Malta"},{id:"5231540583",name:"AdPone"},{id:5228513743,name:"Google"},{id:5210968748,name:"OCM Digital Media"},{id:5229020389,name:"Brightcom"},{id:5228222396,name:"Sloane"},{id:5475113928,name:"Jobhound"},{id:5231325819,name:"Amazon"}],ads_whitelist:[{path:"/65246246/timesofmalta.com/mobile_sticky"},{path:"/65246246/timesofmalta.com/billboard1"},{path:"/65246246/timesofmalta.com/billboard2"},{path:"/65246246/timesofmalta.com/billboard3"},{path:"/65246246/timesofmalta.com/billboard4"},{path:"/65246246/timesofmalta.com/sidebar1"},{path:"/65246246/timesofmalta.com/sidebar2"},{path:"/65246246/timesofmalta.com/sidebar3"},{path:"/65246246/timesofmalta.com/sidebar4"},{path:"/65246246/timesofmalta.com/sidebar5"},{path:"/65246246/timesofmalta.com/sidebar6"},{path:"/65246246/timesofmalta.com/sidebar7"},{path:"/65246246/timesofmalta.com/sidebar8"},{path:"/65246246/timesofmalta.com/sidebar9"},{path:"/65246246/timesofmalta.com/infeed1"},{path:"/65246246/timesofmalta.com/infeed2"},{path:"/65246246/timesofmalta.com/infeed3"},{path:"/65246246/timesofmalta.com/infeed4"},{path:"/65246246/timesofmalta.com/infeed5"},{path:"/65246246/timesofmalta.com/infeed6"},{path:"/65246246/timesofmalta.com/infeed7"},{path:"/65246246/timesofmalta.com/inline1"},{path:"/65246246/timesofmalta.com/inline2"},{path:"/65246246/timesofmalta.com/inline3"},{path:"/65246246/timesofmalta.com/article_end"},{path:"/65246246/timesofmalta.com/sidesticky"},{path:"/65246246/timesofmalta.com/inline4",hb_only:!1},{path:"/65246246/timesofmalta.com/inline5",hb_only:!1},{path:"/65246246/timesofmalta.com/inline6",hb_only:!1},{path:"/65246246/timesofmalta.com/inline7",hb_only:!1}]},header_bidding:{active:!0,debug:!1,adsqRTDModuleEnabled:!1,adelaideEnabled:!1,adServerCurrency:"EUR",currencyMultiplier:1,bidderTimeout:"1000",custom_granularity:!0,amazon_sid:"21e3d7ee-4312-4deb-8ada-99c25a814bef",domain:null,adUnits:[{bids:[{bidder:"adform",params:{mid:975396,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875782"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/mobile_sticky"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[320,100]",siteId:'"628198"'}},{bidder:"ix",params:{size:"[320,50]",siteId:'"628198"'}},{bidder:"ix",params:{size:"[300,100]",siteId:'"628198"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773105",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"ogury",params:{assetKey:"OGY-D8B77DACA226",adUnitId:"wm-hb-foot-timeso-orang-ierxskk5177s",adSlotSelector:null,adSlotSelectorPosition:null}}],code:"/65246246/timesofmalta.com/mobile_sticky",sizes:"[[320,100],[320,50],[300,100]]",page_types:["ROS"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,100],[320,100],[320,50]]",window_size:"[0,0]"},{ad_sizes:"[[300,100],[320,100],[320,50]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975398,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875783"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875783"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/billboard1"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[970,250]",siteId:'"628259"'}},{bidder:"ix",params:{size:"[970,90]",siteId:'"628259"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628259"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/billboard1",sizes:"[[970,250],[970,90],[728,90]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[728,0]"},{ad_sizes:"[[970,250],[970,90],[728,90]]",window_size:"[1440,0]"}]},{bids:[{bidder:"adform",params:{mid:975412,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875784"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/billboard2"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[970,250]",siteId:'"628260"'}},{bidder:"ix",params:{size:"[970,90]",siteId:'"628260"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628260"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/billboard2",sizes:"[[970,250],[970,90],[728,90]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[728,0]"},{ad_sizes:"[[970,250],[970,90],[728,90]]",window_size:"[1440,0]"}]},{bids:[{bidder:"adform",params:{mid:975413,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875785"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/billboard3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[970,250]",siteId:'"628261"'}},{bidder:"ix",params:{size:"[970,90]",siteId:'"628261"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628261"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/billboard3",sizes:"[[970,250],[970,90],[728,90]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[728,0]"},{ad_sizes:"[[970,250],[970,90],[728,90]]",window_size:"[1440,0]"}]},{bids:[{bidder:"adform",params:{mid:975397,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875786"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/billboard4"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[970,250]",siteId:'"628262"'}},{bidder:"ix",params:{size:"[970,90]",siteId:'"628262"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628262"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/billboard4",sizes:"[[970,250],[970,90],[728,90]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[728,0]"},{ad_sizes:"[[970,250],[970,90],[728,90]]",window_size:"[1440,0]"}]},{bids:[{bidder:"adform",params:{mid:975399,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875787"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875787"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar1"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628263"'}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628263"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773110",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773132",arbitraryKey:null,allowSmallerSizes:"true"}}],code:"/65246246/timesofmalta.com/sidebar1",sizes:"[[300,250],[300,600]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[[300,250]]",window_size:"[728,0]"},{ad_sizes:"[[300,600]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975400,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875788"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875788"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar2"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628264"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773111",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773133",arbitraryKey:null,allowSmallerSizes:"true"}}],code:"/65246246/timesofmalta.com/sidebar2",sizes:"[[300,250]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Home","Article"],visibility:{mobile:!1,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,250]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975401,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875789"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628265"'}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628265"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidebar3",sizes:"[[300,250],[300,600]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,600]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975403,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875790"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar4"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628266"'}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628266"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidebar4",sizes:"[[300,250],[300,600]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,600]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975404,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875791"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar5"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628267"'}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628267"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidebar5",sizes:"[[300,250],[300,600]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,600]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975402,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875792"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar6"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628268"'}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628268"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidebar6",sizes:"[[300,250],[300,600]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,600]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975405,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875793"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar7"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628269"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidebar7",sizes:"[[300,250]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,250]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975406,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875794"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar8"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628270"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidebar8",sizes:"[[300,250]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,250]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975409,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875795"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar9"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628271"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidebar9",sizes:"[[300,250]]",page_types:["Home"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,250]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975418,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875796"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875796"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed1"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628272"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628272"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed1",sizes:"[[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Home"],visibility:{mobile:!0,desktop:!1},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975411,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875797"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875797"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed2"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628273"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628273"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed2",sizes:"[[300,250],[336,280]]",page_types:["Home"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975414,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875798"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875798"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628274"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628274"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed3",sizes:"[[300,250],[336,280]]",page_types:["Home"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975407,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875799"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed4"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628275"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628275"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed4",sizes:"[[300,250],[336,280]]",page_types:["Home"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975408,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875800"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed5"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628276"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628276"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed5",sizes:"[[300,250],[336,280]]",page_types:["Home"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975415,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875801"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed6"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628277"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628277"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed6",sizes:"[[300,250],[336,280]]",page_types:["Home"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975416,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875802"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed7"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628278"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628278"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed7",sizes:"[[300,250],[336,280]]",page_types:["Home"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[]",window_size:"[768,0]"},{ad_sizes:"[]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975398,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875783"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875783"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/billboard1"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[970,250]",siteId:'"628259"'}},{bidder:"ix",params:{size:"[970,90]",siteId:'"628259"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628259"'}},{bidder:"ix",params:{size:"[320,100]",siteId:'"628259"'}},{bidder:"ix",params:{size:"[320,50]",siteId:'"628259"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/billboard1",sizes:"[[970,250],[970,90],[728,90],[320,100],[320,50]]",page_types:["Category"],visibility:{mobile:!0,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[[320,100],[320,50],[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[320,100],[320,50],[300,250]]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[728,0]"},{ad_sizes:"[[728,90]]",window_size:"[1024,0]"},{ad_sizes:"[[970,250],[970,90],[728,90]]",window_size:"[1440,0]"}]},{bids:[{bidder:"adform",params:{mid:975418,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875796"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875796"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed1"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628272"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628272"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628272"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed1",sizes:"[[728,90],[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Category"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[768,0]"},{ad_sizes:"[[728,90]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975411,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875797"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875797"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed2"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628273"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628273"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628273"'}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628273"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed2",sizes:"[[728,90],[300,250],[336,280],[300,600]]",page_types:["Category"],visibility:{mobile:!0,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250],[300,600]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280],[300,600]]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[768,0]"},{ad_sizes:"[[728,90]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975414,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875798"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875798"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/infeed3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[970,250]",siteId:'"628274"'}},{bidder:"ix",params:{size:"[970,90]",siteId:'"628274"'}},{bidder:"ix",params:{size:"[728,90]",siteId:'"628274"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/infeed3",sizes:"[[970,250],[970,90],[728,90]]",page_types:["Category"],visibility:{mobile:!1,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[728,90]]",window_size:"[768,0]"},{ad_sizes:"[[970,250],[970,90],[728,90]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975399,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875787"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875787"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar1"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628263"'}},{bidder:"ix",params:{size:"[160,600]",siteId:'"628263"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773110",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773132",arbitraryKey:null,allowSmallerSizes:"true"}}],code:"/65246246/timesofmalta.com/sidebar1",sizes:"[[300,600],[160,600]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Category","Article"],visibility:{mobile:!1,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,600],[160,600]]",window_size:"[768,0]"},{ad_sizes:"[[300,600],[160,600]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975400,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875788"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"543875788"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidebar2"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628264"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773111",arbitraryKey:null,allowSmallerSizes:"true"}}],code:"/65246246/timesofmalta.com/sidebar2",sizes:"[[300,250]]",page_types:["Category"],visibility:{mobile:!0,desktop:!1},media_types:["banner"],size_mapping:[{ad_sizes:"[]",window_size:"[0,0]"},{ad_sizes:"[]",window_size:"[340,0]"},{ad_sizes:"[[300,250]]",window_size:"[768,0]"},{ad_sizes:"[[300,250]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975417,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875804"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inline1"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628280"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628280"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773126",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773135",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"teads",params:{size:"[[300,250]]",pageId:"227240",placementId:"243897"}}],code:"/65246246/timesofmalta.com/inline1",sizes:"[[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[768,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975410,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875805"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inline2"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628282"'}},{bidder:"ix",params:{size:"[300,600]",siteId:'"628282"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628282"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773127",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"appnexus",params:{video:null,reserve:"0.01",position:"unknown",supplyType:"web",placementId:"29773136",arbitraryKey:null,allowSmallerSizes:"true"}},{bidder:"ogury",params:{assetKey:"OGY-D8B77DACA226",adUnitId:"wm-hb-iart-timeso-orang-tbzzzqghvzec",adSlotSelector:null,adSlotSelectorPosition:null,video:null}},{bidder:"teads",params:{size:"[[300,250]]",pageId:"227240",placementId:"243897"}}],code:"/65246246/timesofmalta.com/inline2",sizes:"[[300,250],[300,600],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250],[300,600]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[300,600],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[768,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975420,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875806"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inline3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628283"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628283"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"teads",params:{size:"[[300,250]]",pageId:"227240",placementId:"243897"}}],code:"/65246246/timesofmalta.com/inline3",sizes:"[[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{window_size:"[0,0]",ad_sizes:"[[300,250]]"},{window_size:"[340,0]",ad_sizes:"[[300,250],[336,280]]"},{window_size:"[768,0]",ad_sizes:"[[300,250],[336,280]]"},{window_size:"[1024,0]",ad_sizes:"[[300,250],[336,280]]"}]},{bids:[{bidder:"adform",params:{mid:975420,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875806"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inline3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628283"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628283"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/inline4",sizes:"[[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[768,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975420,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875806"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inline3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628283"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628283"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/inline5",sizes:"[[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[768,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975420,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875806"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inline3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628283"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628283"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/inline6",sizes:"[[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[768,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:975420,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"543875806"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inline3"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{bidder:"ix",params:{size:"[300,250]",siteId:'"628283"'}},{bidder:"ix",params:{size:"[336,280]",siteId:'"628283"'}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/inline7",sizes:"[[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[300,169]]"},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[768,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:1077466,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"545614084"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/article_end"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"teads",params:{size:"[[300,250]]",pageId:"227240",placementId:"243897"}}],code:"/65246246/timesofmalta.com/article_end",sizes:"[[300,250],[336,280]]",page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner"],size_mapping:[{ad_sizes:"[[300,250]]",window_size:"[0,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[340,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[768,0]"},{ad_sizes:"[[300,250],[336,280]]",window_size:"[1024,0]"}]},{bids:[{bidder:"adform",params:{mid:1077465,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"545614085"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/sidesticky"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"}],code:"/65246246/timesofmalta.com/sidesticky",sizes:"[[300,250],[300,600],[336,280]]",page_types:["ROS"],visibility:{mobile:!1,desktop:!0},media_types:["banner"]},{bids:[{bidder:"adform",params:{mid:1125771,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"adform",params:{mid:1125772,rcur:'"EUR"',adxDomain:'"adx.adform.net"',priceType:'"net"'}},{bidder:"openx",params:{unit:'"545686828"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"openx",params:{unit:'"545686829"',coppa:!1,delDomain:'"ocmdigitalmedia-d.openx.net"',doNotTrack:!1,customFloor:"0.01",customParams:null}},{bidder:"criteo",params:{networkId:7203,pubid:105031,publisherSubId:'"/65246246/timesofmalta.com/inread_pb"'}},{bidder:"rubicon",params:{floor:null,sizes:null,video:null,siteId:'"361602"',userId:null,zoneId:'"1952736"',latLong:null,visitor:null,keywords:null,position:null,accountId:'"20086"',inventory:null}},{params:{networkId:3172,pageId:1772571,siteId:583547,formatId:71381},bidder:"equativ"},{bidder:"teads",params:{size:"[[300,250]]",pageId:"226543",placementId:"243196"}}],code:"/65246246/timesofmalta.com/inread_pb",sizes:"[[1,1],[300,250],[336,280]]",video:{context:"outstream",playerSize:"[[640, 360]]",sidestream:{width:384,height:216,enabled:!1,xOffset:20,yOffset:20,position:"bottom-right",returnToPage:!1,startInSideStream:!1}},page_types:["Article"],visibility:{mobile:!0,desktop:!0},media_types:["banner","video"],size_mapping:[]}],analytics:["ocmpba"],bidders:[{geo:[],name:"pubmatic",active:!1,bid_cpm_adjust:"1.00"},{geo:[],name:"ix",active:!0,bid_cpm_adjust:"1.00"},{geo:[],name:"yahoossp",active:!1,bid_cpm_adjust:"1.00"},{geo:[],name:"adform",active:!0,bid_cpm_adjust:"1.00"},{geo:[],name:"openx",active:!0,bid_cpm_adjust:"1.00"},{geo:[],name:"sovrn",active:!1,bid_cpm_adjust:"1.00"},{geo:[],name:"triplelift",active:!1,bid_cpm_adjust:"1.00"},{geo:[],name:"criteo",active:!0,bid_cpm_adjust:"1.00"},{geo:[],name:"brightcom",active:!1,bid_cpm_adjust:"1.00"},{geo:[],name:"rubicon",active:!0,bid_cpm_adjust:"1.00"},{geo:[],name:"unruly",active:!1,bid_cpm_adjust:"1.00"},{geo:[],name:"onetag",active:!1,bid_cpm_adjust:"1.00"},{geo:["AU","BR","CA","FR","DE","MX","IT","ES","US","GB"],name:"sharethrough",active:!1,bid_cpm_adjust:"1.00"},{geo:[],name:"equativ",active:!0,bid_cpm_adjust:"1.00"},{geo:[],name:"appnexus",active:!0,bid_cpm_adjust:"1.00"},{name:"amazon",bid_cpm_adjust:"1.00",active:!1,geo:[]},{name:"ogury",bid_cpm_adjust:"1.00",active:!0,geo:[],s2s:!1},{name:"teads",bid_cpm_adjust:"1.00",active:!0,geo:[],s2s:!1}],functionality:"lazyload",rmf_approved:[],s2sProvider:"assertive-yield",s2sTimeout:"500",page_types:["ROS","Home","Article","Category"],video_mediatype_in_300:!1},ocm_interstitial:{active:!1,debug:!1,adUnitCode:"ocm-interstitial",options:{show_on_load:!1,show_on_navigation:!0,show_on_tab_back:!1},mobile:{active:!0,page_types:["ROS"],price_floor:.05,frequency:4,wait_for_ads:[]},desktop:{active:!0,page_types:["ROS"],price_floor:.05,frequency:4,wait_for_ads:[]}},mobile_inread_sticky:{active:!0,debug:!1,show_text:!1,top:62,height:650,pairs:[{selector:"inline1",page_types:["Article"]},{selector:"inline2",page_types:["Article"]}]},mwi:{active:!1,debug:!1,page_types:["ROS"],code:null,safari:!1,desktop:!1,mobile:!0,unhideWindow:!1},rewarded_ad:{active:!1,debug:!1,page_types:["ROS"],code:null,css_fix:!1,desktop:{active:!0,fc:1},mobile:{active:!0,fc:1}},sticky:{active:!0,debug:!1,ads:[{code:"/65246246/timesofmalta.com/mobile_sticky",sizes:"[[320,50],[320,100],[300,100]]",active:!0,bg_color:"rgba(34, 34, 34, 0.91)",position:"bottom",conditions:{device:"mobile",retract:!1,min_width:1440,page_types:["ROS"],exclude_urls:[],hide_if_skin:!1},x_position:"right"},{code:"/65246246/timesofmalta.com/sidesticky",sizes:"[[300,250],[336,280],[300,600]]",active:!0,bg_color:"#9e9e9e",position:"left",conditions:{device:"desktop",retract:!1,min_width:2040,page_types:["ROS"],exclude_urls:[],hide_if_skin:!0},x_position:"left",style:null}]},vi:{active:!1,debug:!1,iab:"93",style:"margin: 10px auto;",mobile:{conditions:{page_types:["ROS"],selector:".blog-post > p",count_gt:6,position:0,word_count:0,words_gt:0,place:"insertAfter"}},desktop:{conditions:{page_types:["ROS"],selector:".blog-post > p",count_gt:6,position:0,word_count:0,words_gt:0,place:"insertAfter"}}},story_teller_v2:{active:!1,debug:!1,midRollTime:20,playerTagId:null,publisherId:"62ed18128bb9d95dbe10e294",source:null,rss_url:null,redirect_target:"_top",enable_analytics:!1,sync_with_aniview:!1,sound_hack:!0,show_ad_choices:!0,show_ad_description:!0,inject_ad_at:3,mobile:{styles:null,classes:null,conditions:{page_types:["Article"],selector:null,count_gt:0,position:0,word_count:0,words_gt:0,place:"insertBefore"},sticky:{enable:!1,on_ad_demand:!1,start_sticky:!1,full_width:!1,position:null,offsets:{top:0,right:0,left:0,bottom:0}},lazyload:{enable:!1,offset:800},vchack:!1},desktop:{styles:null,classes:null,conditions:{page_types:["Article"],selector:null,count_gt:0,position:0,word_count:0,words_gt:0,place:"insertBefore"},sticky:{enable:!1,on_ad_demand:!1,start_sticky:!1,full_width:!1,position:null,offsets:{top:0,right:0,left:0,bottom:0}},lazyload:{enable:!1,offset:800},vchack:!1},branding:{logo_url:null,title:null,color:"#f59e0b",textColor:"#fff",custom_css:null},language:"el"},reaper:{active:!0,debug:!1,timeout:"1500",language:"en"},in_image:{active:!1,debug:!1,fc:100,withoutLeft:!1,tags:[],available_sizes:[{adSizes:"[[300,50]]",isActive:!1,isMobile:!1,widthImg:500,heightImg:100},{adSizes:"[[300,100]]",isActive:!1,isMobile:!1,widthImg:500,heightImg:300},{adSizes:"[[320,50]]",isActive:!1,isMobile:!1,widthImg:540,heightImg:100},{adSizes:"[[320,100]]",isActive:!1,isMobile:!1,widthImg:540,heightImg:250},{adSizes:"[[468,60]]",isActive:!1,isMobile:!1,widthImg:838,heightImg:180},{adSizes:"[[728,90]]",isActive:!0,isMobile:!1,widthImg:900,heightImg:180},{adSizes:"[[320,50]]",isActive:!0,isMobile:!0,widthImg:320,heightImg:100},{adSizes:"[[468,60]]",isActive:!0,isMobile:!0,widthImg:468,heightImg:100}],bg_color:"#ffffff00"},adlightning:{active:!1,debug:!1,site:"timesofmaltacom"},teads_analytics:{active:!1,debug:!1,publisher_id:null},aniview:{active:!1,debug:!1,sync_with_storyteller:!1,sound_hack:!0,mobile:{playerTagId:"63ed536765293bd622058b66",publisher:"62ed18128bb9d95dbe10e294",rules:{page_types:["Article"],selector:".teads-adCall",position:0,count_gt:0,word_count:0,words_gt:0,place:"insertAfter"},styles:null,classes:null,sticky:{enable:!1,width:256,height:200,position:"bottom_right",offsets:{top:0,right:0,left:0,bottom:0}},vchack:!0,vchack_position:"Top-Right",lazyload:{enable:!1,offset:800}},desktop:{playerTagId:"63ed536765293bd622058b66",publisher:"62ed18128bb9d95dbe10e294",rules:{page_types:["Article"],selector:".teads-adCall",position:0,count_gt:0,word_count:0,words_gt:0,place:"insertAfter"},styles:null,classes:null,sticky:{enable:!1,width:256,height:200,position:"bottom_right",offsets:{top:0,right:0,left:0,bottom:0}},vchack:!0,vchack_position:"Top",lazyload:{enable:!1,offset:800}},rules:{place:"afterend",count_gt:0,position:0,selector:null,words_gt:0,page_types:["Article"],word_count:0},publisher:"62ed18128bb9d95dbe10e294",playerTagId:null},advertorials:{active:!1,debug:!1,mobile:{selectors:{title:null,content:null}},desktop:{selectors:{title:null,content:null}}},user_engagement:{active:!1,debug:!1,interval:2e3},uam:{debug:!1,pubID:"e9382e5a-51bf-4eec-983e-112319c27e45",active:!1,adServer:"googletag",bidTimeout:"1800",page_types:["ROS"]},outstream:{debug:!1,active:!1,page_id:null,exclude_urls:[],article_identifier:null}},env:"prod",domain:"timesofmalta.com",script_tag:"timesofmalta.com",build:"2.20250715130647",seller_id:"248q9r17ew0gzb4v",adops_seller_id:"c68eab423e030b347d5a299f3c3c555d",schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"orangeclickmedia.com",sid:"248q9r17ew0gzb4v",hp:1}]}}}});function qd(){if(ui instanceof RegExp)return ui;try{ui=new RegExp(Ld,"i")}catch{ui=Hd}return ui}function ba(t){return!!t&&qd().test(t)}var Ld,Hd,ui,Sa=Hs(()=>{Ld=" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|^<|^[\\w \\.\\-\\(?:\\):]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/5\\.0\\s[a-z\\.-]+$|^mozilla/\\d\\.\\d \\(compatible;?\\)$|^mozilla/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^valid|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|adscanner/|analyzer|archive|ask jeeves/teoma|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|firephp|functionize|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|infrawatch|insight|inspect|iplabel|ips-agent|java(?!;)|jsjcw_scanner|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reputation|resolver|retriever|rexx;|rigor|rss\\b|scanner\\.|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|trace|transcoder|url|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|zgrab",Hd=/bot|crawl|http|lighthouse|scan|search|spider/i});var xa=H((ng,qi)=>{"use strict";qi.exports=ws;qi.exports.isMobile=ws;qi.exports.default=ws;var Vd=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Ud=/android|ipad|playbook|silk/i;function ws(t){t||(t={});let e=t.ua;if(!e&&typeof navigator<"u"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;let i=Vd.test(e)||!!t.tablet&&Ud.test(e);return!i&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(i=!0),i}});var Wa=H(L=>{var ci={};ci.userAgent=!1;var Qt={};var V=V||function(t,e){var i={},n=i.lib={},s=n.Base=function(){function u(){}return{extend:function(g){u.prototype=this;var f=new u;return g&&f.mixIn(g),f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var f in g)g.hasOwnProperty(f)&&(this[f]=g[f]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),r=n.WordArray=s.extend({init:function(u,g){u=this.words=u||[],g!=e?this.sigBytes=g:this.sigBytes=u.length*4},toString:function(u){return(u||a).stringify(this)},concat:function(u){var g=this.words,f=u.words,w=this.sigBytes,v=u.sigBytes;if(this.clamp(),w%4)for(var y=0;y<v;y++){var b=f[y>>>2]>>>24-y%4*8&255;g[w+y>>>2]|=b<<24-(w+y)%4*8}else for(var y=0;y<v;y+=4)g[w+y>>>2]=f[y>>>2];return this.sigBytes+=v,this},clamp:function(){var u=this.words,g=this.sigBytes;u[g>>>2]&=4294967295<<32-g%4*8,u.length=t.ceil(g/4)},clone:function(){var u=s.clone.call(this);return u.words=this.words.slice(0),u},random:function(u){for(var g=[],f=0;f<u;f+=4)g.push(t.random()*4294967296|0);return new r.init(g,u)}}),o=i.enc={},a=o.Hex={stringify:function(u){for(var g=u.words,f=u.sigBytes,w=[],v=0;v<f;v++){var y=g[v>>>2]>>>24-v%4*8&255;w.push((y>>>4).toString(16)),w.push((y&15).toString(16))}return w.join("")},parse:function(u){for(var g=u.length,f=[],w=0;w<g;w+=2)f[w>>>3]|=parseInt(u.substr(w,2),16)<<24-w%8*4;return new r.init(f,g/2)}},l=o.Latin1={stringify:function(u){for(var g=u.words,f=u.sigBytes,w=[],v=0;v<f;v++){var y=g[v>>>2]>>>24-v%4*8&255;w.push(String.fromCharCode(y))}return w.join("")},parse:function(u){for(var g=u.length,f=[],w=0;w<g;w++)f[w>>>2]|=(u.charCodeAt(w)&255)<<24-w%4*8;return new r.init(f,g)}},d=o.Utf8={stringify:function(u){try{return decodeURIComponent(escape(l.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return l.parse(unescape(encodeURIComponent(u)))}},p=n.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(u){typeof u=="string"&&(u=d.parse(u)),this._data.concat(u),this._nDataBytes+=u.sigBytes},_process:function(u){var g=this._data,f=g.words,w=g.sigBytes,v=this.blockSize,y=v*4,b=w/y;u?b=t.ceil(b):b=t.max((b|0)-this._minBufferSize,0);var _=b*v,I=t.min(_*4,w);if(_){for(var R=0;R<_;R+=v)this._doProcessBlock(f,R);var S=f.splice(0,_);g.sigBytes-=I}return new r.init(S,I)},clone:function(){var u=s.clone.call(this);return u._data=this._data.clone(),u},_minBufferSize:0}),m=n.Hasher=p.extend({cfg:s.extend(),init:function(u){this.cfg=this.cfg.extend(u),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(u){return this._append(u),this._process(),this},finalize:function(u){u&&this._append(u);var g=this._doFinalize();return g},blockSize:512/32,_createHelper:function(u){return function(g,f){return new u.init(f).finalize(g)}},_createHmacHelper:function(u){return function(g,f){return new h.HMAC.init(u,f).finalize(g)}}}),h=i.algo={};return i}(Math);(function(t){var s=V,e=s.lib,i=e.Base,n=e.WordArray,s=s.x64={};s.Word=i.extend({init:function(r,o){this.high=r,this.low=o}}),s.WordArray=i.extend({init:function(r,o){r=this.words=r||[],this.sigBytes=o!=t?o:8*r.length},toX32:function(){for(var r=this.words,o=r.length,a=[],l=0;l<o;l++){var d=r[l];a.push(d.high),a.push(d.low)}return n.create(a,this.sigBytes)},clone:function(){for(var r=i.clone.call(this),o=r.words=this.words.slice(0),a=o.length,l=0;l<a;l++)o[l]=o[l].clone();return r}})})();V.lib.Cipher||function(t){var u=V,e=u.lib,i=e.Base,n=e.WordArray,s=e.BufferedBlockAlgorithm,r=u.enc.Base64,o=u.algo.EvpKDF,a=e.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(f,w){return this.create(this._ENC_XFORM_MODE,f,w)},createDecryptor:function(f,w){return this.create(this._DEC_XFORM_MODE,f,w)},init:function(f,w,v){this.cfg=this.cfg.extend(v),this._xformMode=f,this._key=w,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(f){return this._append(f),this._process()},finalize:function(f){return f&&this._append(f),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(f){return{encrypt:function(w,v,y){return(typeof v=="string"?g:h).encrypt(f,w,v,y)},decrypt:function(w,v,y){return(typeof v=="string"?g:h).decrypt(f,w,v,y)}}}});e.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var m=u.mode={},l=function(f,w,v){var y=this._iv;y?this._iv=t:y=this._prevBlock;for(var b=0;b<v;b++)f[w+b]^=y[b]},d=(e.BlockCipherMode=i.extend({createEncryptor:function(f,w){return this.Encryptor.create(f,w)},createDecryptor:function(f,w){return this.Decryptor.create(f,w)},init:function(f,w){this._cipher=f,this._iv=w}})).extend();d.Encryptor=d.extend({processBlock:function(f,w){var v=this._cipher,y=v.blockSize;l.call(this,f,w,y),v.encryptBlock(f,w),this._prevBlock=f.slice(w,w+y)}}),d.Decryptor=d.extend({processBlock:function(f,w){var v=this._cipher,y=v.blockSize,b=f.slice(w,w+y);v.decryptBlock(f,w),l.call(this,f,w,y),this._prevBlock=b}}),m=m.CBC=d,d=(u.pad={}).Pkcs7={pad:function(f,w){for(var v=4*w,v=v-f.sigBytes%v,y=v<<24|v<<16|v<<8|v,b=[],_=0;_<v;_+=4)b.push(y);v=n.create(b,v),f.concat(v)},unpad:function(f){f.sigBytes-=f.words[f.sigBytes-1>>>2]&255}},e.BlockCipher=a.extend({cfg:a.cfg.extend({mode:m,padding:d}),reset:function(){a.reset.call(this);var w=this.cfg,f=w.iv,w=w.mode;if(this._xformMode==this._ENC_XFORM_MODE)var v=w.createEncryptor;else v=w.createDecryptor,this._minBufferSize=1;this._mode=v.call(w,this,f&&f.words)},_doProcessBlock:function(f,w){this._mode.processBlock(f,w)},_doFinalize:function(){var f=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){f.pad(this._data,this.blockSize);var w=this._process(!0)}else w=this._process(!0),f.unpad(w);return w},blockSize:4});var p=e.CipherParams=i.extend({init:function(f){this.mixIn(f)},toString:function(f){return(f||this.formatter).stringify(this)}}),m=(u.format={}).OpenSSL={stringify:function(f){var w=f.ciphertext;return f=f.salt,(f?n.create([1398893684,1701076831]).concat(f).concat(w):w).toString(r)},parse:function(f){f=r.parse(f);var w=f.words;if(w[0]==1398893684&&w[1]==1701076831){var v=n.create(w.slice(2,4));w.splice(0,4),f.sigBytes-=16}return p.create({ciphertext:f,salt:v})}},h=e.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(f,w,v,y){y=this.cfg.extend(y);var b=f.createEncryptor(v,y);return w=b.finalize(w),b=b.cfg,p.create({ciphertext:w,key:v,iv:b.iv,algorithm:f,mode:b.mode,padding:b.padding,blockSize:f.blockSize,formatter:y.format})},decrypt:function(f,w,v,y){return y=this.cfg.extend(y),w=this._parse(w,y.format),f.createDecryptor(v,y).finalize(w.ciphertext)},_parse:function(f,w){return typeof f=="string"?w.parse(f,this):f}}),u=(u.kdf={}).OpenSSL={execute:function(f,w,v,y){return y||(y=n.random(8)),f=o.create({keySize:w+v}).compute(f,y),v=n.create(f.words.slice(w),4*v),f.sigBytes=4*w,p.create({key:f,iv:v,salt:y})}},g=e.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:u}),encrypt:function(f,w,v,y){return y=this.cfg.extend(y),v=y.kdf.execute(v,f.keySize,f.ivSize),y.iv=v.iv,f=h.encrypt.call(this,f,w,v.key,y),f.mixIn(v),f},decrypt:function(f,w,v,y){return y=this.cfg.extend(y),w=this._parse(w,y.format),v=y.kdf.execute(v,f.keySize,f.ivSize,w.salt),y.iv=v.iv,h.decrypt.call(this,f,w,v.key,y)}})}();(function(){for(var t=V,e=t.lib.BlockCipher,R=t.algo,i=[],n=[],s=[],r=[],o=[],a=[],l=[],d=[],p=[],m=[],h=[],u=0;256>u;u++)h[u]=128>u?u<<1:u<<1^283;for(var g=0,f=0,u=0;256>u;u++){var w=f^f<<1^f<<2^f<<3^f<<4,w=w>>>8^w&255^99;i[g]=w,n[w]=g;var v=h[g],y=h[v],b=h[y],_=257*h[w]^16843008*w;s[g]=_<<24|_>>>8,r[g]=_<<16|_>>>16,o[g]=_<<8|_>>>24,a[g]=_,_=16843009*b^65537*y^257*v^16843008*g,l[w]=_<<24|_>>>8,d[w]=_<<16|_>>>16,p[w]=_<<8|_>>>24,m[w]=_,g?(g=v^h[h[h[b^v]]],f^=h[h[f]]):g=f=1}var I=[0,1,2,4,8,16,32,64,128,27,54],R=R.AES=e.extend({_doReset:function(){for(var E=this._key,S=E.words,x=E.sigBytes/4,E=4*((this._nRounds=x+6)+1),C=this._keySchedule=[],T=0;T<E;T++)if(T<x)C[T]=S[T];else{var k=C[T-1];T%x?6<x&&T%x==4&&(k=i[k>>>24]<<24|i[k>>>16&255]<<16|i[k>>>8&255]<<8|i[k&255]):(k=k<<8|k>>>24,k=i[k>>>24]<<24|i[k>>>16&255]<<16|i[k>>>8&255]<<8|i[k&255],k^=I[T/x|0]<<24),C[T]=C[T-x]^k}for(S=this._invKeySchedule=[],x=0;x<E;x++)T=E-x,k=x%4?C[T]:C[T-4],S[x]=4>x||4>=T?k:l[i[k>>>24]]^d[i[k>>>16&255]]^p[i[k>>>8&255]]^m[i[k&255]]},encryptBlock:function(S,x){this._doCryptBlock(S,x,this._keySchedule,s,r,o,a,i)},decryptBlock:function(S,x){var E=S[x+1];S[x+1]=S[x+3],S[x+3]=E,this._doCryptBlock(S,x,this._invKeySchedule,l,d,p,m,n),E=S[x+1],S[x+1]=S[x+3],S[x+3]=E},_doCryptBlock:function(S,x,E,C,T,k,z,F){for(var N=this._nRounds,te=S[x]^E[0],Ae=S[x+1]^E[1],ge=S[x+2]^E[2],ee=S[x+3]^E[3],D=4,O=1;O<N;O++)var W=C[te>>>24]^T[Ae>>>16&255]^k[ge>>>8&255]^z[ee&255]^E[D++],U=C[Ae>>>24]^T[ge>>>16&255]^k[ee>>>8&255]^z[te&255]^E[D++],X=C[ge>>>24]^T[ee>>>16&255]^k[te>>>8&255]^z[Ae&255]^E[D++],ee=C[ee>>>24]^T[te>>>16&255]^k[Ae>>>8&255]^z[ge&255]^E[D++],te=W,Ae=U,ge=X;W=(F[te>>>24]<<24|F[Ae>>>16&255]<<16|F[ge>>>8&255]<<8|F[ee&255])^E[D++],U=(F[Ae>>>24]<<24|F[ge>>>16&255]<<16|F[ee>>>8&255]<<8|F[te&255])^E[D++],X=(F[ge>>>24]<<24|F[ee>>>16&255]<<16|F[te>>>8&255]<<8|F[Ae&255])^E[D++],ee=(F[ee>>>24]<<24|F[te>>>16&255]<<16|F[Ae>>>8&255]<<8|F[ge&255])^E[D++],S[x]=W,S[x+1]=U,S[x+2]=X,S[x+3]=ee},keySize:8});t.AES=e._createHelper(R)})();(function(){function t(h,u){var g=(this._lBlock>>>h^this._rBlock)&u;this._rBlock^=g,this._lBlock^=g<<h}function e(h,u){var g=(this._rBlock>>>h^this._lBlock)&u;this._lBlock^=g,this._rBlock^=g<<h}var i=V,s=i.lib,n=s.WordArray,s=s.BlockCipher,r=i.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=r.DES=s.extend({_doReset:function(){for(var h=this._key.words,u=[],g=0;56>g;g++){var f=o[g]-1;u[g]=h[f>>>5]>>>31-f%32&1}for(h=this._subKeys=[],f=0;16>f;f++){for(var w=h[f]=[],v=l[f],g=0;24>g;g++)w[g/6|0]|=u[(a[g]-1+v)%28]<<31-g%6,w[4+(g/6|0)]|=u[28+(a[g+24]-1+v)%28]<<31-g%6;for(w[0]=w[0]<<1|w[0]>>>31,g=1;7>g;g++)w[g]>>>=4*(g-1)+3;w[7]=w[7]<<5|w[7]>>>27}for(u=this._invSubKeys=[],g=0;16>g;g++)u[g]=h[15-g]},encryptBlock:function(h,u){this._doCryptBlock(h,u,this._subKeys)},decryptBlock:function(h,u){this._doCryptBlock(h,u,this._invSubKeys)},_doCryptBlock:function(h,u,g){this._lBlock=h[u],this._rBlock=h[u+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var f=0;16>f;f++){for(var w=g[f],v=this._lBlock,y=this._rBlock,b=0,_=0;8>_;_++)b|=d[_][((y^w[_])&p[_])>>>0];this._lBlock=y,this._rBlock=v^b}g=this._lBlock,this._lBlock=this._rBlock,this._rBlock=g,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),h[u]=this._lBlock,h[u+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});i.DES=s._createHelper(m),r=r.TripleDES=s.extend({_doReset:function(){var h=this._key.words;this._des1=m.createEncryptor(n.create(h.slice(0,2))),this._des2=m.createEncryptor(n.create(h.slice(2,4))),this._des3=m.createEncryptor(n.create(h.slice(4,6)))},encryptBlock:function(h,u){this._des1.encryptBlock(h,u),this._des2.decryptBlock(h,u),this._des3.encryptBlock(h,u)},decryptBlock:function(h,u){this._des3.decryptBlock(h,u),this._des2.encryptBlock(h,u),this._des1.decryptBlock(h,u)},keySize:6,ivSize:2,blockSize:2}),i.TripleDES=s._createHelper(r)})();(function(){var t=V,e=t.lib.WordArray;t.enc.Base64={stringify:function(i){var n=i.words,s=i.sigBytes,r=this._map;i.clamp(),i=[];for(var o=0;o<s;o+=3)for(var a=(n[o>>>2]>>>24-8*(o%4)&255)<<16|(n[o+1>>>2]>>>24-8*((o+1)%4)&255)<<8|n[o+2>>>2]>>>24-8*((o+2)%4)&255,l=0;4>l&&o+.75*l<s;l++)i.push(r.charAt(a>>>6*(3-l)&63));if(n=r.charAt(64))for(;i.length%4;)i.push(n);return i.join("")},parse:function(i){var n=i.length,s=this._map,r=s.charAt(64);r&&(r=i.indexOf(r),r!=-1&&(n=r));for(var r=[],o=0,a=0;a<n;a++)if(a%4){var l=s.indexOf(i.charAt(a-1))<<2*(a%4),d=s.indexOf(i.charAt(a))>>>6-2*(a%4);r[o>>>2]|=(l|d)<<24-8*(o%4),o++}return e.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(t){function e(m,h,u,g,f,w,v){return m=m+(h&u|~h&g)+f+v,(m<<w|m>>>32-w)+h}function i(m,h,u,g,f,w,v){return m=m+(h&g|u&~g)+f+v,(m<<w|m>>>32-w)+h}function n(m,h,u,g,f,w,v){return m=m+(h^u^g)+f+v,(m<<w|m>>>32-w)+h}function s(m,h,u,g,f,w,v){return m=m+(u^(h|~g))+f+v,(m<<w|m>>>32-w)+h}for(var r=V,l=r.lib,o=l.WordArray,a=l.Hasher,l=r.algo,d=[],p=0;64>p;p++)d[p]=4294967296*t.abs(t.sin(p+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,h){for(var u=0;16>u;u++){var g=h+u,f=m[g];m[g]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var u=this._hash.words,g=m[h+0],f=m[h+1],w=m[h+2],v=m[h+3],y=m[h+4],b=m[h+5],_=m[h+6],I=m[h+7],R=m[h+8],S=m[h+9],x=m[h+10],E=m[h+11],C=m[h+12],T=m[h+13],k=m[h+14],z=m[h+15],F=u[0],O=u[1],D=u[2],N=u[3],F=e(F,O,D,N,g,7,d[0]),N=e(N,F,O,D,f,12,d[1]),D=e(D,N,F,O,w,17,d[2]),O=e(O,D,N,F,v,22,d[3]),F=e(F,O,D,N,y,7,d[4]),N=e(N,F,O,D,b,12,d[5]),D=e(D,N,F,O,_,17,d[6]),O=e(O,D,N,F,I,22,d[7]),F=e(F,O,D,N,R,7,d[8]),N=e(N,F,O,D,S,12,d[9]),D=e(D,N,F,O,x,17,d[10]),O=e(O,D,N,F,E,22,d[11]),F=e(F,O,D,N,C,7,d[12]),N=e(N,F,O,D,T,12,d[13]),D=e(D,N,F,O,k,17,d[14]),O=e(O,D,N,F,z,22,d[15]),F=i(F,O,D,N,f,5,d[16]),N=i(N,F,O,D,_,9,d[17]),D=i(D,N,F,O,E,14,d[18]),O=i(O,D,N,F,g,20,d[19]),F=i(F,O,D,N,b,5,d[20]),N=i(N,F,O,D,x,9,d[21]),D=i(D,N,F,O,z,14,d[22]),O=i(O,D,N,F,y,20,d[23]),F=i(F,O,D,N,S,5,d[24]),N=i(N,F,O,D,k,9,d[25]),D=i(D,N,F,O,v,14,d[26]),O=i(O,D,N,F,R,20,d[27]),F=i(F,O,D,N,T,5,d[28]),N=i(N,F,O,D,w,9,d[29]),D=i(D,N,F,O,I,14,d[30]),O=i(O,D,N,F,C,20,d[31]),F=n(F,O,D,N,b,4,d[32]),N=n(N,F,O,D,R,11,d[33]),D=n(D,N,F,O,E,16,d[34]),O=n(O,D,N,F,k,23,d[35]),F=n(F,O,D,N,f,4,d[36]),N=n(N,F,O,D,y,11,d[37]),D=n(D,N,F,O,I,16,d[38]),O=n(O,D,N,F,x,23,d[39]),F=n(F,O,D,N,T,4,d[40]),N=n(N,F,O,D,g,11,d[41]),D=n(D,N,F,O,v,16,d[42]),O=n(O,D,N,F,_,23,d[43]),F=n(F,O,D,N,S,4,d[44]),N=n(N,F,O,D,C,11,d[45]),D=n(D,N,F,O,z,16,d[46]),O=n(O,D,N,F,w,23,d[47]),F=s(F,O,D,N,g,6,d[48]),N=s(N,F,O,D,I,10,d[49]),D=s(D,N,F,O,k,15,d[50]),O=s(O,D,N,F,b,21,d[51]),F=s(F,O,D,N,C,6,d[52]),N=s(N,F,O,D,v,10,d[53]),D=s(D,N,F,O,x,15,d[54]),O=s(O,D,N,F,f,21,d[55]),F=s(F,O,D,N,R,6,d[56]),N=s(N,F,O,D,z,10,d[57]),D=s(D,N,F,O,_,15,d[58]),O=s(O,D,N,F,T,21,d[59]),F=s(F,O,D,N,y,6,d[60]),N=s(N,F,O,D,E,10,d[61]),D=s(D,N,F,O,w,15,d[62]),O=s(O,D,N,F,S,21,d[63]);u[0]=u[0]+F|0,u[1]=u[1]+O|0,u[2]=u[2]+D|0,u[3]=u[3]+N|0},_doFinalize:function(){var m=this._data,h=m.words,u=8*this._nDataBytes,g=8*m.sigBytes;h[g>>>5]|=128<<24-g%32;var f=t.floor(u/4294967296);for(h[(g+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,h[(g+64>>>9<<4)+14]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360,m.sigBytes=4*(h.length+1),this._process(),m=this._hash,h=m.words,u=0;4>u;u++)g=h[u],h[u]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;return m},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}}),r.MD5=a._createHelper(l),r.HmacMD5=a._createHmacHelper(l)})(Math);(function(){var t=V,s=t.lib,e=s.WordArray,i=s.Hasher,n=[],s=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(r,o){for(var a=this._hash.words,l=a[0],d=a[1],p=a[2],m=a[3],h=a[4],u=0;80>u;u++){if(16>u)n[u]=r[o+u]|0;else{var g=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=g<<1|g>>>31}g=(l<<5|l>>>27)+h+n[u],g=20>u?g+((d&p|~d&m)+1518500249):40>u?g+((d^p^m)+1859775393):60>u?g+((d&p|d&m|p&m)-1894007588):g+((d^p^m)-899497514),h=m,m=p,p=d<<30|d>>>2,d=l,l=g}a[0]=a[0]+l|0,a[1]=a[1]+d|0,a[2]=a[2]+p|0,a[3]=a[3]+m|0,a[4]=a[4]+h|0},_doFinalize:function(){var r=this._data,o=r.words,a=8*this._nDataBytes,l=8*r.sigBytes;return o[l>>>5]|=128<<24-l%32,o[(l+64>>>9<<4)+14]=Math.floor(a/4294967296),o[(l+64>>>9<<4)+15]=a,r.sigBytes=4*o.length,this._process(),this._hash},clone:function(){var r=i.clone.call(this);return r._hash=this._hash.clone(),r}});t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s)})();(function(t){for(var e=V,u=e.lib,i=u.WordArray,n=u.Hasher,u=e.algo,s=[],r=[],o=function(f){return 4294967296*(f-(f|0))|0},a=2,l=0;64>l;){var d;e:{d=a;for(var p=t.sqrt(d),m=2;m<=p;m++)if(!(d%m)){d=!1;break e}d=!0}d&&(8>l&&(s[l]=o(t.pow(a,.5))),r[l]=o(t.pow(a,1/3)),l++),a++}var h=[],u=u.SHA256=n.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(g,f){for(var w=this._hash.words,v=w[0],y=w[1],b=w[2],_=w[3],I=w[4],R=w[5],S=w[6],x=w[7],E=0;64>E;E++){if(16>E)h[E]=g[f+E]|0;else{var C=h[E-15],T=h[E-2];h[E]=((C<<25|C>>>7)^(C<<14|C>>>18)^C>>>3)+h[E-7]+((T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10)+h[E-16]}C=x+((I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25))+(I&R^~I&S)+r[E]+h[E],T=((v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22))+(v&y^v&b^y&b),x=S,S=R,R=I,I=_+C|0,_=b,b=y,y=v,v=C+T|0}w[0]=w[0]+v|0,w[1]=w[1]+y|0,w[2]=w[2]+b|0,w[3]=w[3]+_|0,w[4]=w[4]+I|0,w[5]=w[5]+R|0,w[6]=w[6]+S|0,w[7]=w[7]+x|0},_doFinalize:function(){var g=this._data,f=g.words,w=8*this._nDataBytes,v=8*g.sigBytes;return f[v>>>5]|=128<<24-v%32,f[(v+64>>>9<<4)+14]=t.floor(w/4294967296),f[(v+64>>>9<<4)+15]=w,g.sigBytes=4*f.length,this._process(),this._hash},clone:function(){var g=n.clone.call(this);return g._hash=this._hash.clone(),g}});e.SHA256=n._createHelper(u),e.HmacSHA256=n._createHmacHelper(u)})(Math);(function(){var t=V,e=t.lib.WordArray,n=t.algo,i=n.SHA256,n=n.SHA224=i.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var s=i._doFinalize.call(this);return s.sigBytes-=4,s}});t.SHA224=i._createHelper(n),t.HmacSHA224=i._createHmacHelper(n)})();(function(){function t(){return n.create.apply(n,arguments)}for(var e=V,i=e.lib.Hasher,r=e.x64,n=r.Word,s=r.WordArray,r=e.algo,o=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],l=0;80>l;l++)a[l]=t();r=r.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(d,p){for(var y=this._hash.words,m=y[0],h=y[1],u=y[2],g=y[3],f=y[4],w=y[5],v=y[6],y=y[7],b=m.high,_=m.low,I=h.high,R=h.low,S=u.high,x=u.low,E=g.high,C=g.low,T=f.high,k=f.low,z=w.high,F=w.low,N=v.high,D=v.low,O=y.high,W=y.low,U=b,X=_,ee=I,te=R,Ae=S,ge=x,Te=E,we=C,Ie=T,ye=k,Re=z,ut=F,Bt=N,si=D,nn=O,ri=W,ct=0;80>ct;ct++){var kt=a[ct];if(16>ct)var ot=kt.high=d[p+2*ct]|0,le=kt.low=d[p+2*ct+1]|0;else{var ot=a[ct-15],le=ot.high,wt=ot.low,ot=(le>>>1|wt<<31)^(le>>>8|wt<<24)^le>>>7,wt=(wt>>>1|le<<31)^(wt>>>8|le<<24)^(wt>>>7|le<<25),zt=a[ct-2],le=zt.high,be=zt.low,zt=(le>>>19|be<<13)^(le<<3|be>>>29)^le>>>6,be=(be>>>19|le<<13)^(be<<3|le>>>29)^(be>>>6|le<<26),le=a[ct-7],sn=le.high,Pt=a[ct-16],yt=Pt.high,Pt=Pt.low,le=wt+le.low,ot=ot+sn+(le>>>0<wt>>>0?1:0),le=le+be,ot=ot+zt+(le>>>0<be>>>0?1:0),le=le+Pt,ot=ot+yt+(le>>>0<Pt>>>0?1:0);kt.high=ot,kt.low=le}var sn=Ie&Re^~Ie&Bt,Pt=ye&ut^~ye&si,kt=U&ee^U&Ae^ee&Ae,cl=X&te^X&ge^te&ge,wt=(U>>>28|X<<4)^(U<<30|X>>>2)^(U<<25|X>>>7),zt=(X>>>28|U<<4)^(X<<30|U>>>2)^(X<<25|U>>>7),be=o[ct],hl=be.high,Ls=be.low,be=ri+((ye>>>14|Ie<<18)^(ye>>>18|Ie<<14)^(ye<<23|Ie>>>9)),yt=nn+((Ie>>>14|ye<<18)^(Ie>>>18|ye<<14)^(Ie<<23|ye>>>9))+(be>>>0<ri>>>0?1:0),be=be+Pt,yt=yt+sn+(be>>>0<Pt>>>0?1:0),be=be+Ls,yt=yt+hl+(be>>>0<Ls>>>0?1:0),be=be+le,yt=yt+ot+(be>>>0<le>>>0?1:0),le=zt+cl,kt=wt+kt+(le>>>0<zt>>>0?1:0),nn=Bt,ri=si,Bt=Re,si=ut,Re=Ie,ut=ye,ye=we+be|0,Ie=Te+yt+(ye>>>0<we>>>0?1:0)|0,Te=Ae,we=ge,Ae=ee,ge=te,ee=U,te=X,X=be+le|0,U=yt+kt+(X>>>0<be>>>0?1:0)|0}_=m.low=_+X,m.high=b+U+(_>>>0<X>>>0?1:0),R=h.low=R+te,h.high=I+ee+(R>>>0<te>>>0?1:0),x=u.low=x+ge,u.high=S+Ae+(x>>>0<ge>>>0?1:0),C=g.low=C+we,g.high=E+Te+(C>>>0<we>>>0?1:0),k=f.low=k+ye,f.high=T+Ie+(k>>>0<ye>>>0?1:0),F=w.low=F+ut,w.high=z+Re+(F>>>0<ut>>>0?1:0),D=v.low=D+si,v.high=N+Bt+(D>>>0<si>>>0?1:0),W=y.low=W+ri,y.high=O+nn+(W>>>0<ri>>>0?1:0)},_doFinalize:function(){var d=this._data,p=d.words,m=8*this._nDataBytes,h=8*d.sigBytes;return p[h>>>5]|=128<<24-h%32,p[(h+128>>>10<<5)+30]=Math.floor(m/4294967296),p[(h+128>>>10<<5)+31]=m,d.sigBytes=4*p.length,this._process(),this._hash.toX32()},clone:function(){var d=i.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:32}),e.SHA512=i._createHelper(r),e.HmacSHA512=i._createHmacHelper(r)})();(function(){var t=V,s=t.x64,e=s.Word,i=s.WordArray,s=t.algo,n=s.SHA512,s=s.SHA384=n.extend({_doReset:function(){this._hash=new i.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var r=n._doFinalize.call(this);return r.sigBytes-=16,r}});t.SHA384=n._createHelper(s),t.HmacSHA384=n._createHmacHelper(s)})();(function(){var t=V,d=t.lib,e=d.WordArray,i=d.Hasher,d=t.algo,n=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),r=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),a=e.create([0,1518500249,1859775393,2400959708,2840853838]),l=e.create([1352829926,1548603684,1836072691,2053994217,0]),d=d.RIPEMD160=i.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,m){for(var h=0;16>h;h++){var u=m+h,g=p[u];p[u]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var u=this._hash.words,g=a.words,f=l.words,w=n.words,v=s.words,y=r.words,b=o.words,_,I,R,S,x,E,C,T,k,z;E=_=u[0],C=I=u[1],T=R=u[2],k=S=u[3],z=x=u[4];for(var F,h=0;80>h;h+=1)F=_+p[m+w[h]]|0,F=16>h?F+((I^R^S)+g[0]):32>h?F+((I&R|~I&S)+g[1]):48>h?F+(((I|~R)^S)+g[2]):64>h?F+((I&S|R&~S)+g[3]):F+((I^(R|~S))+g[4]),F|=0,F=F<<y[h]|F>>>32-y[h],F=F+x|0,_=x,x=S,S=R<<10|R>>>22,R=I,I=F,F=E+p[m+v[h]]|0,F=16>h?F+((C^(T|~k))+f[0]):32>h?F+((C&k|T&~k)+f[1]):48>h?F+(((C|~T)^k)+f[2]):64>h?F+((C&T|~C&k)+f[3]):F+((C^T^k)+f[4]),F|=0,F=F<<b[h]|F>>>32-b[h],F=F+z|0,E=z,z=k,k=T<<10|T>>>22,T=C,C=F;F=u[1]+R+k|0,u[1]=u[2]+S+z|0,u[2]=u[3]+x+E|0,u[3]=u[4]+_+C|0,u[4]=u[0]+I+T|0,u[0]=F},_doFinalize:function(){var p=this._data,m=p.words,h=8*this._nDataBytes,u=8*p.sigBytes;for(m[u>>>5]|=128<<24-u%32,m[(u+64>>>9<<4)+14]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,p.sigBytes=4*(m.length+1),this._process(),p=this._hash,m=p.words,h=0;5>h;h++)u=m[h],m[h]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360;return p},clone:function(){var p=i.clone.call(this);return p._hash=this._hash.clone(),p}});t.RIPEMD160=i._createHelper(d),t.HmacRIPEMD160=i._createHmacHelper(d)})(Math);(function(){var t=V,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(i,n){i=this._hasher=new i.init,typeof n=="string"&&(n=e.parse(n));var s=i.blockSize,r=4*s;n.sigBytes>r&&(n=i.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),a=this._iKey=n.clone(),l=o.words,d=a.words,p=0;p<s;p++)l[p]^=1549556828,d[p]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var n=this._hasher;return i=n.finalize(i),n.reset(),n.finalize(this._oKey.clone().concat(i))}})})();(function(){var t=V,n=t.lib,e=n.Base,i=n.WordArray,n=t.algo,s=n.HMAC,r=n.PBKDF2=e.extend({cfg:e.extend({keySize:4,hasher:n.SHA1,iterations:1}),init:function(o){this.cfg=this.cfg.extend(o)},compute:function(o,a){for(var g=this.cfg,l=s.create(g.hasher,o),d=i.create(),p=i.create([1]),m=d.words,h=p.words,u=g.keySize,g=g.iterations;m.length<u;){var f=l.update(a).finalize(p);l.reset();for(var w=f.words,v=w.length,y=f,b=1;b<g;b++){y=l.finalize(y),l.reset();for(var _=y.words,I=0;I<v;I++)w[I]^=_[I]}d.concat(f),h[0]++}return d.sigBytes=4*u,d}});t.PBKDF2=function(o,a,l){return r.create(l).compute(o,a)}})();var Zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xs="=";function Ft(t){var e,i,n="";for(e=0;e+3<=t.length;e+=3)i=parseInt(t.substring(e,e+3),16),n+=Zt.charAt(i>>6)+Zt.charAt(i&63);if(e+1==t.length?(i=parseInt(t.substring(e,e+1),16),n+=Zt.charAt(i<<2)):e+2==t.length&&(i=parseInt(t.substring(e,e+2),16),n+=Zt.charAt(i>>2)+Zt.charAt((i&3)<<4)),xs)for(;(n.length&3)>0;)n+=xs;return n}function ti(t){var e="",i,n=0,s,r;for(i=0;i<t.length&&t.charAt(i)!=xs;++i)r=Zt.indexOf(t.charAt(i)),!(r<0)&&(n==0?(e+=Ct(r>>2),s=r&3,n=1):n==1?(e+=Ct(s<<2|r>>4),s=r&15,n=2):n==2?(e+=Ct(s),e+=Ct(r>>2),s=r&3,n=3):(e+=Ct(s<<2|r>>4),e+=Ct(r&15),n=0));return n==1&&(e+=Ct(s<<2)),e}function Fa(t){var e=ti(t),i,n=new Array;for(i=0;2*i<e.length;++i)n[i]=parseInt(e.substring(2*i,2*i+2),16);return n}var Dt,Kd=0xdeadbeefcafe,Ea=(Kd&16777215)==15715070;function P(t,e,i){t!=null&&(typeof t=="number"?this.fromNumber(t,e,i):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}function ne(){return new P(null)}function Gd(t,e,i,n,s,r){for(;--r>=0;){var o=e*this[t++]+i[n]+s;s=Math.floor(o/67108864),i[n++]=o&67108863}return s}function $d(t,e,i,n,s,r){for(var o=e&32767,a=e>>15;--r>=0;){var l=this[t]&32767,d=this[t++]>>15,p=a*l+d*o;l=o*l+((p&32767)<<15)+i[n]+(s&1073741823),s=(l>>>30)+(p>>>15)+a*d+(s>>>30),i[n++]=l&1073741823}return s}function Wd(t,e,i,n,s,r){for(var o=e&16383,a=e>>14;--r>=0;){var l=this[t]&16383,d=this[t++]>>14,p=a*l+d*o;l=o*l+((p&16383)<<14)+i[n]+s,s=(l>>28)+(p>>14)+a*d,i[n++]=l&268435455}return s}Ea&&ci.appName=="Microsoft Internet Explorer"?(P.prototype.am=$d,Dt=30):Ea&&ci.appName!="Netscape"?(P.prototype.am=Gd,Dt=26):(P.prototype.am=Wd,Dt=28);P.prototype.DB=Dt;P.prototype.DM=(1<<Dt)-1;P.prototype.DV=1<<Dt;var Cs=52;P.prototype.FV=Math.pow(2,Cs);P.prototype.F1=Cs-Dt;P.prototype.F2=2*Dt-Cs;var Jd="0123456789abcdefghijklmnopqrstuvwxyz",$i=new Array,ii,lt;ii="0".charCodeAt(0);for(lt=0;lt<=9;++lt)$i[ii++]=lt;ii="a".charCodeAt(0);for(lt=10;lt<36;++lt)$i[ii++]=lt;ii="A".charCodeAt(0);for(lt=10;lt<36;++lt)$i[ii++]=lt;function Ct(t){return Jd.charAt(t)}function Ta(t,e){var i=$i[t.charCodeAt(e)];return i??-1}function Xd(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function Yd(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function Rt(t){var e=ne();return e.fromInt(t),e}function Qd(t,e){var i;if(e==16)i=4;else if(e==8)i=3;else if(e==256)i=8;else if(e==2)i=1;else if(e==32)i=5;else if(e==4)i=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,s=!1,r=0;--n>=0;){var o=i==8?t[n]&255:Ta(t,n);if(o<0){t.charAt(n)=="-"&&(s=!0);continue}s=!1,r==0?this[this.t++]=o:r+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-r)-1)<<r,this[this.t++]=o>>this.DB-r):this[this.t-1]|=o<<r,r+=i,r>=this.DB&&(r-=this.DB)}i==8&&t[0]&128&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),s&&P.ZERO.subTo(this,this)}function Zd(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function eu(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var i=(1<<e)-1,n,s=!1,r="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this[o]>>a)>0&&(s=!0,r=Ct(n));o>=0;)a<e?(n=(this[o]&(1<<a)-1)<<e-a,n|=this[--o]>>(a+=this.DB-e)):(n=this[o]>>(a-=e)&i,a<=0&&(a+=this.DB,--o)),n>0&&(s=!0),s&&(r+=Ct(n));return s?r:"0"}function tu(){var t=ne();return P.ZERO.subTo(this,t),t}function iu(){return this.s<0?this.negate():this}function nu(t){var e=this.s-t.s;if(e!=0)return e;var i=this.t;if(e=i-t.t,e!=0)return this.s<0?-e:e;for(;--i>=0;)if((e=this[i]-t[i])!=0)return e;return 0}function Wi(t){var e=1,i;return(i=t>>>16)!=0&&(t=i,e+=16),(i=t>>8)!=0&&(t=i,e+=8),(i=t>>4)!=0&&(t=i,e+=4),(i=t>>2)!=0&&(t=i,e+=2),(i=t>>1)!=0&&(t=i,e+=1),e}function su(){return this.t<=0?0:this.DB*(this.t-1)+Wi(this[this.t-1]^this.s&this.DM)}function ru(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s}function ou(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s}function au(t,e){var i=t%this.DB,n=this.DB-i,s=(1<<n)-1,r=Math.floor(t/this.DB),o=this.s<<i&this.DM,a;for(a=this.t-1;a>=0;--a)e[a+r+1]=this[a]>>n|o,o=(this[a]&s)<<i;for(a=r-1;a>=0;--a)e[a]=0;e[r]=o,e.t=this.t+r+1,e.s=this.s,e.clamp()}function lu(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t){e.t=0;return}var n=t%this.DB,s=this.DB-n,r=(1<<n)-1;e[0]=this[i]>>n;for(var o=i+1;o<this.t;++o)e[o-i-1]|=(this[o]&r)<<s,e[o-i]=this[o]>>n;n>0&&(e[this.t-i-1]|=(this.s&r)<<s),e.t=this.t-i,e.clamp()}function du(t,e){for(var i=0,n=0,s=Math.min(t.t,this.t);i<s;)n+=this[i]-t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n-=t[i],e[i++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[i++]=this.DV+n:n>0&&(e[i++]=n),e.t=i,e.clamp()}function uu(t,e){var i=this.abs(),n=t.abs(),s=i.t;for(e.t=s+n.t;--s>=0;)e[s]=0;for(s=0;s<n.t;++s)e[s+i.t]=i.am(0,n[s],e,s,0,i.t);e.s=0,e.clamp(),this.s!=t.s&&P.ZERO.subTo(e,e)}function cu(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var n=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,n,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()}function hu(t,e,i){var n=t.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){e?.fromInt(0),i!=null&&this.copyTo(i);return}i==null&&(i=ne());var r=ne(),o=this.s,a=t.s,l=this.DB-Wi(n[n.t-1]);l>0?(n.lShiftTo(l,r),s.lShiftTo(l,i)):(n.copyTo(r),s.copyTo(i));var d=r.t,p=r[d-1];if(p!=0){var m=p*(1<<this.F1)+(d>1?r[d-2]>>this.F2:0),h=this.FV/m,u=(1<<this.F1)/m,g=1<<this.F2,f=i.t,w=f-d,v=e??ne();for(r.dlShiftTo(w,v),i.compareTo(v)>=0&&(i[i.t++]=1,i.subTo(v,i)),P.ONE.dlShiftTo(d,v),v.subTo(r,r);r.t<d;)r[r.t++]=0;for(;--w>=0;){var y=i[--f]==p?this.DM:Math.floor(i[f]*h+(i[f-1]+g)*u);if((i[f]+=r.am(0,y,i,w,0,d))<y)for(r.dlShiftTo(w,v),i.subTo(v,i);i[f]<--y;)i.subTo(v,i)}e!=null&&(i.drShiftTo(d,e),o!=a&&P.ZERO.subTo(e,e)),i.t=d,i.clamp(),l>0&&i.rShiftTo(l,i),o<0&&P.ZERO.subTo(i,i)}}}function fu(t){var e=ne();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(P.ZERO)>0&&t.subTo(e,e),e}function Kt(t){this.m=t}function pu(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function gu(t){return t}function mu(t){t.divRemTo(this.m,null,t)}function vu(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function wu(t,e){t.squareTo(e),this.reduce(e)}Kt.prototype.convert=pu;Kt.prototype.revert=gu;Kt.prototype.reduce=mu;Kt.prototype.mulTo=vu;Kt.prototype.sqrTo=wu;function yu(){if(this.t<1)return 0;var t=this[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Gt(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function bu(t){var e=ne();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(P.ZERO)>0&&this.m.subTo(e,e),e}function Su(t){var e=ne();return t.copyTo(e),this.reduce(e),e}function xu(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=t[e]&32767,n=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(i=e+this.m.t,t[i]+=this.m.am(0,n,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Eu(t,e){t.squareTo(e),this.reduce(e)}function _u(t,e,i){t.multiplyTo(e,i),this.reduce(i)}Gt.prototype.convert=bu;Gt.prototype.revert=Su;Gt.prototype.reduce=xu;Gt.prototype.mulTo=_u;Gt.prototype.sqrTo=Eu;function Au(){return(this.t>0?this[0]&1:this.s)==0}function Iu(t,e){if(t>4294967295||t<1)return P.ONE;var i=ne(),n=ne(),s=e.convert(this),r=Wi(t)-1;for(s.copyTo(i);--r>=0;)if(e.sqrTo(i,n),(t&1<<r)>0)e.mulTo(n,s,i);else{var o=i;i=n,n=o}return e.revert(i)}function Cu(t,e){var i;return t<256||e.isEven()?i=new Kt(e):i=new Gt(e),this.exp(t,i)}P.prototype.copyTo=Xd;P.prototype.fromInt=Yd;P.prototype.fromString=Qd;P.prototype.clamp=Zd;P.prototype.dlShiftTo=ru;P.prototype.drShiftTo=ou;P.prototype.lShiftTo=au;P.prototype.rShiftTo=lu;P.prototype.subTo=du;P.prototype.multiplyTo=uu;P.prototype.squareTo=cu;P.prototype.divRemTo=hu;P.prototype.invDigit=yu;P.prototype.isEven=Au;P.prototype.exp=Iu;P.prototype.toString=eu;P.prototype.negate=tu;P.prototype.abs=iu;P.prototype.compareTo=nu;P.prototype.bitLength=su;P.prototype.mod=fu;P.prototype.modPowInt=Cu;P.ZERO=Rt(0);P.ONE=Rt(1);function Fu(){var t=ne();return this.copyTo(t),t}function Tu(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Pu(){return this.t==0?this.s:this[0]<<24>>24}function ku(){return this.t==0?this.s:this[0]<<16>>16}function Ru(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Du(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Ou(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),n=Rt(i),s=ne(),r=ne(),o="";for(this.divRemTo(n,s,r);s.signum()>0;)o=(i+r.intValue()).toString(t).substr(1)+o,s.divRemTo(n,s,r);return r.intValue().toString(t)+o}function Nu(t,e){this.fromInt(0),e==null&&(e=10);for(var i=this.chunkSize(e),n=Math.pow(e,i),s=!1,r=0,o=0,a=0;a<t.length;++a){var l=Ta(t,a);if(l<0){t.charAt(a)=="-"&&this.signum()==0&&(s=!0);continue}o=e*o+l,++r>=i&&(this.dMultiply(n),this.dAddOffset(o,0),r=0,o=0)}r>0&&(this.dMultiply(Math.pow(e,r)),this.dAddOffset(o,0)),s&&P.ZERO.subTo(this,this)}function Bu(t,e,i){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(P.ONE.shiftLeft(t-1),Fs,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(P.ONE.shiftLeft(t-1),this);else{var n=new Array,s=t&7;n.length=(t>>3)+1,e.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}function zu(){var t=this.t,e=new Array;e[0]=this.s;var i=this.DB-t*this.DB%8,n,s=0;if(t-- >0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[s++]=n|this.s<<this.DB-i);t>=0;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(e[s++]=n);return e}function Mu(t){return this.compareTo(t)==0}function ju(t){return this.compareTo(t)<0?this:t}function Lu(t){return this.compareTo(t)>0?this:t}function Hu(t,e,i){var n,s,r=Math.min(t.t,this.t);for(n=0;n<r;++n)i[n]=e(this[n],t[n]);if(t.t<this.t){for(s=t.s&this.DM,n=r;n<this.t;++n)i[n]=e(this[n],s);i.t=this.t}else{for(s=this.s&this.DM,n=r;n<t.t;++n)i[n]=e(s,t[n]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()}function qu(t,e){return t&e}function Vu(t){var e=ne();return this.bitwiseTo(t,qu,e),e}function Fs(t,e){return t|e}function Uu(t){var e=ne();return this.bitwiseTo(t,Fs,e),e}function Pa(t,e){return t^e}function Ku(t){var e=ne();return this.bitwiseTo(t,Pa,e),e}function ka(t,e){return t&~e}function Gu(t){var e=ne();return this.bitwiseTo(t,ka,e),e}function $u(){for(var t=ne(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function Wu(t){var e=ne();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Ju(t){var e=ne();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Xu(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function Yu(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+Xu(this[t]);return this.s<0?this.t*this.DB:-1}function Qu(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Zu(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=Qu(this[i]^e);return t}function ec(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<t%this.DB)!=0}function tc(t,e){var i=P.ONE.shiftLeft(t);return this.bitwiseTo(i,e,i),i}function ic(t){return this.changeBit(t,Fs)}function nc(t){return this.changeBit(t,ka)}function sc(t){return this.changeBit(t,Pa)}function rc(t,e){for(var i=0,n=0,s=Math.min(t.t,this.t);i<s;)n+=this[i]+t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n+=t[i],e[i++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[i++]=n:n<-1&&(e[i++]=this.DV+n),e.t=i,e.clamp()}function oc(t){var e=ne();return this.addTo(t,e),e}function ac(t){var e=ne();return this.subTo(t,e),e}function lc(t){var e=ne();return this.multiplyTo(t,e),e}function dc(){var t=ne();return this.squareTo(t),t}function uc(t){var e=ne();return this.divRemTo(t,e,null),e}function cc(t){var e=ne();return this.divRemTo(t,null,e),e}function hc(t){var e=ne(),i=ne();return this.divRemTo(t,e,i),new Array(e,i)}function fc(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function pc(t,e){if(t!=0){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function fi(){}function Ra(t){return t}function gc(t,e,i){t.multiplyTo(e,i)}function mc(t,e){t.squareTo(e)}fi.prototype.convert=Ra;fi.prototype.revert=Ra;fi.prototype.mulTo=gc;fi.prototype.sqrTo=mc;function vc(t){return this.exp(t,new fi)}function wc(t,e,i){var n=Math.min(this.t+t.t,e);for(i.s=0,i.t=n;n>0;)i[--n]=0;var s;for(s=i.t-this.t;n<s;++n)i[n+this.t]=this.am(0,t[n],i,n,0,this.t);for(s=Math.min(t.t,e);n<s;++n)this.am(0,t[n],i,n,0,e-n);i.clamp()}function yc(t,e,i){--e;var n=i.t=this.t+t.t-e;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)i[this.t+n-e]=this.am(e-n,t[n],i,0,0,this.t+n-e);i.clamp(),i.drShiftTo(1,i)}function ni(t){this.r2=ne(),this.q3=ne(),P.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function bc(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ne();return t.copyTo(e),this.reduce(e),e}function Sc(t){return t}function xc(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Ec(t,e){t.squareTo(e),this.reduce(e)}function _c(t,e,i){t.multiplyTo(e,i),this.reduce(i)}ni.prototype.convert=bc;ni.prototype.revert=Sc;ni.prototype.reduce=xc;ni.prototype.mulTo=_c;ni.prototype.sqrTo=Ec;function Ac(t,e){var i=t.bitLength(),n,s=Rt(1),r;if(i<=0)return s;i<18?n=1:i<48?n=3:i<144?n=4:i<768?n=5:n=6,i<8?r=new Kt(e):e.isEven()?r=new ni(e):r=new Gt(e);var o=new Array,a=3,l=n-1,d=(1<<n)-1;if(o[1]=r.convert(this),n>1){var p=ne();for(r.sqrTo(o[1],p);a<=d;)o[a]=ne(),r.mulTo(p,o[a-2],o[a]),a+=2}var m=t.t-1,h,u=!0,g=ne(),f;for(i=Wi(t[m])-1;m>=0;){for(i>=l?h=t[m]>>i-l&d:(h=(t[m]&(1<<i+1)-1)<<l-i,m>0&&(h|=t[m-1]>>this.DB+i-l)),a=n;!(h&1);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--m),u)o[h].copyTo(s),u=!1;else{for(;a>1;)r.sqrTo(s,g),r.sqrTo(g,s),a-=2;a>0?r.sqrTo(s,g):(f=s,s=g,g=f),r.mulTo(g,o[h],s)}for(;m>=0&&!(t[m]&1<<i);)r.sqrTo(s,g),f=s,s=g,g=f,--i<0&&(i=this.DB-1,--m)}return r.revert(s)}function Ic(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var n=e;e=i,i=n}var s=e.getLowestSetBit(),r=i.getLowestSetBit();if(r<0)return e;for(s<r&&(r=s),r>0&&(e.rShiftTo(r,e),i.rShiftTo(r,i));e.signum()>0;)(s=e.getLowestSetBit())>0&&e.rShiftTo(s,e),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),e.compareTo(i)>=0?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return r>0&&i.lShiftTo(r,i),i}function Cc(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(e==0)i=this[0]%t;else for(var n=this.t-1;n>=0;--n)i=(e*i+this[n])%t;return i}function Fc(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return P.ZERO;for(var i=t.clone(),n=this.clone(),s=Rt(1),r=Rt(0),o=Rt(0),a=Rt(1);i.signum()!=0;){for(;i.isEven();)i.rShiftTo(1,i),e?((!s.isEven()||!r.isEven())&&(s.addTo(this,s),r.subTo(t,r)),s.rShiftTo(1,s)):r.isEven()||r.subTo(t,r),r.rShiftTo(1,r);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);i.compareTo(n)>=0?(i.subTo(n,i),e&&s.subTo(o,s),r.subTo(a,r)):(n.subTo(i,n),e&&o.subTo(s,o),a.subTo(r,a))}if(n.compareTo(P.ONE)!=0)return P.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Tc=(1<<26)/Xe[Xe.length-1];function Pc(t){var e,i=this.abs();if(i.t==1&&i[0]<=Xe[Xe.length-1]){for(e=0;e<Xe.length;++e)if(i[0]==Xe[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<Xe.length;){for(var n=Xe[e],s=e+1;s<Xe.length&&n<Tc;)n*=Xe[s++];for(n=i.modInt(n);e<s;)if(n%Xe[e++]==0)return!1}return i.millerRabin(t)}function kc(t){var e=this.subtract(P.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var n=e.shiftRight(i);t=t+1>>1,t>Xe.length&&(t=Xe.length);for(var s=ne(),r=0;r<t;++r){s.fromInt(Xe[Math.floor(Math.random()*Xe.length)]);var o=s.modPow(n,this);if(o.compareTo(P.ONE)!=0&&o.compareTo(e)!=0){for(var a=1;a++<i&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(P.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}P.prototype.chunkSize=Ru;P.prototype.toRadix=Ou;P.prototype.fromRadix=Nu;P.prototype.fromNumber=Bu;P.prototype.bitwiseTo=Hu;P.prototype.changeBit=tc;P.prototype.addTo=rc;P.prototype.dMultiply=fc;P.prototype.dAddOffset=pc;P.prototype.multiplyLowerTo=wc;P.prototype.multiplyUpperTo=yc;P.prototype.modInt=Cc;P.prototype.millerRabin=kc;P.prototype.clone=Fu;P.prototype.intValue=Tu;P.prototype.byteValue=Pu;P.prototype.shortValue=ku;P.prototype.signum=Du;P.prototype.toByteArray=zu;P.prototype.equals=Mu;P.prototype.min=ju;P.prototype.max=Lu;P.prototype.and=Vu;P.prototype.or=Uu;P.prototype.xor=Ku;P.prototype.andNot=Gu;P.prototype.not=$u;P.prototype.shiftLeft=Wu;P.prototype.shiftRight=Ju;P.prototype.getLowestSetBit=Yu;P.prototype.bitCount=Zu;P.prototype.testBit=ec;P.prototype.setBit=ic;P.prototype.clearBit=nc;P.prototype.flipBit=sc;P.prototype.add=oc;P.prototype.subtract=ac;P.prototype.multiply=lc;P.prototype.divide=uc;P.prototype.remainder=cc;P.prototype.divideAndRemainder=hc;P.prototype.modPow=Ac;P.prototype.modInverse=Fc;P.prototype.pow=vc;P.prototype.gcd=Ic;P.prototype.isProbablePrime=Pc;P.prototype.square=dc;function Ts(){this.i=0,this.j=0,this.S=new Array}function Rc(t){var e,i,n;for(e=0;e<256;++e)this.S[e]=e;for(i=0,e=0;e<256;++e)i=i+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[i],this.S[i]=n;this.i=0,this.j=0}function Dc(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}Ts.prototype.init=Rc;Ts.prototype.next=Dc;function Oc(){return new Ts}var Es=256;var Vi,rt,je;function Nc(t){rt[je++]^=t&255,rt[je++]^=t>>8&255,rt[je++]^=t>>16&255,rt[je++]^=t>>24&255,je>=Es&&(je-=Es)}function Ps(){Nc(new Date().getTime())}if(rt==null){if(rt=new Array,je=0,Qt!==void 0&&(Qt.crypto!==void 0||Qt.msCrypto!==void 0)){if(ys=Qt.crypto||Qt.msCrypto,ys.getRandomValues)for(bs=new Uint8Array(32),ys.getRandomValues(bs),at=0;at<32;++at)rt[je++]=bs[at];else if(ci.appName=="Netscape"&&ci.appVersion<"5")for(Ss=Qt.crypto.random(32),at=0;at<Ss.length;++at)rt[je++]=Ss.charCodeAt(at)&255}for(;je<Es;)at=Math.floor(65536*Math.random()),rt[je++]=at>>>8,rt[je++]=at&255;je=0,Ps()}var at,ys,bs,Ss;function Bc(){if(Vi==null){for(Ps(),Vi=Oc(),Vi.init(rt),je=0;je<rt.length;++je)rt[je]=0;je=0}return Vi.next()}function zc(t){var e;for(e=0;e<t.length;++e)t[e]=Bc()}function Ot(){}Ot.prototype.nextBytes=zc;function Ke(t,e){return new P(t,e)}function Mc(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var i=new Array,n=t.length-1;n>=0&&e>0;){var s=t.charCodeAt(n--);s<128?i[--e]=s:s>127&&s<2048?(i[--e]=s&63|128,i[--e]=s>>6|192):(i[--e]=s&63|128,i[--e]=s>>6&63|128,i[--e]=s>>12|224)}i[--e]=0;for(var r=new Ot,o=new Array;e>2;){for(o[0]=0;o[0]==0;)r.nextBytes(o);i[--e]=o[0]}return i[--e]=2,i[--e]=0,new P(i)}function _a(t,e,i){for(var n="",s=0;n.length<e;)n+=i(String.fromCharCode.apply(String,t.concat([(s&4278190080)>>24,(s&16711680)>>16,(s&65280)>>8,s&255]))),s+=1;return n}function jc(t,e,i,n){var s=c.crypto.MessageDigest,r=c.crypto.Util,o=null;if(i||(i="sha1"),typeof i=="string"&&(o=s.getCanonicalAlgName(i),n=s.getHashLength(o),i=function(f){return Ge(r.hashHex(dt(f),o))}),t.length+2*n+2>e)throw"Message too long for RSA";var a="",l;for(l=0;l<e-t.length-2*n-2;l+=1)a+="\0";var d=i("")+a+""+t,p=new Array(n);new Ot().nextBytes(p);var m=_a(p,d.length,i),h=[];for(l=0;l<d.length;l+=1)h[l]=d.charCodeAt(l)^m.charCodeAt(l);var u=_a(h,p.length,i),g=[0];for(l=0;l<p.length;l+=1)g[l+1]=p[l]^u.charCodeAt(l);return new P(g.concat(h))}function $(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Lc(t,e){if(this.isPublic=!0,this.isPrivate=!1,typeof t!="string")this.n=t,this.e=e;else if(t!=null&&e!=null&&t.length>0&&e.length>0)this.n=Ke(t,16),this.e=parseInt(e,16);else throw"Invalid RSA public key"}function Hc(t){return t.modPowInt(this.e,this.n)}function qc(t){var e=Mc(t,this.n.bitLength()+7>>3);if(e==null)return null;var i=this.doPublic(e);if(i==null)return null;var n=i.toString(16);return n.length&1?"0"+n:n}function Vc(t,e,i){var n=jc(t,this.n.bitLength()+7>>3,e,i);if(n==null)return null;var s=this.doPublic(n);if(s==null)return null;var r=s.toString(16);return r.length&1?"0"+r:r}$.prototype.doPublic=Hc;$.prototype.setPublic=Lc;$.prototype.encrypt=qc;$.prototype.encryptOAEP=Vc;$.prototype.type="RSA";function Uc(t,e){for(var i=t.toByteArray(),n=0;n<i.length&&i[n]==0;)++n;if(i.length-n!=e-1||i[n]!=2)return null;for(++n;i[n]!=0;)if(++n>=i.length)return null;for(var s="";++n<i.length;){var r=i[n]&255;r<128?s+=String.fromCharCode(r):r>191&&r<224?(s+=String.fromCharCode((r&31)<<6|i[n+1]&63),++n):(s+=String.fromCharCode((r&15)<<12|(i[n+1]&63)<<6|i[n+2]&63),n+=2)}return s}function Aa(t,e,i){for(var n="",s=0;n.length<e;)n+=i(t+String.fromCharCode.apply(String,[(s&4278190080)>>24,(s&16711680)>>16,(s&65280)>>8,s&255])),s+=1;return n}function Kc(t,e,i,n){var s=c.crypto.MessageDigest,r=c.crypto.Util,o=null;i||(i="sha1"),typeof i=="string"&&(o=s.getCanonicalAlgName(i),n=s.getHashLength(o),i=function(w){return Ge(r.hashHex(dt(w),o))}),t=t.toByteArray();var m;for(m=0;m<t.length;m+=1)t[m]&=255;for(;t.length<e;)t.unshift(0);if(t=String.fromCharCode.apply(String,t),t.length<2*n+2)throw"Cipher too short";var a=t.substr(1,n),l=t.substr(n+1),d=Aa(l,n,i),p=[],m;for(m=0;m<a.length;m+=1)p[m]=a.charCodeAt(m)^d.charCodeAt(m);var h=Aa(String.fromCharCode.apply(String,p),t.length-n,i),u=[];for(m=0;m<l.length;m+=1)u[m]=l.charCodeAt(m)^h.charCodeAt(m);if(u=String.fromCharCode.apply(String,u),u.substr(0,n)!==i(""))throw"Hash mismatch";u=u.substr(n);var g=u.indexOf(""),f=g!=-1?u.substr(0,g).lastIndexOf("\0"):-1;if(f+1!=g)throw"Malformed data";return u.substr(g+1)}function Gc(t,e,i){if(this.isPrivate=!0,typeof t!="string")this.n=t,this.e=e,this.d=i;else if(t!=null&&e!=null&&t.length>0&&e.length>0)this.n=Ke(t,16),this.e=parseInt(e,16),this.d=Ke(i,16);else throw"Invalid RSA private key"}function $c(t,e,i,n,s,r,o,a){if(this.isPrivate=!0,this.isPublic=!1,t==null)throw"RSASetPrivateEx N == null";if(e==null)throw"RSASetPrivateEx E == null";if(t.length==0)throw"RSASetPrivateEx N.length == 0";if(e.length==0)throw"RSASetPrivateEx E.length == 0";if(t!=null&&e!=null&&t.length>0&&e.length>0)this.n=Ke(t,16),this.e=parseInt(e,16),this.d=Ke(i,16),this.p=Ke(n,16),this.q=Ke(s,16),this.dmp1=Ke(r,16),this.dmq1=Ke(o,16),this.coeff=Ke(a,16);else throw"Invalid RSA private key in RSASetPrivateEx"}function Wc(t,e){var i=new Ot,n=t>>1;this.e=parseInt(e,16);for(var s=new P(e,16),r=t/2-100,o=P.ONE.shiftLeft(r);;){for(;this.p=new P(t-n,1,i),!(this.p.subtract(P.ONE).gcd(s).compareTo(P.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new P(n,1,i),!(this.q.subtract(P.ONE).gcd(s).compareTo(P.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var l=this.q.subtract(this.p).abs();if(!(l.bitLength()<r||l.compareTo(o)<=0)){var d=this.p.subtract(P.ONE),p=this.q.subtract(P.ONE),m=d.multiply(p);if(m.gcd(s).compareTo(P.ONE)==0&&(this.n=this.p.multiply(this.q),this.n.bitLength()==t)){this.d=s.modInverse(m),this.dmp1=this.d.mod(d),this.dmq1=this.d.mod(p),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0}function Jc(t){if(this.p==null||this.q==null)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)}function Xc(t){if(t.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var e=Ke(t,16),i=this.doPrivate(e);return i==null?null:Uc(i,this.n.bitLength()+7>>3)}function Yc(t,e,i){if(t.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var n=Ke(t,16),s=this.doPrivate(n);return s==null?null:Kc(s,this.n.bitLength()+7>>3,e,i)}$.prototype.doPrivate=Jc;$.prototype.setPrivate=Gc;$.prototype.setPrivateEx=$c;$.prototype.generate=Wc;$.prototype.decrypt=Xc;$.prototype.decryptOAEP=Yc;function Be(t,e){this.x=e,this.q=t}function Qc(t){return t==this?!0:this.q.equals(t.q)&&this.x.equals(t.x)}function Zc(){return this.x}function eh(){return new Be(this.q,this.x.negate().mod(this.q))}function th(t){return new Be(this.q,this.x.add(t.toBigInteger()).mod(this.q))}function ih(t){return new Be(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))}function nh(t){return new Be(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))}function sh(){return new Be(this.q,this.x.square().mod(this.q))}function rh(t){return new Be(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))}Be.prototype.equals=Qc;Be.prototype.toBigInteger=Zc;Be.prototype.negate=eh;Be.prototype.add=th;Be.prototype.subtract=ih;Be.prototype.multiply=nh;Be.prototype.square=sh;Be.prototype.divide=rh;Be.prototype.sqrt=function(){return new Be(this.q,this.x.sqrt().mod(this.q))};function ae(t,e,i,n){this.curve=t,this.x=e,this.y=i,n==null?this.z=P.ONE:this.z=n,this.zinv=null}function oh(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function ah(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function lh(t){if(t==this)return!0;if(this.isInfinity())return t.isInfinity();if(t.isInfinity())return this.isInfinity();var e,i;return e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),e.equals(P.ZERO)?(i=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q),i.equals(P.ZERO)):!1}function dh(){return this.x==null&&this.y==null?!0:this.z.equals(P.ZERO)&&!this.y.toBigInteger().equals(P.ZERO)}function uh(){return new ae(this.curve,this.x,this.y.negate(),this.z)}function ch(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),i=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(P.ZERO.equals(i))return P.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new P("3"),s=this.x.toBigInteger(),r=this.y.toBigInteger(),o=t.x.toBigInteger(),a=t.y.toBigInteger(),l=i.square(),d=l.multiply(i),p=s.multiply(l),m=e.square().multiply(this.z),h=m.subtract(p.shiftLeft(1)).multiply(t.z).subtract(d).multiply(i).mod(this.curve.q),u=p.multiply(n).multiply(e).subtract(r.multiply(d)).subtract(m.multiply(e)).multiply(t.z).add(e.multiply(d)).mod(this.curve.q),g=d.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(u),g)}function hh(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var t=new P("3"),e=this.x.toBigInteger(),i=this.y.toBigInteger(),n=i.multiply(this.z),s=n.multiply(i).mod(this.curve.q),r=this.curve.a.toBigInteger(),o=e.square().multiply(t);P.ZERO.equals(r)||(o=o.add(this.z.square().multiply(r))),o=o.mod(this.curve.q);var a=o.square().subtract(e.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(n).mod(this.curve.q),l=o.multiply(t).multiply(e).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(o.square().multiply(o)).mod(this.curve.q),d=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(l),d)}function fh(t){if(this.isInfinity())return this;if(t.signum()==0)return this.curve.getInfinity();var e=t,i=e.multiply(new P("3")),n=this.negate(),s=this,r=this.curve.q.subtract(t),o=r.multiply(new P("3")),a=new ae(this.curve,this.x,this.y),l=a.negate(),d;for(d=i.bitLength()-2;d>0;--d){s=s.twice();var p=i.testBit(d),m=e.testBit(d);p!=m&&(s=s.add(p?this:n))}for(d=o.bitLength()-2;d>0;--d){a=a.twice();var h=o.testBit(d),u=r.testBit(d);h!=u&&(a=a.add(h?a:l))}return s}function ph(t,e,i){var n;t.bitLength()>i.bitLength()?n=t.bitLength()-1:n=i.bitLength()-1;for(var s=this.curve.getInfinity(),r=this.add(e);n>=0;)s=s.twice(),t.testBit(n)?i.testBit(n)?s=s.add(r):s=s.add(this):i.testBit(n)&&(s=s.add(e)),--n;return s}ae.prototype.getX=oh;ae.prototype.getY=ah;ae.prototype.equals=lh;ae.prototype.isInfinity=dh;ae.prototype.negate=uh;ae.prototype.add=ch;ae.prototype.twice=hh;ae.prototype.multiply=fh;ae.prototype.multiplyTwo=ph;function Tt(t,e,i){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(i),this.infinity=new ae(this,null,null)}function gh(){return this.q}function mh(){return this.a}function vh(){return this.b}function wh(t){return t==this?!0:this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}function yh(){return this.infinity}function bh(t){return new Be(this.q,t)}function Sh(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var e=t.substr(0,2),i=t.substr(2),n=this.fromBigInteger(new P(d,16)),s=this.getA(),r=this.getB(),o=n.square().add(s).multiply(n).add(r),a=o.sqrt();return e=="03"&&(a=a.negate()),new ae(this,n,a);case 4:case 6:case 7:var l=(t.length-2)/2,d=t.substr(2,l),p=t.substr(l+2,l);return new ae(this,this.fromBigInteger(new P(d,16)),this.fromBigInteger(new P(p,16)));default:return null}}Tt.prototype.getQ=gh;Tt.prototype.getA=mh;Tt.prototype.getB=vh;Tt.prototype.equals=wh;Tt.prototype.getInfinity=yh;Tt.prototype.fromBigInteger=bh;Tt.prototype.decodePointHex=Sh;Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ae.prototype.getEncoded=function(t){var e=function(r,o){var a=r.toByteArrayUnsigned();if(o<a.length)a=a.slice(a.length-o);else for(;o>a.length;)a.unshift(0);return a},i=this.getX().toBigInteger(),n=this.getY().toBigInteger(),s=e(i,32);return t?n.isEven()?s.unshift(2):s.unshift(3):(s.unshift(4),s=s.concat(e(n,32))),s};ae.decodeFrom=function(t,e){var i=e[0],n=e.length-1,s=e.slice(1,1+n/2),r=e.slice(1+n/2,1+n);s.unshift(0),r.unshift(0);var o=new P(s),a=new P(r);return new ae(t,t.fromBigInteger(o),t.fromBigInteger(a))};ae.decodeFromHex=function(t,e){var i=e.substr(0,2),n=e.length-2,s=e.substr(2,n/2),r=e.substr(2+n/2,n/2),o=new P(s,16),a=new P(r,16);return new ae(t,t.fromBigInteger(o),t.fromBigInteger(a))};ae.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),i=t.y.subtract(this.y),n=i.divide(e),s=n.square().subtract(this.x).subtract(t.x),r=n.multiply(this.x.subtract(s)).subtract(this.y);return new ae(this.curve,s,r)};ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var t=this.curve.fromBigInteger(P.valueOf(2)),e=this.curve.fromBigInteger(P.valueOf(3)),i=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),n=i.square().subtract(this.x.multiply(t)),s=i.multiply(this.x.subtract(n)).subtract(this.y);return new ae(this.curve,n,s)};ae.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(t.signum()==0)return this.curve.getInfinity();var e=t,i=e.multiply(new P("3")),n=this.negate(),s=this,r;for(r=i.bitLength()-2;r>0;--r){s=s.twice();var o=i.testBit(r),a=e.testBit(r);o!=a&&(s=s.add2D(o?this:n))}return s};ae.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),i=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),s=this.curve.getQ(),r=e.multiply(e).mod(s),o=t.multiply(t).multiply(t).add(i.multiply(t)).add(n).mod(s);return r.equals(o)};ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};ae.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),i=this.getY().toBigInteger();if(e.compareTo(P.ONE)<0||e.compareTo(t.subtract(P.ONE))>0)throw new Error("x coordinate out of bounds");if(i.compareTo(P.ONE)<0||i.compareTo(t.subtract(P.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Da=function(){var t="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)",e='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',i='(?:"'+e+'*")',n=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+t+"|"+i+")","g"),s=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function o(m,h,u){return h?r[h]:String.fromCharCode(parseInt(u,16))}var a=new String(""),l="\\",d={"{":Object,"[":Array},p=Object.hasOwnProperty;return function(m,h){var u=m.match(n),g,f=u[0],w=!1;f==="{"?g={}:f==="["?g=[]:(g=[],w=!0);for(var v,y=[g],b=1-w,_=u.length;b<_;++b){f=u[b];var I;switch(f.charCodeAt(0)){default:I=y[0],I[v||I.length]=+f,v=void 0;break;case 34:if(f=f.substring(1,f.length-1),f.indexOf(l)!==-1&&(f=f.replace(s,o)),I=y[0],!v)if(I instanceof Array)v=I.length;else{v=f||a;break}I[v]=f,v=void 0;break;case 91:I=y[0],y.unshift(I[v||I.length]=[]),v=void 0;break;case 93:y.shift();break;case 102:I=y[0],I[v||I.length]=!1,v=void 0;break;case 110:I=y[0],I[v||I.length]=null,v=void 0;break;case 116:I=y[0],I[v||I.length]=!0,v=void 0;break;case 123:I=y[0],y.unshift(I[v||I.length]={}),v=void 0;break;case 125:y.shift();break}}if(w){if(y.length!==1)throw new Error;g=g[0]}else if(y.length)throw new Error;if(h){var R=function(S,x){var E=S[x];if(E&&typeof E=="object"){var C=null;for(var T in E)if(p.call(E,T)&&E!==S){var k=R(E,T);k!==void 0?E[T]=k:(C||(C=[]),C.push(T))}if(C)for(var z=C.length;--z>=0;)delete E[C[z]]}return h.call(S,x,E)};g=R({"":g},"")}return g}}();(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});c.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if(e.substr(0,1)!="-")e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var i=e.substr(1),n=i.length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var s="",r=0;r<n;r++)s+="f";var o=new P(s,16),a=o.xor(t).add(P.ONE);e=a.toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return Me(t,e)},this.newObject=function(t){var e=c,i=e.asn1,n=i.ASN1Object,s=i.DERBoolean,r=i.DERInteger,o=i.DERBitString,a=i.DEROctetString,l=i.DERNull,d=i.DERObjectIdentifier,p=i.DEREnumerated,m=i.DERUTF8String,h=i.DERNumericString,u=i.DERPrintableString,g=i.DERTeletexString,f=i.DERIA5String,w=i.DERUTCTime,v=i.DERGeneralizedTime,y=i.DERVisibleString,b=i.DERBMPString,_=i.DERSequence,I=i.DERSet,R=i.DERTaggedObject,S=i.ASN1Util.newObject;if(t instanceof i.ASN1Object)return t;var x=Object.keys(t);if(x.length!=1)throw new Error("key of param shall be only one.");var E=x[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":")==-1)throw new Error("undefined key: "+E);if(E=="bool")return new s(t[E]);if(E=="int")return new r(t[E]);if(E=="bitstr")return new o(t[E]);if(E=="octstr")return new a(t[E]);if(E=="null")return new l(t[E]);if(E=="oid")return new d(t[E]);if(E=="enum")return new p(t[E]);if(E=="utf8str")return new m(t[E]);if(E=="numstr")return new h(t[E]);if(E=="prnstr")return new u(t[E]);if(E=="telstr")return new g(t[E]);if(E=="ia5str")return new f(t[E]);if(E=="utctime")return new w(t[E]);if(E=="gentime")return new v(t[E]);if(E=="visstr")return new y(t[E]);if(E=="bmpstr")return new b(t[E]);if(E=="asn1")return new n(t[E]);if(E=="seq"){for(var C=t[E],T=[],k=0;k<C.length;k++){var z=S(C[k]);T.push(z)}return new _({array:T})}if(E=="set"){for(var C=t[E],T=[],k=0;k<C.length;k++){var z=S(C[k]);T.push(z)}return new I({array:T})}if(E=="tag"){var F=t[E];if(Object.prototype.toString.call(F)==="[object Array]"&&F.length==3){var N=S(F[2]);return new R({tag:F[0],explicit:F[1],obj:N})}else return new R(F)}},this.jsonToASN1HEX=function(t){var e=this.newObject(t);return e.tohex()}};c.asn1.ASN1Util.oidHexToInt=function(t){for(var s="",e=parseInt(t.substr(0,2),16),i=Math.floor(e/40),n=e%40,s=i+"."+n,r="",o=2;o<t.length;o+=2){var a=parseInt(t.substr(o,2),16),l=("00000000"+a.toString(2)).slice(-8);if(r=r+l.substr(1,7),l.substr(0,1)=="0"){var d=new P(r,2);s=s+"."+d.toString(10),r=""}}return s};c.asn1.ASN1Util.oidIntToHex=function(t){var e=function(a){var l=a.toString(16);return l.length==1&&(l="0"+l),l},i=function(a){var l="",d=new P(a,10),p=d.toString(2),m=7-p.length%7;m==7&&(m=0);for(var h="",u=0;u<m;u++)h+="0";p=h+p;for(var u=0;u<p.length-1;u+=7){var g=p.substr(u,7);u!=p.length-7&&(g="1"+g),l+=e(parseInt(g,2))}return l};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",s=t.split("."),r=parseInt(s[0])*40+parseInt(s[1]);n+=e(r),s.splice(0,2);for(var o=0;o<s.length;o++)n+=i(s[o]);return n};c.asn1.ASN1Object=function(t){var e=!0,i=null,n="00",s="00",r="";this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+r.length+",v="+this.hV);var o=this.hV.length/2,a=o.toString(16);if(a.length%2==1&&(a="0"+a),o<128)return a;var l=a.length/2;if(l>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+o.toString(16));var d=128+l;return d.toString(16)+a},this.tohex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(o){this.params=o},t!=null&&t.tlv!=null&&(this.hTLV=t.tlv,this.isModified=!1)};c.asn1.DERAbstractString=function(t){c.asn1.DERAbstractString.superclass.constructor.call(this);var e=null,i=null;this.getString=function(){return this.s},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.s=n,this.hV=Xi(this.s).toLowerCase()},this.setStringHex=function(n){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.getFreshValueHex=function(){return this.hV},typeof t<"u"&&(typeof t=="string"?this.setString(t):typeof t.str<"u"?this.setString(t.str):typeof t.hex<"u"&&this.setStringHex(t.hex))};B(c.asn1.DERAbstractString,c.asn1.ASN1Object);c.asn1.DERAbstractTime=function(t){c.asn1.DERAbstractTime.superclass.constructor.call(this);var e=null,i=null;this.localDateToUTC=function(n){var s=n.getTime()+n.getTimezoneOffset()*6e4,r=new Date(s);return r},this.formatDate=function(n,s,r){var o=this.zeroPadding,a=this.localDateToUTC(n),l=String(a.getFullYear());s=="utc"&&(l=l.substr(2,2));var d=o(String(a.getMonth()+1),2),p=o(String(a.getDate()),2),m=o(String(a.getHours()),2),h=o(String(a.getMinutes()),2),u=o(String(a.getSeconds()),2),g=l+d+p+m+h+u;if(r===!0){var f=a.getMilliseconds();if(f!=0){var w=o(String(f),3);w=w.replace(/[0]+$/,""),g=g+"."+w}}return g+"Z"},this.zeroPadding=function(n,s){return n.length>=s?n:new Array(s-n.length+1).join("0")+n},this.setByParam=function(n){this.hV=null,this.hTLV=null,this.params=n},this.getString=function(){},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.str=n},this.setByDate=function(n){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.date=n},this.setByDateValue=function(n,s,r,o,a,l){var d=new Date(Date.UTC(n,s-1,r,o,a,l,0));this.setByDate(d)},this.getFreshValueHex=function(){return this.hV}};B(c.asn1.DERAbstractTime,c.asn1.ASN1Object);c.asn1.DERAbstractStructured=function(t){c.asn1.DERAbstractString.superclass.constructor.call(this);var e=null;this.setByASN1ObjectArray=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array=i},this.appendASN1Object=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array.push(i)},this.asn1Array=new Array,typeof t<"u"&&typeof t.array<"u"&&(this.asn1Array=t.array)};B(c.asn1.DERAbstractStructured,c.asn1.ASN1Object);c.asn1.DERBoolean=function(t){c.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",t==!1?this.hTLV="010100":this.hTLV="0101ff"};B(c.asn1.DERBoolean,c.asn1.ASN1Object);c.asn1.DERInteger=function(t){c.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=c.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var i=new P(String(e),10);this.setByBigInteger(i)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof t<"u"&&(typeof t.bigint<"u"?this.setByBigInteger(t.bigint):typeof t.int<"u"?this.setByInteger(t.int):typeof t=="number"?this.setByInteger(t):typeof t.hex<"u"&&this.setValueHex(t.hex))};B(c.asn1.DERInteger,c.asn1.ASN1Object);c.asn1.DERBitString=function(t){if(t!==void 0&&typeof t.obj<"u"){var e=c.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.tohex()}c.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(i){this.hTLV=null,this.isModified=!0,this.hV=i},this.setUnusedBitsAndHexValue=function(i,n){if(i<0||7<i)throw"unused bits shall be from 0 to 7: u = "+i;var s="0"+i;this.hTLV=null,this.isModified=!0,this.hV=s+n},this.setByBinaryString=function(i){i=i.replace(/0+$/,"");var n=8-i.length%8;n==8&&(n=0),i+="0000000".substr(0,n);for(var s="",r=0;r<i.length-1;r+=8){var o=i.substr(r,8),a=parseInt(o,2).toString(16);a.length==1&&(a="0"+a),s+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+n+s},this.setByBooleanArray=function(i){for(var n="",s=0;s<i.length;s++)i[s]==!0?n+="1":n+="0";this.setByBinaryString(n)},this.newFalseArray=function(i){for(var n=new Array(i),s=0;s<i;s++)n[s]=!1;return n},this.getFreshValueHex=function(){return this.hV},typeof t<"u"&&(typeof t=="string"&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):typeof t.hex<"u"?this.setHexValueIncludingUnusedBits(t.hex):typeof t.bin<"u"?this.setByBinaryString(t.bin):typeof t.array<"u"&&this.setByBooleanArray(t.array))};B(c.asn1.DERBitString,c.asn1.ASN1Object);c.asn1.DEROctetString=function(t){if(t!==void 0&&typeof t.obj<"u"){var e=c.asn1.ASN1Util.newObject(t.obj);t.hex=e.tohex()}c.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"};B(c.asn1.DEROctetString,c.asn1.DERAbstractString);c.asn1.DERNull=function(){c.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"};B(c.asn1.DERNull,c.asn1.ASN1Object);c.asn1.DERObjectIdentifier=function(t){c.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var i=Ha(e);if(i==null)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(e){var i=c.asn1.x509.OID.name2oid(e);if(i!=="")this.setValueOidString(i);else throw new Error("DERObjectIdentifier oidName undefined: "+e)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){typeof e=="string"?this.setValueNameOrOid(e):e.oid!==void 0?this.setValueNameOrOid(e.oid):e.name!==void 0?this.setValueNameOrOid(e.name):e.hex!==void 0&&this.setValueHex(e.hex)},t!==void 0&&this.setByParam(t)};B(c.asn1.DERObjectIdentifier,c.asn1.ASN1Object);c.asn1.DEREnumerated=function(t){c.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=c.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var i=new P(String(e),10);this.setByBigInteger(i)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof t<"u"&&(typeof t.int<"u"?this.setByInteger(t.int):typeof t=="number"?this.setByInteger(t):typeof t.hex<"u"&&this.setValueHex(t.hex))};B(c.asn1.DEREnumerated,c.asn1.ASN1Object);c.asn1.DERUTF8String=function(t){c.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"};B(c.asn1.DERUTF8String,c.asn1.DERAbstractString);c.asn1.DERNumericString=function(t){c.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"};B(c.asn1.DERNumericString,c.asn1.DERAbstractString);c.asn1.DERPrintableString=function(t){c.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"};B(c.asn1.DERPrintableString,c.asn1.DERAbstractString);c.asn1.DERTeletexString=function(t){c.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"};B(c.asn1.DERTeletexString,c.asn1.DERAbstractString);c.asn1.DERIA5String=function(t){c.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"};B(c.asn1.DERIA5String,c.asn1.DERAbstractString);c.asn1.DERVisibleString=function(t){c.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="1a"};B(c.asn1.DERVisibleString,c.asn1.DERAbstractString);c.asn1.DERBMPString=function(t){c.asn1.DERBMPString.superclass.constructor.call(this,t),this.hT="1e"};B(c.asn1.DERBMPString,c.asn1.DERAbstractString);c.asn1.DERUTCTime=function(t){c.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var e=this.params;if(this.params==null&&(e={date:new Date}),typeof e=="string")if(e.match(/^[0-9]{12}Z$/)||e.match(/^[0-9]{12}\.[0-9]+Z$/))this.hV=Ze(e);else throw new Error("malformed string for UTCTime: "+e);else if(e.str!=null)this.hV=Ze(e.str);else if(e.date==null&&e.millis==!0){var i=new Date;this.hV=Ze(this.formatDate(i,"utc",!0))}else if(e.date!=null&&e.date instanceof Date){var n=e.millis===!0;this.hV=Ze(this.formatDate(e.date,"utc",n))}else e instanceof Date&&(this.hV=Ze(this.formatDate(e,"utc")));if(this.hV==null)throw new Error("parameter not specified properly for UTCTime");return this.hV},t!=null&&this.setByParam(t)};B(c.asn1.DERUTCTime,c.asn1.DERAbstractTime);c.asn1.DERGeneralizedTime=function(t){c.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.params=t,this.getFreshValueHex=function(){var e=this.params;if(this.params==null&&(e={date:new Date}),typeof e=="string")if(e.match(/^[0-9]{14}Z$/)||e.match(/^[0-9]{14}\.[0-9]+Z$/))this.hV=Ze(e);else throw new Error("malformed string for GeneralizedTime: "+e);else if(e.str!=null)this.hV=Ze(e.str);else if(e.date==null&&e.millis==!0){var i=new Date;this.hV=Ze(this.formatDate(i,"gen",!0))}else if(e.date!=null&&e.date instanceof Date){var n=e.millis===!0;this.hV=Ze(this.formatDate(e.date,"gen",n))}else e instanceof Date&&(this.hV=Ze(this.formatDate(e,"gen")));if(this.hV==null)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},t!=null&&this.setByParam(t)};B(c.asn1.DERGeneralizedTime,c.asn1.DERAbstractTime);c.asn1.DERSequence=function(t){c.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var e="",i=0;i<this.asn1Array.length;i++){var n=this.asn1Array[i];e+=n.tohex()}return this.hV=e,this.hV}};B(c.asn1.DERSequence,c.asn1.DERAbstractStructured);c.asn1.DERSet=function(t){c.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,i=0;i<this.asn1Array.length;i++){var n=this.asn1Array[i];e.push(n.tohex())}return this.sortFlag==!0&&e.sort(),this.hV=e.join(""),this.hV},typeof t<"u"&&typeof t.sortflag<"u"&&t.sortflag==!1&&(this.sortFlag=!1)};B(c.asn1.DERSet,c.asn1.DERAbstractStructured);c.asn1.DERTaggedObject=function(t){c.asn1.DERTaggedObject.superclass.constructor.call(this);var e=c.asn1,i=M,n=i.getV,s=i.isASN1HEX,r=e.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(o,a,l){this.params={tag:a,explicit:o,obj:l}},this.getFreshValueHex=function(){var o=this.params;if(o.explicit==null&&(o.explicit=!0),o.tage!=null&&(o.tag=o.tage,o.explicit=!0),o.tagi!=null&&(o.tag=o.tagi,o.explicit=!1),o.str!=null)this.hV=Xi(o.str);else if(o.hex!=null)this.hV=o.hex;else if(o.obj!=null){var a;o.obj instanceof e.ASN1Object?a=o.obj.tohex():typeof o.obj=="object"&&(a=r(o.obj).tohex()),o.explicit?this.hV=a:this.hV=n(a,0)}else throw new Error("str, hex nor obj not specified");return o.tag==null&&(o.tag="a0"),this.hT=o.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(o){this.params=o},t!==void 0&&this.setByParam(t)};B(c.asn1.DERTaggedObject,c.asn1.ASN1Object);var M=new function(){};M.getLblen=function(t,e){if(t.substr(e+2,1)!="8")return 1;var i=parseInt(t.substr(e+3,1));return i==0?-1:0<i&&i<10?i+1:-2};M.getL=function(t,e){var i=M.getLblen(t,e);return i<1?"":t.substr(e+2,i*2)};M.getVblen=function(t,e){var i,n;return i=M.getL(t,e),i==""?-1:(i.substr(0,1)==="8"?n=new P(i.substr(2),16):n=new P(i,16),n.intValue())};M.getVidx=function(t,e){var i=M.getLblen(t,e);return i<0?i:e+(i+1)*2};M.getV=function(t,e){var i=M.getVidx(t,e),n=M.getVblen(t,e);return t.substr(i,n*2)};M.getTLV=function(t,e){return t.substr(e,2)+M.getL(t,e)+M.getV(t,e)};M.getTLVblen=function(t,e){return 2+M.getLblen(t,e)*2+M.getVblen(t,e)*2};M.getNextSiblingIdx=function(t,e){var i=M.getVidx(t,e),n=M.getVblen(t,e);return i+n*2};M.getChildIdx=function(t,e){var i=M,n=[],s,r,o;s=i.getVidx(t,e),r=i.getVblen(t,e)*2,t.substr(e,2)=="03"&&(s+=2,r-=2),o=0;for(var a=s;o<=r;){var l=i.getTLVblen(t,a);if(o+=l,o<=r&&n.push(a),a+=l,o>=r)break}return n};M.getNthChildIdx=function(t,e,i){var n=M.getChildIdx(t,e);return n[i]};M.getIdxbyList=function(t,e,i,n){var s=M,r,o;return i.length==0?n!==void 0&&t.substr(e,2)!==n?-1:e:(r=i.shift(),o=s.getChildIdx(t,e),r>=o.length?-1:s.getIdxbyList(t,o[r],i,n))};M.getIdxbyListEx=function(t,e,i,n){var s=M,r,o;if(i.length==0)return n!==void 0&&t.substr(e,2)!==n?-1:e;r=i.shift(),o=s.getChildIdx(t,e);for(var a=0,l=0;l<o.length;l++){var d=t.substr(o[l],2);if(typeof r=="number"&&!s.isContextTag(d)&&a==r||typeof r=="string"&&s.isContextTag(d,r))return s.getIdxbyListEx(t,o[l],i,n);s.isContextTag(d)||a++}return-1};M.getTLVbyList=function(t,e,i,n){var s=M,r=s.getIdxbyList(t,e,i,n);return r==-1||r>=t.length?null:s.getTLV(t,r)};M.getTLVbyListEx=function(t,e,i,n){var s=M,r=s.getIdxbyListEx(t,e,i,n);return r==-1?null:s.getTLV(t,r)};M.getVbyList=function(t,e,i,n,s){var r=M,o,a;return o=r.getIdxbyList(t,e,i,n),o==-1||o>=t.length?null:(a=r.getV(t,o),s===!0&&(a=a.substr(2)),a)};M.getVbyListEx=function(t,e,i,n,s){var r=M,o,a,l;return o=r.getIdxbyListEx(t,e,i,n),o==-1?null:(l=r.getV(t,o),t.substr(o,2)=="03"&&s!==!1&&(l=l.substr(2)),l)};M.getInt=function(t,e,i){i==null&&(i=-1);try{var n=t.substr(e,2);if(n!="02"&&n!="03")return i;var s=M.getV(t,e);return n=="02"?parseInt(s,16):qa(s)}catch{return i}};M.getOID=function(t,e,i){i==null&&(i=null);try{if(t.substr(e,2)!="06")return i;var n=M.getV(t,e);return en(n)}catch{return i}};M.getOIDName=function(t,e,i){i==null&&(i=null);try{var n=M.getOID(t,e,i);if(n==i)return i;var s=c.asn1.x509.OID.oid2name(n);return s==""?n:s}catch{return i}};M.getString=function(t,e,i){i==null&&(i=null);try{var n=M.getV(t,e);return Ge(n)}catch{return i}};M.hextooidstr=function(t){var e=function(m,h){return m.length>=h?m:new Array(h-m.length+1).join("0")+m},i=[],n=t.substr(0,2),s=parseInt(n,16);i[0]=new String(Math.floor(s/40)),i[1]=new String(s%40);for(var r=t.substr(2),o=[],a=0;a<r.length/2;a++)o.push(parseInt(r.substr(a*2,2),16));for(var l=[],d="",a=0;a<o.length;a++)o[a]&128?d=d+e((o[a]&127).toString(2),7):(d=d+e((o[a]&127).toString(2),7),l.push(new String(parseInt(d,2))),d="");var p=i.join(".");return l.length>0&&(p=p+"."+l.join(".")),p};M.dump=function(t,e,i,n){var s=M,r=s.getV,o=s.dump,a=s.getChildIdx,l=t;t instanceof c.asn1.ASN1Object&&(l=t.tohex());var d=function(S,x){if(S.length<=x*2)return S;var E=S.substr(0,x)+"..(total "+S.length/2+"bytes).."+S.substr(S.length-x,x);return E};e===void 0&&(e={ommit_long_octet:32}),i===void 0&&(i=0),n===void 0&&(n="");var p=e.ommit_long_octet,I=l.substr(i,2);if(I=="01"){var m=r(l,i);return m=="00"?n+`BOOLEAN FALSE
`:n+`BOOLEAN TRUE
`}if(I=="02"){var m=r(l,i);return n+"INTEGER "+d(m,p)+`
`}if(I=="03"){var m=r(l,i);if(s.isASN1HEX(m.substr(2))){var h=n+`BITSTRING, encapsulates
`;return h=h+o(m.substr(2),e,0,n+"  "),h}else return n+"BITSTRING "+d(m,p)+`
`}if(I=="04"){var m=r(l,i);if(s.isASN1HEX(m)){var h=n+`OCTETSTRING, encapsulates
`;return h=h+o(m,e,0,n+"  "),h}else return n+"OCTETSTRING "+d(m,p)+`
`}if(I=="05")return n+`NULL
`;if(I=="06"){var u=r(l,i),g=c.asn1.ASN1Util.oidHexToInt(u),f=c.asn1.x509.OID.oid2name(g),w=g.replace(/\./g," ");return f!=""?n+"ObjectIdentifier "+f+" ("+w+`)
`:n+"ObjectIdentifier ("+w+`)
`}if(I=="0a")return n+"ENUMERATED "+parseInt(r(l,i))+`
`;if(I=="0c")return n+"UTF8String '"+fe(r(l,i))+`'
`;if(I=="13")return n+"PrintableString '"+fe(r(l,i))+`'
`;if(I=="14")return n+"TeletexString '"+fe(r(l,i))+`'
`;if(I=="16")return n+"IA5String '"+fe(r(l,i))+`'
`;if(I=="17")return n+"UTCTime "+fe(r(l,i))+`
`;if(I=="18")return n+"GeneralizedTime "+fe(r(l,i))+`
`;if(I=="1a")return n+"VisualString '"+fe(r(l,i))+`'
`;if(I=="1e")return n+"BMPString '"+Ds(r(l,i))+`'
`;if(I=="30"){if(l.substr(i,4)=="3000")return n+`SEQUENCE {}
`;var h=n+`SEQUENCE
`,v=a(l,i),y=e;if((v.length==2||v.length==3)&&l.substr(v[0],2)=="06"&&l.substr(v[v.length-1],2)=="04"){var f=s.oidname(r(l,v[0])),b=JSON.parse(JSON.stringify(e));b.x509ExtName=f,y=b}for(var _=0;_<v.length;_++)h=h+o(l,y,v[_],n+"  ");return h}if(I=="31"){for(var h=n+`SET
`,v=a(l,i),_=0;_<v.length;_++)h=h+o(l,e,v[_],n+"  ");return h}var I=parseInt(I,16);if(I&128){var R=I&31;if(I&32){for(var h=n+"["+R+`]
`,v=a(l,i),_=0;_<v.length;_++)h=h+o(l,e,v[_],n+"  ");return h}else{var m=r(l,i);if(M.isASN1HEX(m)){var h=n+"["+R+`]
`;return h=h+o(m,e,0,n+"  "),h}else(m.substr(0,8)=="68747470"||e.x509ExtName==="subjectAltName"&&R==2)&&(m=fe(m));var h=n+"["+R+"] "+m+`
`;return h}}return n+"UNKNOWN("+I+") "+r(l,i)+`
`};M.parse=function(t){var e=M,i=e.parse,n=e.isASN1HEX,s=e.getV,r=e.getTLV,o=e.getChildIdx,a=c.asn1,l=a.ASN1Util.oidHexToInt,d=a.x509.OID.oid2name,p=fe,m=Ds,h=Ch,u={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},g=function(E){for(var C=[],T=o(E,0),k=0;k<T.length;k++){var z=T[k],F=r(E,z),N=i(F);C.push(N)}return C},f=t.substr(0,2),w={},v=s(t,0);if(f=="01")return t=="0101ff"?{bool:!0}:{bool:!1};if(f=="02")return{int:{hex:v}};if(f=="03")try{if(v.substr(0,2)!="00")throw"not encap";var y=v.substr(2);if(!n(y))throw"not encap";return{bitstr:{obj:i(y)}}}catch{var b=null;return v.length<=10&&(b=Ua(v)),b==null?{bitstr:{hex:v}}:{bitstr:{bin:b}}}else if(f=="04")try{if(!n(v))throw"not encap";return{octstr:{obj:i(v)}}}catch{return{octstr:{hex:v}}}else{if(f=="05")return{null:""};if(f=="06"){var _=l(v),I=d(_);return I==""?{oid:_}:{oid:I}}else{if(f=="0a")return v.length>4?{enum:{hex:v}}:{enum:parseInt(v,16)};if(f=="30"||f=="31")return w[u[f]]=g(t),w;if(f=="14"){var R=h(v);return w[u[f]]={str:R},w}else if(f=="1e"){var R=m(v);return w[u[f]]={str:R},w}else if(":0c:12:13:16:17:18:1a:".indexOf(f)!=-1){var R=p(v);return w[u[f]]={str:R},w}else if(f.match(/^8[0-9]$/)){var R=p(v);return R==null|R==""?{tag:{tag:f,explicit:!1,hex:v}}:R.match(/[\x00-\x1F\x7F-\x9F]/)!=null||R.match(/[\u0000-\u001F\u0080\u009F]/)!=null?{tag:{tag:f,explicit:!1,hex:v}}:{tag:{tag:f,explicit:!1,str:R}}}else if(f.match(/^a[0-9]$/))try{if(!n(v))throw new Error("not encap");return{tag:{tag:f,explicit:!0,obj:i(v)}}}catch{return{tag:{tag:f,explicit:!0,hex:v}}}else{var S=new c.asn1.ASN1Object;S.hV=v;var x=S.getLengthHexFromValue();return{asn1:{tlv:f+x+v}}}}}};M.isContextTag=function(t,e){t=t.toLowerCase();var i,n;try{i=parseInt(t,16)}catch{return-1}if(e===void 0)return(i&192)==128;try{var s=e.match(/^\[[0-9]+\]$/);return s==null||(n=parseInt(e.substr(1,e.length-1),10),n>31)?!1:(i&192)==128&&(i&31)==n}catch{return!1}};M.isASN1HEX=function(t){var e=M;if(t.length%2==1)return!1;var i=e.getVblen(t,0),n=t.substr(0,2),s=e.getL(t,0),r=t.length-n.length-s.length;return r==i*2};M.checkStrictDER=function(t,e,i,n,s){var r=M;if(i===void 0){if(typeof t!="string")throw new Error("not hex string");if(t=t.toLowerCase(),!c.lang.String.isHex(t))throw new Error("not hex string");i=t.length,n=t.length/2,n<128?s=1:s=Math.ceil(n.toString(16))+1}var o=r.getL(t,e);if(o.length>s*2)throw new Error("L of TLV too long: idx="+e);var a=r.getVblen(t,e);if(a>n)throw new Error("value of L too long than hex: idx="+e);var l=r.getTLV(t,e),d=l.length-2-r.getL(t,e).length;if(d!==a*2)throw new Error("V string length and L's value not the same:"+d+"/"+a*2);if(e===0&&t.length!=l.length)throw new Error("total length and TLV length unmatch:"+t.length+"!="+l.length);var p=t.substr(e,2);if(p==="02"){var m=r.getVidx(t,e);if(t.substr(m,2)=="00"&&t.charCodeAt(m+2)<56)throw new Error("not least zeros for DER INTEGER")}if(parseInt(p,16)&32){for(var h=r.getVblen(t,e),u=0,g=r.getChildIdx(t,e),f=0;f<g.length;f++){var w=r.getTLV(t,g[f]);u+=w.length,r.checkStrictDER(t,g[f],i,n,s)}if(h*2!=u)throw new Error("sum of children's TLV length and L unmatch: "+h*2+"!="+u)}};M.oidname=function(t){var e=c.asn1;c.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var i=e.x509.OID.oid2name(t);return i===""&&(i=t),i};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.x509>"u"||!c.asn1.x509)&&(c.asn1.x509={});c.asn1.x509.Certificate=function(t){c.asn1.x509.Certificate.superclass.constructor.call(this);var e=c,i=e.asn1,n=i.DERBitString,s=i.DERSequence,r=i.x509,o=r.TBSCertificate,a=r.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(l){this.params=l},this.sign=function(){var l=this.params,d=l.sigalg;l.sigalg.name!=null&&(d=l.sigalg.name);var p=l.tbsobj.tohex(),m=new c.crypto.Signature({alg:d});m.init(l.cakey),m.updateHex(p),l.sighex=m.sign()},this.getPEM=function(){return Me(this.tohex(),"CERTIFICATE")},this.tohex=function(){var l=this.params;if((l.tbsobj==null||l.tbsobj==null)&&(l.tbsobj=new o(l)),l.sighex==null&&l.cakey!=null&&this.sign(),l.sighex==null)throw new Error("sighex or cakey parameter not defined");var d=[];d.push(l.tbsobj),d.push(new a({name:l.sigalg})),d.push(new n({hex:"00"+l.sighex}));var p=new s({array:d});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&(this.params=t)};B(c.asn1.x509.Certificate,c.asn1.ASN1Object);c.asn1.x509.TBSCertificate=function(t){c.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=c,i=e.asn1,n=i.x509,s=i.DERTaggedObject,r=i.DERInteger,o=i.DERSequence,a=n.AlgorithmIdentifier,l=n.Time,d=n.X500Name,p=n.Extensions,m=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(h){this.params=h},this.tohex=function(){var h=[],u=this.params;if(u.version!=null||u.version!=1){var g=2;u.version!=null&&(g=u.version-1);var f=new s({obj:new r({int:g})});h.push(f)}h.push(new r(u.serial)),h.push(new a({name:u.sigalg})),h.push(new d(u.issuer)),h.push(new o({array:[new l(u.notbefore),new l(u.notafter)]})),h.push(new d(u.subject)),h.push(new m(oe.getKey(u.sbjpubkey))),u.ext!==void 0&&u.ext.length>0&&h.push(new s({tag:"a3",obj:new p(u.ext)}));var w=new c.asn1.DERSequence({array:h});return w.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.TBSCertificate,c.asn1.ASN1Object);c.asn1.x509.Extensions=function(t){c.asn1.x509.Extensions.superclass.constructor.call(this);var e=c,i=e.asn1,n=i.DERSequence,s=i.x509;this.aParam=[],this.setByParam=function(r){this.aParam=r},this.tohex=function(){for(var r=[],o=0;o<this.aParam.length;o++){var a=this.aParam[o],l=a.extname,d=null;if(a.extn!=null)d=new s.PrivateExtension(a);else if(l=="subjectKeyIdentifier")d=new s.SubjectKeyIdentifier(a);else if(l=="keyUsage")d=new s.KeyUsage(a);else if(l=="subjectAltName")d=new s.SubjectAltName(a);else if(l=="issuerAltName")d=new s.IssuerAltName(a);else if(l=="basicConstraints")d=new s.BasicConstraints(a);else if(l=="nameConstraints")d=new s.NameConstraints(a);else if(l=="cRLDistributionPoints")d=new s.CRLDistributionPoints(a);else if(l=="certificatePolicies")d=new s.CertificatePolicies(a);else if(l=="authorityKeyIdentifier")d=new s.AuthorityKeyIdentifier(a);else if(l=="extKeyUsage")d=new s.ExtKeyUsage(a);else if(l=="authorityInfoAccess")d=new s.AuthorityInfoAccess(a);else if(l=="cRLNumber")d=new s.CRLNumber(a);else if(l=="cRLReason")d=new s.CRLReason(a);else if(l=="ocspNonce")d=new s.OCSPNonce(a);else if(l=="ocspNoCheck")d=new s.OCSPNoCheck(a);else if(l=="adobeTimeStamp")d=new s.AdobeTimeStamp(a);else if(l=="subjectDirectoryAttributes")d=new s.SubjectDirectoryAttributes(a);else throw new Error("extension not supported:"+JSON.stringify(a));d!=null&&r.push(d)}var p=new n({array:r});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.x509.Extensions,c.asn1.ASN1Object);c.asn1.x509.Extension=function(t){c.asn1.x509.Extension.superclass.constructor.call(this);var e=null,i=c,n=i.asn1,s=n.DERObjectIdentifier,r=n.DEROctetString,o=n.DERBitString,a=n.DERBoolean,l=n.DERSequence;this.tohex=function(){var d=new s({oid:this.oid}),p=new r({hex:this.getExtnValueHex()}),m=new Array;m.push(d),this.critical&&m.push(new a),m.push(p);var h=new l({array:m});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,t!==void 0&&t.critical!==void 0&&(this.critical=t.critical)};B(c.asn1.x509.Extension,c.asn1.ASN1Object);c.asn1.x509.KeyUsage=function(t){c.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var e=Error,i={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var n=this.getBinValue();return this.asn1ExtnValue=new c.asn1.DERBitString({bin:n}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var n=this.params;if(typeof n!="object"||typeof n.names!="object"&&typeof n.bin!="string")throw new e("parameter not yet set");if(n.names!=null)return Gi(n.names,i);if(n.bin!=null)return n.bin;throw new e("parameter not set properly")},this.oid="2.5.29.15",t!==void 0&&(this.params=t)};B(c.asn1.x509.KeyUsage,c.asn1.x509.Extension);c.asn1.x509.BasicConstraints=function(t){c.asn1.x509.BasicConstraints.superclass.constructor.call(this,t);var e=c.asn1,i=e.DERBoolean,n=e.DERInteger,s=e.DERSequence,r=!1,o=-1;this.getExtnValueHex=function(){var a=new Array;this.cA&&a.push(new i),this.pathLen>-1&&a.push(new n({int:this.pathLen}));var l=new s({array:a});return this.asn1ExtnValue=l,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,t!==void 0&&(t.cA!==void 0&&(this.cA=t.cA),t.pathLen!==void 0&&(this.pathLen=t.pathLen))};B(c.asn1.x509.BasicConstraints,c.asn1.x509.Extension);c.asn1.x509.CRLDistributionPoints=function(t){c.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var e=c,i=e.asn1,n=i.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(s){for(var r=[],o=0;o<s.length;o++)if(s[o]instanceof c.asn1.ASN1Object)r.push(s[o]);else{var a=new n.DistributionPoint(s[o]);r.push(a)}this.asn1ExtnValue=new i.DERSequence({array:r})},this.setByOneURI=function(s){var r=new n.DistributionPoint({fulluri:s});this.setByDPArray([r])},this.oid="2.5.29.31",t!==void 0&&(t.array!==void 0?this.setByDPArray(t.array):t.uri!==void 0&&this.setByOneURI(t.uri))};B(c.asn1.x509.CRLDistributionPoints,c.asn1.x509.Extension);c.asn1.x509.DistributionPoint=function(t){c.asn1.x509.DistributionPoint.superclass.constructor.call(this);var e=null,i=c,n=i.asn1,s=n.x509.DistributionPointName;this.tohex=function(){var r=new n.DERSequence;if(this.asn1DP!=null){var o=new n.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});r.appendASN1Object(o)}return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&(t.dpobj!==void 0?this.asn1DP=t.dpobj:t.dpname!==void 0?this.asn1DP=new s(t.dpname):t.fulluri!==void 0&&(this.asn1DP=new s({full:[{uri:t.fulluri}]})))};B(c.asn1.x509.DistributionPoint,c.asn1.ASN1Object);c.asn1.x509.DistributionPointName=function(t){c.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=null,i=null,n=null,s=null,r=c,o=r.asn1,a=o.DERTaggedObject;if(this.tohex=function(){if(this.type!="full")throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new a({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0)if(o.x509.GeneralNames.prototype.isPrototypeOf(t))this.type="full",this.tag="a0",this.asn1V=t;else if(t.full!==void 0)this.type="full",this.tag="a0",this.asn1V=new o.x509.GeneralNames(t.full);else throw new Error("This class supports GeneralNames only as argument")};B(c.asn1.x509.DistributionPointName,c.asn1.ASN1Object);c.asn1.x509.CertificatePolicies=function(t){c.asn1.x509.CertificatePolicies.superclass.constructor.call(this,t);var e=c,i=e.asn1,n=i.x509,s=i.DERSequence,r=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var o=[],a=0;a<this.params.array.length;a++)o.push(new r(this.params.array[a]));var l=new s({array:o});return this.asn1ExtnValue=l,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",t!==void 0&&(this.params=t)};B(c.asn1.x509.CertificatePolicies,c.asn1.x509.Extension);c.asn1.x509.PolicyInformation=function(t){c.asn1.x509.PolicyInformation.superclass.constructor.call(this,t);var e=c.asn1,i=e.DERSequence,n=e.DERObjectIdentifier,s=e.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(this.params.policyoid===void 0&&this.params.array===void 0)throw new Error("parameter oid and array missing");var r=[new n(this.params.policyoid)];if(this.params.array!==void 0){for(var o=[],a=0;a<this.params.array.length;a++)o.push(new s(this.params.array[a]));o.length>0&&r.push(new i({array:o}))}var l=new i({array:r});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&(this.params=t)};B(c.asn1.x509.PolicyInformation,c.asn1.ASN1Object);c.asn1.x509.PolicyQualifierInfo=function(t){c.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,t);var e=c.asn1,i=e.DERSequence,n=e.DERIA5String,s=e.DERObjectIdentifier,r=e.x509.UserNotice;this.params=null,this.tohex=function(){if(this.params.cps!==void 0){var o=new i({array:[new s({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]});return o.tohex()}if(this.params.unotice!=null){var o=new i({array:[new s({oid:"1.3.6.1.5.5.7.2.2"}),new r(this.params.unotice)]});return o.tohex()}},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&(this.params=t)};B(c.asn1.x509.PolicyQualifierInfo,c.asn1.ASN1Object);c.asn1.x509.UserNotice=function(t){c.asn1.x509.UserNotice.superclass.constructor.call(this,t);var e=c.asn1.DERSequence,i=c.asn1.DERInteger,n=c.asn1.x509.DisplayText,s=c.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var r=[];this.params.noticeref!==void 0&&r.push(new s(this.params.noticeref)),this.params.exptext!==void 0&&r.push(new n(this.params.exptext));var o=new e({array:r});return o.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&(this.params=t)};B(c.asn1.x509.UserNotice,c.asn1.ASN1Object);c.asn1.x509.NoticeReference=function(t){c.asn1.x509.NoticeReference.superclass.constructor.call(this,t);var e=c.asn1.DERSequence,i=c.asn1.DERInteger,n=c.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var s=[];if(this.params.org!==void 0&&s.push(new n(this.params.org)),this.params.noticenum!==void 0){for(var r=[],o=this.params.noticenum,a=0;a<o.length;a++)r.push(new i(o[a]));s.push(new e({array:r}))}if(s.length==0)throw new Error("parameter is empty");var l=new e({array:s});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&(this.params=t)};B(c.asn1.x509.NoticeReference,c.asn1.ASN1Object);c.asn1.x509.DisplayText=function(t){c.asn1.x509.DisplayText.superclass.constructor.call(this,t),this.hT="0c",t!==void 0&&(t.type==="ia5"?this.hT="16":t.type==="vis"?this.hT="1a":t.type==="bmp"&&(this.hT="1e"))};B(c.asn1.x509.DisplayText,c.asn1.DERAbstractString);c.asn1.x509.NameConstraints=function(t){c.asn1.x509.NameConstraints.superclass.constructor.call(this,t);var e=c,i=e.asn1,n=i.x509,s=i.ASN1Util.newObject,r=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var o=this.params,a=[];if(o.permit!=null&&o.permit.length!=null){for(var l=[],d=0;d<o.permit.length;d++)l.push(new r(o.permit[d]));a.push({tag:{tagi:"a0",obj:{seq:l}}})}if(o.exclude!=null&&o.exclude.length!=null){for(var p=[],d=0;d<o.exclude.length;d++)p.push(new r(o.exclude[d]));a.push({tag:{tagi:"a1",obj:{seq:p}}})}return this.asn1ExtnValue=s({seq:a}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",t!==void 0&&(this.params=t)};B(c.asn1.x509.NameConstraints,c.asn1.x509.Extension);c.asn1.x509.GeneralSubtree=function(t){c.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var e=c.asn1,i=e.x509,n=i.GeneralName,s=e.ASN1Util.newObject;this.params=null,this.setByParam=function(r){this.params=r},this.tohex=function(){var r=this.params,o=[new n(r)];r.min!=null&&o.push({tag:{tagi:"80",obj:{int:r.min}}}),r.max!=null&&o.push({tag:{tagi:"81",obj:{int:r.max}}});var a=s({seq:o});return a.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.GeneralSubtree,c.asn1.ASN1Object);c.asn1.x509.ExtKeyUsage=function(t){c.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var e=c,i=e.asn1;this.setPurposeArray=function(n){this.asn1ExtnValue=new i.DERSequence;for(var s=0;s<n.length;s++){var r=new i.DERObjectIdentifier(n[s]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",t!==void 0&&t.array!==void 0&&this.setPurposeArray(t.array)};B(c.asn1.x509.ExtKeyUsage,c.asn1.x509.Extension);c.asn1.x509.AuthorityKeyIdentifier=function(t){c.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var e=c,i=e.asn1,n=i.DERTaggedObject,s=i.x509.GeneralNames,r=e.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var o=new Array;this.asn1KID&&o.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&o.push(new n({explicit:!1,tag:"a1",obj:new s([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&o.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var a=new i.DERSequence({array:o});return this.asn1ExtnValue=a,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(o){if(o.str!==void 0||o.hex!==void 0)this.asn1KID=new c.asn1.DEROctetString(o);else if(typeof o=="object"&&c.crypto.Util.isKey(o)||typeof o=="string"&&o.indexOf("BEGIN ")!=-1){var a=o;typeof o=="string"&&(a=oe.getKey(o));var l=oe.getKeyID(a);this.asn1KID=new c.asn1.DEROctetString({hex:l})}},this.setCertIssuerByParam=function(o){o.str!==void 0||o.ldapstr!==void 0||o.hex!==void 0||o.certsubject!==void 0||o.certissuer!==void 0?this.asn1CertIssuer=new c.asn1.x509.X500Name(o):typeof o=="string"&&o.indexOf("BEGIN ")!=-1&&o.indexOf("CERTIFICATE")!=-1&&(this.asn1CertIssuer=new c.asn1.x509.X500Name({certissuer:o}))},this.setCertSNByParam=function(o){if(o.str!==void 0||o.bigint!==void 0||o.hex!==void 0)this.asn1CertSN=new c.asn1.DERInteger(o);else if(typeof o=="string"&&o.indexOf("BEGIN ")!=-1&&o.indexOf("CERTIFICATE")){var a=new Q;a.readCertPEM(o);var l=a.getSerialNumberHex();this.asn1CertSN=new c.asn1.DERInteger({hex:l})}},this.oid="2.5.29.35",t!==void 0&&(t.kid!==void 0&&this.setKIDByParam(t.kid),t.issuer!==void 0&&this.setCertIssuerByParam(t.issuer),t.sn!==void 0&&this.setCertSNByParam(t.sn),t.issuersn!==void 0&&typeof t.issuersn=="string"&&t.issuersn.indexOf("BEGIN ")!=-1&&t.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(t.issuersn),this.setCertIssuerByParam(t.issuersn)))};B(c.asn1.x509.AuthorityKeyIdentifier,c.asn1.x509.Extension);c.asn1.x509.SubjectKeyIdentifier=function(t){c.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,t);var e=c,i=e.asn1,n=i.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(s){if(s.str!==void 0||s.hex!==void 0)this.asn1KID=new n(s);else if(typeof s=="object"&&c.crypto.Util.isKey(s)||typeof s=="string"&&s.indexOf("BEGIN")!=-1){var r=s;typeof s=="string"&&(r=oe.getKey(s));var o=oe.getKeyID(r);this.asn1KID=new c.asn1.DEROctetString({hex:o})}},this.oid="2.5.29.14",t!==void 0&&t.kid!==void 0&&this.setKIDByParam(t.kid)};B(c.asn1.x509.SubjectKeyIdentifier,c.asn1.x509.Extension);c.asn1.x509.AuthorityInfoAccess=function(t){c.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(e){for(var i=new Array,n=c,s=n.asn1,r=s.DERSequence,o=s.DERObjectIdentifier,a=s.x509.GeneralName,l=0;l<e.length;l++){var d,p=e[l];if(p.ocsp!==void 0)d=new r({array:[new o({oid:"1.3.6.1.5.5.7.48.1"}),new a({uri:p.ocsp})]});else if(p.caissuer!==void 0)d=new r({array:[new o({oid:"1.3.6.1.5.5.7.48.2"}),new a({uri:p.caissuer})]});else throw new Error("unknown AccessMethod parameter: "+JSON.stringify(p));i.push(d)}this.asn1ExtnValue=new r({array:i})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",t!==void 0&&t.array!==void 0&&this.setAccessDescriptionArray(t.array)};B(c.asn1.x509.AuthorityInfoAccess,c.asn1.x509.Extension);c.asn1.x509.SubjectAltName=function(t){c.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(e){this.asn1ExtnValue=new c.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",t!==void 0&&t.array!==void 0&&this.setNameArray(t.array)};B(c.asn1.x509.SubjectAltName,c.asn1.x509.Extension);c.asn1.x509.IssuerAltName=function(t){c.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(e){this.asn1ExtnValue=new c.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",t!==void 0&&t.array!==void 0&&this.setNameArray(t.array)};B(c.asn1.x509.IssuerAltName,c.asn1.x509.Extension);c.asn1.x509.SubjectDirectoryAttributes=function(t){c.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,t);var e=c.asn1,i=e.DERSequence,n=e.ASN1Util.newObject,s=e.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var r=[],o=0;o<this.params.array.length;o++){var a=this.params.array[o],l={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if(a.attr=="dateOfBirth")l.seq[0].oid=s(a.attr),l.seq[1].set[0]={gentime:a.str};else if(a.attr=="placeOfBirth")l.seq[0].oid=s(a.attr),l.seq[1].set[0]={utf8str:a.str};else if(a.attr=="gender")l.seq[0].oid=s(a.attr),l.seq[1].set[0]={prnstr:a.str};else if(a.attr=="countryOfCitizenship")l.seq[0].oid=s(a.attr),l.seq[1].set[0]={prnstr:a.str};else if(a.attr=="countryOfResidence")l.seq[0].oid=s(a.attr),l.seq[1].set[0]={prnstr:a.str};else throw new Error("unsupported attribute: "+a.attr);r.push(new n(l))}var d=new i({array:r});return this.asn1ExtnValue=d,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",t!==void 0&&(this.params=t)};B(c.asn1.x509.SubjectDirectoryAttributes,c.asn1.x509.Extension);c.asn1.x509.PrivateExtension=function(t){c.asn1.x509.PrivateExtension.superclass.constructor.call(this,t);var e=c,i=e.lang.String.isHex,n=e.asn1,s=n.x509.OID.name2oid,r=n.ASN1Util.newObject;this.params=null,this.setByParam=function(o){this.oid=s(o.extname),this.params=o},this.getExtnValueHex=function(){if(this.params.extname==null||this.params.extn==null)throw new Error("extname or extnhex not specified");var o=this.params.extn;if(typeof o=="string"&&i(o))return o;if(typeof o=="object")try{return r(o).tohex()}catch{}throw new Error("unsupported extn value")},t!=null&&this.setByParam(t)};B(c.asn1.x509.PrivateExtension,c.asn1.x509.Extension);c.asn1.x509.CRL=function(t){c.asn1.x509.CRL.superclass.constructor.call(this);var e=c,i=e.asn1,n=i.DERSequence,s=i.DERBitString,r=i.x509,o=r.AlgorithmIdentifier,a=r.TBSCertList;this.params=void 0,this.setByParam=function(l){this.params=l},this.sign=function(){var l=new a(this.params).tohex(),d=new c.crypto.Signature({alg:this.params.sigalg});d.init(this.params.cakey),d.updateHex(l);var p=d.sign();this.params.sighex=p},this.getPEM=function(){return Me(this.tohex(),"X509 CRL")},this.tohex=function(){var l=this.params;if(l.tbsobj==null&&(l.tbsobj=new a(l)),l.sighex==null&&l.cakey!=null&&this.sign(),l.sighex==null)throw new Error("sighex or cakey parameter not defined");var d=[];d.push(l.tbsobj),d.push(new o({name:l.sigalg})),d.push(new s({hex:"00"+l.sighex}));var p=new n({array:d});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&(this.params=t)};B(c.asn1.x509.CRL,c.asn1.ASN1Object);c.asn1.x509.TBSCertList=function(t){c.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=c,i=e.asn1,n=i.DERInteger,s=i.DERSequence,r=i.DERTaggedObject,o=i.DERObjectIdentifier,a=i.x509,l=a.AlgorithmIdentifier,d=a.Time,p=a.Extensions,m=a.X500Name;this.params=null,this.setByParam=function(h){this.params=h},this.getRevCertSequence=function(){for(var h=[],u=this.params.revcert,g=0;g<u.length;g++){var f=[new n(u[g].sn),new d(u[g].date)];u[g].ext!=null&&f.push(new p(u[g].ext)),h.push(new s({array:f}))}return new s({array:h})},this.tohex=function(){var h=[],u=this.params;if(u.version!=null){var g=u.version-1,f=new n({int:g});h.push(f)}if(h.push(new l({name:u.sigalg})),h.push(new m(u.issuer)),h.push(new d(u.thisupdate)),u.nextupdate!=null&&h.push(new d(u.nextupdate)),u.revcert!=null&&h.push(this.getRevCertSequence()),u.ext!=null){var w=new p(u.ext);h.push(new r({tag:"a0",explicit:!0,obj:w}))}var v=new s({array:h});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.TBSCertList,c.asn1.ASN1Object);c.asn1.x509.CRLEntry=function(t){c.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=null,i=null,n=c,s=n.asn1;this.setCertSerial=function(r){this.sn=new s.DERInteger(r)},this.setRevocationDate=function(r){this.time=new s.x509.Time(r)},this.tohex=function(){var r=new s.DERSequence({array:[this.sn,this.time]});return this.TLV=r.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&(t.time!==void 0&&this.setRevocationDate(t.time),t.sn!==void 0&&this.setCertSerial(t.sn))};B(c.asn1.x509.CRLEntry,c.asn1.ASN1Object);c.asn1.x509.CRLNumber=function(t){c.asn1.x509.CRLNumber.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",t!=null&&(this.params=t)};B(c.asn1.x509.CRLNumber,c.asn1.x509.Extension);c.asn1.x509.CRLReason=function(t){c.asn1.x509.CRLReason.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",t!=null&&(this.params=t)};B(c.asn1.x509.CRLReason,c.asn1.x509.Extension);c.asn1.x509.OCSPNonce=function(t){c.asn1.x509.OCSPNonce.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",t!=null&&(this.params=t)};B(c.asn1.x509.OCSPNonce,c.asn1.x509.Extension);c.asn1.x509.OCSPNoCheck=function(t){c.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",t!=null&&(this.params=t)};B(c.asn1.x509.OCSPNoCheck,c.asn1.x509.Extension);c.asn1.x509.AdobeTimeStamp=function(t){c.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,t);var e=c,i=e.asn1,n=i.DERInteger,s=i.DERBoolean,r=i.DERSequence,o=i.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var a=this.params,l=[new n(1)];return l.push(new o({uri:a.uri})),a.reqauth!=null&&l.push(new s(a.reqauth)),this.asn1ExtnValue=new r({array:l}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",t!==void 0&&this.setByParam(t)};B(c.asn1.x509.AdobeTimeStamp,c.asn1.x509.Extension);c.asn1.x509.X500Name=function(t){c.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=c,i=e.asn1,n=i.x509,s=n.RDN,r=Pe;this.setByString=function(o,a){a!==void 0&&(this.sRule=a);var l=o.split("/");l.shift();for(var d=[],p=0;p<l.length;p++)if(l[p].match(/^[^=]+=.+$/))d.push(l[p]);else{var m=d.length-1;d[m]=d[m]+"/"+l[p]}for(var p=0;p<d.length;p++)this.asn1Array.push(new s({str:d[p],rule:this.sRule}))},this.setByLdapString=function(o,a){a!==void 0&&(this.sRule=a);var l=n.X500Name.ldapToCompat(o);this.setByString(l,a)},this.setByObject=function(o,a){a!==void 0&&(this.sRule=a);for(var l in o)if(o.hasOwnProperty(l)){var d=new s({str:l+"="+o[l],rule:this.sRule});this.asn1Array?this.asn1Array.push(d):this.asn1Array=[d]}},this.setByParam=function(o){if(o.rule!==void 0&&(this.sRule=o.rule),o.array!==void 0)this.paramArray=o.array;else if(o.str!==void 0)this.setByString(o.str);else if(o.ldapstr!==void 0)this.setByLdapString(o.ldapstr);else if(o.hex!==void 0)this.hTLV=o.hex;else if(o.certissuer!==void 0){var a=new Q;a.readCertPEM(o.certissuer),this.hTLV=a.getIssuerHex()}else if(o.certsubject!==void 0){var a=new Q;a.readCertPEM(o.certsubject),this.hTLV=a.getSubjectHex()}else typeof o=="object"&&o.certsubject===void 0&&o.certissuer===void 0&&this.setByObject(o)},this.tohex=function(){if(typeof this.hTLV=="string")return this.hTLV;if(this.asn1Array.length==0&&this.paramArray.length>0)for(var o=0;o<this.paramArray.length;o++){var a={array:this.paramArray[o]};this.sRule!="utf8"&&(a.rule=this.sRule);var l=new s(a);this.asn1Array.push(l)}var d=new i.DERSequence({array:this.asn1Array});return this.hTLV=d.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.X500Name,c.asn1.ASN1Object);c.asn1.x509.X500Name.compatToLDAP=function(t){if(t.substr(0,1)!=="/")throw"malformed input";var e="";t=t.substr(1);var i=t.split("/");return i.reverse(),i=i.map(function(n){return n.replace(/,/,"\\,")}),i.join(",")};c.asn1.x509.X500Name.onelineToLDAP=function(t){return c.asn1.x509.X500Name.compatToLDAP(t)};c.asn1.x509.X500Name.ldapToCompat=function(t){for(var e=t.split(","),i=!1,n=[],s=0;e.length>0;s++){var r=e.shift();if(i===!0){var o=n.pop(),a=(o+","+r).replace(/\\,/g,",");n.push(a),i=!1}else n.push(r);r.substr(-1,1)==="\\"&&(i=!0)}return n=n.map(function(l){return l.replace("/","\\/")}),n.reverse(),"/"+n.join("/")};c.asn1.x509.X500Name.ldapToOneline=function(t){return c.asn1.x509.X500Name.ldapToCompat(t)};c.asn1.x509.RDN=function(t){c.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=c.asn1.x509.AttributeTypeAndValue;this.setByParam=function(i){i.rule!==void 0&&(this.sRule=i.rule),i.str!==void 0&&this.addByMultiValuedString(i.str),i.array!==void 0&&(this.paramArray=i.array)},this.addByString=function(i){this.asn1Array.push(new c.asn1.x509.AttributeTypeAndValue({str:i,rule:this.sRule}))},this.addByMultiValuedString=function(i){for(var n=c.asn1.x509.RDN.parseString(i),s=0;s<n.length;s++)this.addByString(n[s])},this.tohex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0)for(var i=0;i<this.paramArray.length;i++){var n=this.paramArray[i];n.rule!==void 0&&this.sRule!="utf8"&&(n.rule=this.sRule);var s=new e(n);this.asn1Array.push(s)}var r=new c.asn1.DERSet({array:this.asn1Array});return this.TLV=r.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.RDN,c.asn1.ASN1Object);c.asn1.x509.RDN.parseString=function(t){for(var e=t.split(/\+/),i=!1,n=[],s=0;e.length>0;s++){var r=e.shift();if(i===!0){var o=n.pop(),a=(o+"+"+r).replace(/\\\+/g,"+");n.push(a),i=!1}else n.push(r);r.substr(-1,1)==="\\"&&(i=!0)}for(var l=!1,d=[],s=0;n.length>0;s++){var r=n.shift();if(l===!0){var p=d.pop();if(r.match(/"$/)){var a=(p+"+"+r).replace(/^([^=]+)="(.*)"$/,"$1=$2");d.push(a),l=!1}else d.push(p+"+"+r)}else d.push(r);r.match(/^[^=]+="/)&&(l=!0)}return d};c.asn1.x509.AttributeTypeAndValue=function(t){c.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var e=c,i=e.asn1,n=i.DERSequence,s=i.DERUTF8String,r=i.DERPrintableString,o=i.DERTeletexString,a=i.DERIA5String,l=i.DERVisibleString,d=i.DERBMPString,p=e.lang.String.isMail,m=e.lang.String.isPrintable;this.setByParam=function(h){if(h.rule!==void 0&&(this.sRule=h.rule),h.ds!==void 0&&(this.dsType=h.ds),h.value===void 0&&h.str!==void 0){var u=h.str,g=u.match(/^([^=]+)=(.+)$/);if(g)this.sType=g[1],this.sValue=g[2];else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)}else this.sType=h.type,this.sValue=h.value},this.setByString=function(h,u){u!==void 0&&(this.sRule=u);var g=h.match(/^([^=]+)=(.+)$/);if(g)this.setByAttrTypeAndValueStr(g[1],g[2]);else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)},this._getDsType=function(){var h=this.sType,u=this.sValue,g=this.sRule;return g==="prn"?h=="CN"&&p(u)?"ia5":m(u)?"prn":"utf8":g==="utf8"?h=="CN"&&p(u)?"ia5":h=="C"?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(h,u,g){g!==void 0&&(this.sRule=g),this.sType=h,this.sValue=u},this.getValueObj=function(h,u){if(h=="utf8")return new s({str:u});if(h=="prn")return new r({str:u});if(h=="tel")return new o({str:u});if(h=="ia5")return new a({str:u});if(h=="vis")return new l({str:u});if(h=="bmp")return new d({str:u});throw new Error("unsupported directory string type: type="+h+" value="+u)},this.tohex=function(){this.dsType==null&&(this.dsType=this._getDsType());var h=c.asn1.x509.OID.atype2obj(this.sType),u=this.getValueObj(this.dsType,this.sValue),g=new n({array:[h,u]});return this.TLV=g.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.AttributeTypeAndValue,c.asn1.ASN1Object);c.asn1.x509.SubjectPublicKeyInfo=function(t){c.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=null,i=null,n=c,s=n.asn1,r=s.DERInteger,o=s.DERBitString,a=s.DERObjectIdentifier,l=s.DERSequence,d=s.ASN1Util.newObject,p=s.x509,m=p.AlgorithmIdentifier,h=n.crypto,u=h.ECDSA,g=h.DSA;this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null)throw"algId and/or subjPubKey not set";var f=new l({array:[this.asn1AlgId,this.asn1SubjPKey]});return f},this.tohex=function(){var f=this.getASN1Object();return this.hTLV=f.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(f){try{if(f instanceof $){var w=d({seq:[{int:{bigint:f.n}},{int:{int:f.e}}]}),v=w.tohex();this.asn1AlgId=new m({name:"rsaEncryption"}),this.asn1SubjPKey=new o({hex:"00"+v})}}catch{}try{if(f instanceof c.crypto.ECDSA){var y=new a({name:f.curveName});this.asn1AlgId=new m({name:"ecPublicKey",asn1params:y}),this.asn1SubjPKey=new o({hex:"00"+f.pubKeyHex})}}catch{}try{if(f instanceof c.crypto.DSA){var y=new d({seq:[{int:{bigint:f.p}},{int:{bigint:f.q}},{int:{bigint:f.g}}]});this.asn1AlgId=new m({name:"dsa",asn1params:y});var b=new r({bigint:f.y});this.asn1SubjPKey=new o({hex:"00"+b.tohex()})}}catch{}},t!==void 0&&this.setPubKey(t)};B(c.asn1.x509.SubjectPublicKeyInfo,c.asn1.ASN1Object);c.asn1.x509.Time=function(t){c.asn1.x509.Time.superclass.constructor.call(this);var e=null,i=null,n=c,s=n.asn1,r=s.DERUTCTime,o=s.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(a){this.timeParams=a},this.setByParam=function(a){this.params=a},this.getType=function(a){return a.match(/^[0-9]{12}Z$/)?"utc":a.match(/^[0-9]{14}Z$/)?"gen":a.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":a.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var a=this.params,l=null;if(typeof a=="string"&&(a={str:a}),a!=null&&a.str&&(a.type==null||a.type==null)&&(a.type=this.getType(a.str)),a!=null&&a.str?(a.type=="utc"&&(l=new r(a.str)),a.type=="gen"&&(l=new o(a.str))):this.type=="gen"?l=new o:l=new r,l==null)throw new Error("wrong setting for Time");return this.TLV=l.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};c.asn1.x509.Time_bak=function(t){c.asn1.x509.Time_bak.superclass.constructor.call(this);var e=null,i=null,n=c,s=n.asn1,r=s.DERUTCTime,o=s.DERGeneralizedTime;this.setTimeParams=function(a){this.timeParams=a},this.tohex=function(){var a=null;return this.timeParams!=null?this.type=="utc"?a=new r(this.timeParams):a=new o(this.timeParams):this.type=="utc"?a=new r:a=new o,this.TLV=a.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",t!==void 0&&(t.type!==void 0?this.type=t.type:t.str!==void 0&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)};B(c.asn1.x509.Time,c.asn1.ASN1Object);c.asn1.x509.AlgorithmIdentifier=function(t){c.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var e=c,i=e.asn1,n=i.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(this.nameAlg===null&&this.asn1Alg===null)throw new Error("algorithm not specified");if(this.nameAlg!==null){var r=null;for(var o in n)o===this.nameAlg&&(r=n[o]);if(r!==null)return this.hTLV=r,this.hTLV}this.nameAlg!==null&&this.asn1Alg===null&&(this.asn1Alg=i.x509.OID.name2obj(this.nameAlg));var a=[this.asn1Alg];this.asn1Params!==null&&a.push(this.asn1Params);var l=new i.DERSequence({array:a});return this.hTLV=l.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&(t.name!==void 0&&(this.nameAlg=t.name),t.asn1params!==void 0&&(this.asn1Params=t.asn1params),t.paramempty!==void 0&&(this.paramEmpty=t.paramempty)),this.asn1Params===null&&this.paramEmpty===!1&&this.nameAlg!==null){this.nameAlg.name!==void 0&&(this.nameAlg=this.nameAlg.name);var s=this.nameAlg.toLowerCase();s.substr(-7,7)!=="withdsa"&&s.substr(-9,9)!=="withecdsa"&&(this.asn1Params=new i.DERNull)}};B(c.asn1.x509.AlgorithmIdentifier,c.asn1.ASN1Object);c.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"};c.asn1.x509.GeneralName=function(t){c.asn1.x509.GeneralName.superclass.constructor.call(this);var e={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87",otherName:"a0"},i=c,n=i.asn1,s=n.x509,r=s.X500Name,o=s.OtherName,a=n.DERIA5String,l=n.DERPrintableString,d=n.DEROctetString,p=n.DERTaggedObject,m=n.ASN1Object,h=Error;this.params=null,this.setByParam=function(u){this.params=u},this.tohex=function(){var u=this.params,g,w,f,w=!1;if(u.other!==void 0)g="a0",f=new o(u.other);else if(u.rfc822!==void 0)g="81",f=new a({str:u.rfc822});else if(u.dns!==void 0)g="82",f=new a({str:u.dns});else if(u.dn!==void 0)g="a4",w=!0,typeof u.dn=="string"?f=new r({str:u.dn}):u.dn instanceof c.asn1.x509.X500Name?f=u.dn:f=new r(u.dn);else if(u.ldapdn!==void 0)g="a4",w=!0,f=new r({ldapstr:u.ldapdn});else if(u.certissuer!==void 0||u.certsubj!==void 0){g="a4",w=!0;var v,y,b=null;if(u.certsubj!==void 0?(v=!1,y=u.certsubj):(v=!0,y=u.certissuer),y.match(/^[0-9A-Fa-f]+$/)&&b==y,y.indexOf("-----BEGIN ")!=-1&&(b=Pe(y)),b==null)throw new Error("certsubj/certissuer not cert");var _=new Q;_.hex=b;var I;v?I=_.getIssuerHex():I=_.getSubjectHex(),f=new m,f.hTLV=I}else if(u.uri!==void 0)g="86",f=new a({str:u.uri});else if(u.ip!==void 0){g="87";var R,S=u.ip;try{if(S.match(/^[0-9a-f]+$/)){var x=S.length;if(x==8||x==16||x==32||x==64)R=S;else throw"err"}else R=Rs(S)}catch(C){throw new h("malformed IP address: "+u.ip+":"+C.message)}f=new d({hex:R})}else throw new h("improper params");var E=new p({tag:g,explicit:w,obj:f});return E.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.GeneralName,c.asn1.ASN1Object);c.asn1.x509.GeneralNames=function(t){c.asn1.x509.GeneralNames.superclass.constructor.call(this);var e=null,i=c,n=i.asn1;this.setByParamArray=function(s){for(var r=0;r<s.length;r++){var o=new n.x509.GeneralName(s[r]);this.asn1Array.push(o)}},this.tohex=function(){var s=new n.DERSequence({array:this.asn1Array});return s.tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof t<"u"&&this.setByParamArray(t)};B(c.asn1.x509.GeneralNames,c.asn1.ASN1Object);c.asn1.x509.OtherName=function(t){c.asn1.x509.OtherName.superclass.constructor.call(this);var e=null,i=null,n=c,s=n.asn1,r=s.DERObjectIdentifier,o=s.DERSequence,a=s.ASN1Util.newObject;this.params=null,this.setByParam=function(l){this.params=l},this.tohex=function(){var l=this.params;if(l.oid==null||l.value==null)throw new Error("oid or value not specified");var d=new r({oid:l.oid}),p=a({tag:{tag:"a0",explicit:!0,obj:l.value}}),m=new o({array:[d,p]});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.x509.OtherName,c.asn1.ASN1Object);c.asn1.x509.OID=new function(){var t=c.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(e){if(typeof this.objCache[e]<"u")return this.objCache[e];if(typeof this.name2oidList[e]>"u")throw"Name of ObjectIdentifier not defined: "+e;var i=this.name2oidList[e],n=new t({oid:i});return this.objCache[e]=n,n},this.atype2obj=function(e){if(this.objCache[e]!==void 0)return this.objCache[e];var i;if(e.match(/^\d+\.\d+\.[0-9.]+$/))i=e;else if(this.atype2oidList[e]!==void 0)i=this.atype2oidList[e];else if(this.name2oidList[e]!==void 0)i=this.name2oidList[e];else throw new Error("AttributeType name undefined: "+e);var n=new t({oid:i});return this.objCache[e]=n,n},this.registerOIDs=function(e){if(this.checkOIDs(e))for(var i in e)this.name2oidList[i]=e[i]},this.checkOIDs=function(e){try{var i=Object.keys(e);return i.length==0?!1:(i.map(function(n,s,r){var o=this[n];if(!o.match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},e),!0)}catch{return!1}}};c.asn1.x509.OID.oid2name=function(t){var e=c.asn1.x509.OID.name2oidList;for(var i in e)if(e[i]==t)return i;return""};c.asn1.x509.OID.oid2atype=function(t){var e=c.asn1.x509.OID.atype2oidList;for(var i in e)if(e[i]==t)return i;return t};c.asn1.x509.OID.name2oid=function(t){if(t.match(/^[0-9.]+$/))return t;var e=c.asn1.x509.OID.name2oidList;return e[t]===void 0?"":e[t]};c.asn1.x509.X509Util={};c.asn1.x509.X509Util.newCertPEM=function(t){var e=c.asn1.x509,i=e.TBSCertificate,n=e.Certificate,s=new n(t);return s.getPEM()};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.cms>"u"||!c.asn1.cms)&&(c.asn1.cms={});c.asn1.cms.Attribute=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.DERSet,o=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(a){this.params=a},this.getValueArray=function(){throw new e("not yet implemented abstract")},this.tohex=function(){var a=new o({oid:this.typeOid}),l=new r({array:this.getValueArray()}),d=new s({array:[a,l]});return d.tohex()},this.getEncodedHex=function(){return this.tohex()}};B(c.asn1.cms.Attribute,c.asn1.ASN1Object);c.asn1.cms.ContentType=function(t){var e=c,i=e.asn1;i.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){var n=new i.DERObjectIdentifier(this.params.type);return[n]},t!=null&&this.setByParam(t)};B(c.asn1.cms.ContentType,c.asn1.cms.Attribute);c.asn1.cms.MessageDigest=function(t){var e=c,i=e.asn1,n=i.DEROctetString,s=i.cms;s.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){var r=new n(this.params);return[r]},t!=null&&this.setByParam(t)};B(c.asn1.cms.MessageDigest,c.asn1.cms.Attribute);c.asn1.cms.SigningTime=function(t){var e=c,i=e.asn1;i.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){var n=new i.x509.Time(this.params);return[n]},t!=null&&this.setByParam(t)};B(c.asn1.cms.SigningTime,c.asn1.cms.Attribute);c.asn1.cms.SigningCertificate=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.cms,o=r.ESSCertID,a=i.crypto;r.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new e("parameter 'array' not specified");for(var l=this.params.array,d=[],p=0;p<l.length;p++){var m=l[p];t.hasis==!1&&typeof m=="string"&&(m.indexOf("-----BEGIN")!=-1||M.isASN1HEX(m))&&(m={cert:m}),m.hasis!=!1&&t.hasis==!1&&(m.hasis=!1),d.push(new o(m))}var h=new s({array:d}),u=new s({array:[h]});return[u]},t!=null&&this.setByParam(t)};B(c.asn1.cms.SigningCertificate,c.asn1.cms.Attribute);c.asn1.cms.ESSCertID=function(t){c.asn1.cms.ESSCertID.superclass.constructor.call(this);var e=Error,i=c,n=i.asn1,s=n.DEROctetString,r=n.DERSequence,o=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(a,l){if(a.hash!=null)return a.hash;if(typeof a=="string"&&a.indexOf("-----BEGIN")==-1&&!M.isASN1HEX(a))return a;var d;if(typeof a=="string")d=a;else if(a.cert!=null)d=a.cert;else throw new e("hash nor cert unspecified");var p;d.indexOf("-----BEGIN")!=-1?p=Pe(d):p=d,typeof a=="string"&&(a.indexOf("-----BEGIN")!=-1?p=Pe(a):M.isASN1HEX(a)&&(p=a));var m;if(a.alg!=null)m=a.alg;else if(l!=null)m=l;else throw new e("hash alg unspecified");return i.crypto.Util.hashHex(p,m)},this.tohex=function(){var a=this.params,l=this.getCertHash(a,"sha1"),d=[];d.push(new s({hex:l})),(typeof a=="string"&&a.indexOf("-----BEGIN")!=-1||a.cert!=null&&a.hasis!=!1||a.issuer!=null&&a.serial!=null)&&d.push(new o(a));var p=new r({array:d});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.ESSCertID,c.asn1.ASN1Object);c.asn1.cms.SigningCertificateV2=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.x509,o=n.cms,a=o.ESSCertIDv2,l=i.crypto;o.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new e("parameter 'array' not specified");for(var d=this.params.array,p=[],m=0;m<d.length;m++){var h=d[m];(t.alg!=null||t.hasis==!1)&&typeof h=="string"&&(h.indexOf("-----BEGIN")!=-1||M.isASN1HEX(h))&&(h={cert:h}),h.alg==null&&t.alg!=null&&(h.alg=t.alg),h.hasis!=!1&&t.hasis==!1&&(h.hasis=!1),p.push(new a(h))}var u=new s({array:p}),g=new s({array:[u]});return[g]},t!=null&&this.setByParam(t)};B(c.asn1.cms.SigningCertificateV2,c.asn1.cms.Attribute);c.asn1.cms.ESSCertIDv2=function(t){c.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var e=Error,i=c,n=i.asn1,s=n.DEROctetString,r=n.DERSequence,o=n.cms.IssuerSerial,a=n.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var l=this.params,d=this.getCertHash(l,"sha256"),p=[];l.alg!=null&&l.alg!="sha256"&&p.push(new a({name:l.alg})),p.push(new s({hex:d})),(typeof l=="string"&&l.indexOf("-----BEGIN")!=-1||l.cert!=null&&l.hasis!=!1||l.issuer!=null&&l.serial!=null)&&p.push(new o(l));var m=new r({array:p});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.ESSCertIDv2,c.asn1.cms.ESSCertID);c.asn1.cms.IssuerSerial=function(t){var e=Error,i=c,n=i.asn1,s=n.DERInteger,r=n.DERSequence,o=n.cms,a=n.x509,l=a.GeneralNames,d=Q;o.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(p){this.params=p},this.tohex=function(){var p=this.params,m,h;if(typeof p=="string"&&p.indexOf("-----BEGIN")!=-1||p.cert!=null){var u;p.cert!=null?u=p.cert:u=p;var g=new d;g.readCertPEM(u),m=g.getIssuer(),h={hex:g.getSerialNumberHex()}}else if(p.issuer!=null&&p.serial)m=p.issuer,h=p.serial;else throw new e("cert or issuer and serial parameter not specified");var f=new l([{dn:m}]),w=new s(h),v=new r({array:[f,w]});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.IssuerSerial,c.asn1.ASN1Object);c.asn1.cms.SignerIdentifier=function(t){var e=c,i=e.asn1,n=i.DERInteger,s=i.DERSequence,r=i.cms,o=r.IssuerAndSerialNumber,a=r.SubjectKeyIdentifier,l=i.x509,d=l.X500Name,p=Q,m=Error;r.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params;if(h.type=="isssn"){var u=new o(h);return u.tohex()}else if(h.type=="skid"){var g=new a(h);return g.tohex()}else throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.SignerIdentifier,c.asn1.ASN1Object);c.asn1.cms.IssuerAndSerialNumber=function(t){var e=c,i=e.asn1,n=i.DERInteger,s=i.DERSequence,r=i.cms,o=i.x509,a=o.X500Name,l=Q,d=Error;r.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params,m,h;if(typeof p=="string"&&p.indexOf("-----BEGIN")!=-1||p.cert!=null){var u;p.cert!=null?u=p.cert:u=p;var g=new l;g.readCertPEM(u),m=g.getIssuer(),h={hex:g.getSerialNumberHex()}}else if(p.issuer!=null&&p.serial)m=p.issuer,h=p.serial;else throw new d("cert or issuer and serial parameter not specified");var f=new a(m),w=new n(h),v=new s({array:[f,w]});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(p){this.params=p},t!=null&&this.setByParam(t)};B(c.asn1.cms.IssuerAndSerialNumber,c.asn1.ASN1Object);c.asn1.cms.SubjectKeyIdentifier=function(t){var e=c,i=e.asn1,n=i.DERInteger,s=i.DERSequence,r=i.ASN1Util.newObject,o=i.cms,a=o.IssuerAndSerialName,l=o.SubjectKeyIdentifier,d=i.x509,p=d.X500Name,m=Q,h=Error;o.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var u=this.params;if(u.cert==null&&u.skid==null)throw new h("property cert nor skid undefined");var g;if(u.cert!=null){var f=new m(u.cert),w=f.getExtSubjectKeyIdentifier();g=w.kid.hex}else u.skid!=null&&(g=u.skid);var v=r({tag:{tage:"a0",obj:{octstr:{hex:g}}}});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.SubjectKeyIdentifier,c.asn1.ASN1Object);c.asn1.cms.AttributeList=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSet,r=n.cms;r.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(o){this.params=o},this.tohex=function(){var o=this.params;if(this.hTLV!=null)return this.hTLV;var a=!0;o.sortflag!=null&&(a=o.sortflag);for(var l=o.array,d=[],p=0;p<l.length;p++){var m=l[p],h=m.attr;if(h=="contentType")d.push(new r.ContentType(m));else if(h=="messageDigest")d.push(new r.MessageDigest(m));else if(h=="signingTime")d.push(new r.SigningTime(m));else if(h=="signingCertificate")d.push(new r.SigningCertificate(m));else if(h=="signingCertificateV2")d.push(new r.SigningCertificateV2(m));else if(h=="signaturePolicyIdentifier")d.push(new c.asn1.cades.SignaturePolicyIdentifier(m));else if(h=="signatureTimeStamp"||h=="timeStampToken")d.push(new c.asn1.cades.SignatureTimeStamp(m));else throw new e("unknown attr: "+h)}var u=new s({array:d,sortflag:a});return this.hTLV=u.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.AttributeList,c.asn1.ASN1Object);c.asn1.cms.SignerInfo=function(t){var e=Error,i=c,n=i.asn1,s=n.DERInteger,r=n.DEROctetString,o=n.DERSequence,a=n.DERTaggedObject,l=n.cms,d=l.SignerIdentifier,p=l.AttributeList,m=l.ContentType,h=l.EncapsulatedContentInfo,u=l.MessageDigest,g=l.SignedData,f=n.x509,w=f.AlgorithmIdentifier,v=i.crypto,y=oe;l.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var b=this.params,_=b.sigalg,I=new p(b.sattrs).tohex(),R=y.getKey(b.signkey),S=new v.Signature({alg:_});S.init(R),S.updateHex(I);var x=S.sign();b.sighex=x},this.tohex=function(){var b=this.params,_=[];if(_.push(new s({int:b.version})),_.push(new d(b.id)),_.push(new w({name:b.hashalg})),b.sattrs!=null){var I=new p(b.sattrs);try{_.push(new a({tag:"a0",explicit:!1,obj:I}))}catch(S){throw new e("si sattr error: "+S)}}if(b.sigalgfield!=null?_.push(new w({name:b.sigalgfield})):_.push(new w({name:b.sigalg})),b.sighex==null&&b.signkey!=null&&this.sign(),_.push(new r({hex:b.sighex})),b.uattrs!=null){var I=new p(b.uattrs);try{_.push(new a({tag:"a1",explicit:!1,obj:I}))}catch(x){throw new e("si uattr error: "+x)}}var R=new o({array:_});return R.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.SignerInfo,c.asn1.ASN1Object);c.asn1.cms.EncapsulatedContentInfo=function(t){var e=c,i=e.asn1,n=i.DERTaggedObject,s=i.DERSequence,r=i.DERObjectIdentifier,o=i.DEROctetString,a=i.cms;a.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var l=this.params,d=[];if(d.push(new r(l.type)),l.content!=null&&(l.content.hex!=null||l.content.str!=null)&&l.isDetached!=!0){var p=new o(l.content),m=new n({tag:"a0",explicit:!0,obj:p});d.push(m)}var h=new s({array:d});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(l){this.params=l},t!=null&&this.setByParam(t)};B(c.asn1.cms.EncapsulatedContentInfo,c.asn1.ASN1Object);c.asn1.cms.ContentInfo=function(t){var e=c,i=e.asn1,n=i.DERTaggedObject,s=i.DERSequence,r=i.DERObjectIdentifier,o=i.x509,a=o.OID.name2obj;c.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var l=this.params,d=[];d.push(new r(l.type));var p=new n({tag:"a0",explicit:!0,obj:l.obj});d.push(p);var m=new s({array:d});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(l){this.params=l},t!=null&&this.setByParam(t)};B(c.asn1.cms.ContentInfo,c.asn1.ASN1Object);c.asn1.cms.SignedData=function(t){var e=Error,i=c,n=i.asn1,s=n.ASN1Object,r=n.DERInteger,o=n.DERSet,a=n.DERSequence,l=n.DERTaggedObject,d=n.cms,p=d.EncapsulatedContentInfo,m=d.SignerInfo,h=d.ContentInfo,u=d.CertificateSet,g=d.RevocationInfoChoices,f=n.x509,w=f.AlgorithmIdentifier;c.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var v=this.params;this._setDigestAlgs(v),this._setContentTypeByEContent(v),this._setMessageDigestByEContent(v),this._setSignerInfoVersion(v),this._setSignedDataVersion(v)},this._setDigestAlgs=function(v){for(var y={},b=v.sinfos,_=0;_<b.length;_++){var I=b[_];y[I.hashalg]=1}v.hashalgs=Object.keys(y).sort()},this._setContentTypeByEContent=function(v){for(var y=v.econtent.type,b=v.sinfos,_=0;_<b.length;_++){var I=b[_],R=this._getAttrParamByName(I,"contentType");R.type=y}},this._setMessageDigestByEContent=function(v){var y=v.econtent,b=v.econtent.type,_=y.content.hex;_==null&&y.type=="data"&&y.content.str!=null&&(_=dt(y.content.str));for(var I=v.sinfos,R=0;R<I.length;R++){var S=I[R],x=S.hashalg,E=this._getAttrParamByName(S,"messageDigest"),C=c.crypto.Util.hashHex(_,x);E.hex=C}},this._getAttrParamByName=function(v,y){for(var b=v.sattrs.array,_=0;_<b.length;_++)if(b[_].attr==y)return b[_]},this._setSignerInfoVersion=function(v){for(var y=v.sinfos,b=0;b<y.length;b++){var _=y[b],I=1;_.id.type=="skid"&&(I=3),_.version=I}},this._setSignedDataVersion=function(v){var y=this._getSignedDataVersion(v);v.version=y},this._getSignedDataVersion=function(v){if(v.revinfos!=null)for(var y=v.revinfos,b=0;b<y.length;b++){var _=y[b];if(_.ocsp!=null)return 5}for(var I=v.sinfos,b=0;b<I.length;b++){var R=v.sinfos[b];if(R.version==3)return 3}return v.econtent.type!="data"?3:1},this.tohex=function(){var v=this.params;this.getEncodedHexPrepare!=null&&this.getEncodedHexPrepare(),v.fixed!=!0&&this.checkAndFixParam();var y=[];y.push(new r({int:v.version}));for(var b=[],_=0;_<v.hashalgs.length;_++){var I=v.hashalgs[_];b.push(new w({name:I}))}y.push(new o({array:b})),y.push(new p(v.econtent)),v.certs!=null&&y.push(new u(v.certs)),v.revinfos!=null&&y.push(new g(v.revinfos));for(var R=[],_=0;_<v.sinfos.length;_++){var S=v.sinfos[_];R.push(new m(S))}y.push(new o({array:R}));var x=new a({array:y});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){var v=new h({type:"signed-data",obj:this});return v},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.SignedData,c.asn1.ASN1Object);c.asn1.cms.CertificateSet=function(t){c.asn1.cms.CertificateSet.superclass.constructor.call(this);var e=Error,i=c.asn1,n=i.DERTaggedObject,s=i.DERSet,r=i.ASN1Object;this.params=null,this.tohex=function(){var o=this.params,a=[],l;if(o instanceof Array)l=o;else if(o.array!=null)l=o.array;else throw new e("cert array not specified");for(var d=0;d<l.length;d++){var p=l[d],m=Pe(p),h=new r;h.hTLV=m,a.push(h)}var u={array:a};o.sortflag==!1&&(u.sortflag=!1);var g=new s(u),f=new n({tag:"a0",explicit:!1,obj:g});return f.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.CertificateSet,c.asn1.ASN1Object);c.asn1.cms.RevocationInfoChoices=function(t){c.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var i=[],n=0;n<e.length;n++)i.push(new c.asn1.cms.RevocationInfoChoice(e[n]));var s=c.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:i}}});return s.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.RevocationInfoChoices,c.asn1.ASN1Object);c.asn1.cms.RevocationInfoChoice=function(t){c.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(e.crl!=null&&typeof e.crl=="string"){var i=e.crl;return e.crl.indexOf("-----BEGIN")!=-1&&(i=Pe(e.crl)),i}else if(e.ocsp!=null){var n=c.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new c.asn1.cms.OtherRevocationFormat(e)}});return n.tohex()}else throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.RevocationInfoChoice,c.asn1.ASN1Object);c.asn1.cms.OtherRevocationFormat=function(t){c.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var e=Error,i=c,n=i.asn1,s=n.ASN1Util.newObject,r=i.lang.String.isHex;this.params=null,this.tohex=function(){var o=this.params;if(o.ocsp==null)throw new e("property ocsp not specified");if(!r(o.ocsp)||!M.isASN1HEX(o.ocsp))throw new e("ocsp value not ASN.1 hex string");var a=s({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:o.ocsp}}]});return a.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cms.OtherRevocationFormat,c.asn1.ASN1Object);c.asn1.cms.CMSUtil=new function(){};c.asn1.cms.CMSUtil.newSignedData=function(t){return new c.asn1.cms.SignedData(t)};c.asn1.cms.CMSUtil.verifySignedData=function(t){var e=c,i=e.asn1,n=i.cms,s=n.SignerInfo,r=n.SignedData,o=n.SigningTime,a=n.SigningCertificate,l=n.SigningCertificateV2,d=i.cades,p=d.SignaturePolicyIdentifier,m=e.lang.String.isHex,h=M,u=h.getVbyList,g=h.getTLVbyList,f=h.getIdxbyList,w=h.getChildIdx,v=h.getTLV,y=h.oidname,b=e.crypto.Util.hashHex;t.cms===void 0&&m(t.cms);var _=t.cms,I=function(N,D){for(var O,W=3;W<6;W++)if(O=f(N,0,[1,0,W]),O!==void 0){var U=N.substr(O,2);U==="a0"&&(D.certsIdx=O),U==="a1"&&(D.revinfosIdx=O),U==="31"&&(D.signerinfosIdx=O)}},R=function(N,D){var O=D.signerinfosIdx;if(O!==void 0){var W=w(N,O);D.signerInfoIdxList=W;for(var U=0;U<W.length;U++){var X=W[U],ee={idx:X};S(N,ee),D.signerInfos.push(ee)}}},S=function(N,D){var O=D.idx;D.signerid_issuer1=g(N,O,[1,0],"30"),D.signerid_serial1=u(N,O,[1,1],"02"),D.hashalg=y(u(N,O,[2,0],"06"));var W=f(N,O,[3],"a0");D.idxSignedAttrs=W,x(N,D,W);var U=w(N,O),X=U.length;if(X<6)throw"malformed SignerInfo";D.sigalg=y(u(N,O,[X-2,0],"06")),D.sigval=u(N,O,[X-1],"04")},x=function(N,D,O){var W=w(N,O);D.signedAttrIdxList=W;for(var U=0;U<W.length;U++){var X=W[U],ee=u(N,X,[0],"06"),te;ee==="2a864886f70d010905"?(te=fe(u(N,X,[1,0])),D.saSigningTime=te):ee==="2a864886f70d010904"&&(te=u(N,X,[1,0],"04"),D.saMessageDigest=te)}},E=function(N,D){if(u(N,0,[0],"06")!=="2a864886f70d010702")return D;D.cmsType="signedData",D.econtent=u(N,0,[1,0,2,1,0]),I(N,D),D.signerInfos=[],R(N,D)},C=function(N,D){for(var O=D.parse.signerInfos,W=O.length,U=!0,X=0;X<W;X++){var ee=O[X];k(N,D,ee,X),ee.isValid||(U=!1)}D.isValid=U},T=function(N,D,O,W){var U=D.parse.certsIdx,X;if(D.certs===void 0){X=[],D.certkeys=[];for(var ee=w(N,U),te=0;te<ee.length;te++){var Ae=v(N,ee[te]),ge=new Q;ge.readCertHex(Ae),X[te]=ge,D.certkeys[te]=ge.getPublicKey()}D.certs=X}else X=D.certs;D.cccc=X.length,D.cccci=ee.length;for(var te=0;te<X.length;te++){var Te=ge.getIssuerHex(),we=ge.getSerialNumberHex();O.signerid_issuer1===Te&&O.signerid_serial1===we&&(O.certkey_idx=te)}},k=function(N,D,O,W){O.verifyDetail={};var U=O.verifyDetail,X=D.parse.econtent,ee=O.hashalg,te=O.saMessageDigest;U.validMessageDigest=!1,b(X,ee)===te&&(U.validMessageDigest=!0),T(N,D,O,W),U.validSignatureValue=!1;var Ae=O.sigalg,ge="31"+v(N,O.idxSignedAttrs).substr(2);O.signedattrshex=ge;var Te=D.certs[O.certkey_idx].getPublicKey(),we=new c.crypto.Signature({alg:Ae});we.init(Te),we.updateHex(ge);var Ie=we.verify(O.sigval);U.validSignatureValue_isValid=Ie,Ie===!0&&(U.validSignatureValue=!0),O.isValid=!1,U.validMessageDigest&&U.validSignatureValue&&(O.isValid=!0)},z=function(){},F={isValid:!1,parse:{}};return E(_,F.parse),C(_,F),F};c.asn1.cms.CMSParser=function(){var t=Error,e=Q,i=new e,n=M,s=n.getV,r=n.getTLV,o=n.getIdxbyList,a=n.getTLVbyList,l=n.getTLVbyListEx,d=n.getVbyList,p=n.getVbyListEx,m=n.getChildIdx;this.getCMSSignedData=function(h){var u=a(h,0,[1,0]),g=this.getSignedData(u);return g},this.getSignedData=function(h){var u=m(h,0),g={},f=s(h,u[0]),w=parseInt(f,16);g.version=w;var v=r(h,u[1]);g.hashalgs=this.getHashAlgArray(v);var y=r(h,u[2]);g.econtent=this.getEContent(y);var b=l(h,0,["[0]"]);b!=null&&(g.certs=this.getCertificateSet(b));var _=l(h,0,["[1]"]);_!=null;var I=l(h,0,[3]);return g.sinfos=this.getSignerInfos(I),g},this.getHashAlgArray=function(h){for(var u=m(h,0),g=new e,f=[],w=0;w<u.length;w++){var v=r(h,u[w]),y=g.getAlgorithmIdentifierName(v);f.push(y)}return f},this.getEContent=function(h){var u={},g=d(h,0,[0]),f=d(h,0,[1,0]);return u.type=c.asn1.x509.OID.oid2name(M.hextooidstr(g)),u.content={hex:f},u},this.getSignerInfos=function(h){for(var u=[],g=m(h,0),f=0;f<g.length;f++){var w=r(h,g[f]),v=this.getSignerInfo(w);u.push(v)}return u},this.getSignerInfo=function(h){var u={},g=m(h,0),f=n.getInt(h,g[0],-1);f!=-1&&(u.version=f);var w=r(h,g[1]),v=this.getIssuerAndSerialNumber(w);u.id=v;var y=r(h,g[2]),b=i.getAlgorithmIdentifierName(y);u.hashalg=b;var _=l(h,0,["[0]"]);if(_!=null){var I=this.getAttributeList(_);u.sattrs=I}var R=l(h,0,[3]),S=i.getAlgorithmIdentifierName(R);u.sigalg=S;var x=p(h,0,[4]);u.sighex=x;var E=l(h,0,["[1]"]);if(E!=null){var C=this.getAttributeList(E);u.uattrs=C}return u},this.getSignerIdentifier=function(h){if(h.substr(0,2)=="30")return this.getIssuerAndSerialNumber(h);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(h){var u={type:"isssn"},g=m(h,0),f=r(h,g[0]);u.issuer=i.getX500Name(f);var w=s(h,g[1]);return u.serial={hex:w},u},this.getAttributeList=function(h){for(var u=[],g=m(h,0),f=0;f<g.length;f++){var w=r(h,g[f]),v=this.getAttribute(w);u.push(v)}return{array:u}},this.getAttribute=function(h){var u={},g=m(h,0),f=n.getOID(h,g[0]),w=c.asn1.x509.OID.oid2name(f);u.attr=w;var v=r(h,g[1]),y=m(v,0);if(y.length==1)u.valhex=r(v,y[0]);else{for(var b=[],_=0;_<y.length;_++)b.push(r(v,y[_]));u.valhex=b}return w=="contentType"?this.setContentType(u):w=="messageDigest"?this.setMessageDigest(u):w=="signingTime"?this.setSigningTime(u):w=="signingCertificate"?this.setSigningCertificate(u):w=="signingCertificateV2"?this.setSigningCertificateV2(u):w=="signaturePolicyIdentifier"&&this.setSignaturePolicyIdentifier(u),u},this.setContentType=function(h){var u=n.getOIDName(h.valhex,0,null);u!=null&&(h.type=u,delete h.valhex)},this.setSigningTime=function(h){var u=s(h.valhex,0),g=fe(u);h.str=g,delete h.valhex},this.setMessageDigest=function(h){var u=s(h.valhex,0);h.hex=u,delete h.valhex},this.setSigningCertificate=function(h){var u=m(h.valhex,0);if(u.length>0){for(var g=r(h.valhex,u[0]),f=m(g,0),w=[],v=0;v<f.length;v++){var y=r(g,f[v]),b=this.getESSCertID(y);w.push(b)}h.array=w}if(u.length>1){var _=r(h.valhex,u[1]);h.polhex=_}delete h.valhex},this.setSignaturePolicyIdentifier=function(h){var u=m(h.valhex,0);if(u.length>0){var g=n.getOID(h.valhex,u[0]);h.oid=g}if(u.length>1){var f=new e,w=m(h.valhex,u[1]),v=r(h.valhex,w[0]),y=f.getAlgorithmIdentifierName(v);h.alg=y;var b=s(h.valhex,w[1]);h.hash=b}delete h.valhex},this.setSigningCertificateV2=function(h){var u=m(h.valhex,0);if(u.length>0){for(var g=r(h.valhex,u[0]),f=m(g,0),w=[],v=0;v<f.length;v++){var y=r(g,f[v]),b=this.getESSCertIDv2(y);w.push(b)}h.array=w}if(u.length>1){var _=r(h.valhex,u[1]);h.polhex=_}delete h.valhex},this.getESSCertID=function(h){var u={},g=m(h,0);if(g.length>0){var f=s(h,g[0]);u.hash=f}if(g.length>1){var w=r(h,g[1]),v=this.getIssuerSerial(w);v.serial!=null&&(u.serial=v.serial),v.issuer!=null&&(u.issuer=v.issuer)}return u},this.getESSCertIDv2=function(h){var u={},g=m(h,0);if(g.length<1||3<g.length)throw new t("wrong number of elements");var f=0;if(h.substr(g[0],2)=="30"){var w=r(h,g[0]);u.alg=i.getAlgorithmIdentifierName(w),f++}else u.alg="sha256";var v=s(h,g[f]);if(u.hash=v,g.length>f+1){var y=r(h,g[f+1]),b=this.getIssuerSerial(y);u.issuer=b.issuer,u.serial=b.serial}return u},this.getIssuerSerial=function(h){var u={},g=m(h,0),f=r(h,g[0]),w=i.getGeneralNames(f),v=w[0].dn;u.issuer=v;var y=s(h,g[1]);return u.serial={hex:y},u},this.getCertificateSet=function(h){for(var u=m(h,0),g=[],f=0;f<u.length;f++){var w=r(h,u[f]);if(w.substr(0,2)=="30"){var v=Me(w,"CERTIFICATE");g.push(v)}}return{array:g,sortflag:!1}}};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.tsp>"u"||!c.asn1.tsp)&&(c.asn1.tsp={});c.asn1.tsp.TimeStampToken=function(t){var e=c,i=e.asn1,n=i.tsp;n.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var s=new n.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=s.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.TimeStampToken,c.asn1.cms.SignedData);c.asn1.tsp.TSTInfo=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.DERInteger,o=n.DERBoolean,a=n.DERGeneralizedTime,l=n.DERObjectIdentifier,d=n.DERTaggedObject,p=n.tsp,m=p.MessageImprint,h=p.Accuracy,u=n.x509.X500Name,g=n.x509.GeneralName;if(p.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var f=[this.dVersion];if(this.dPolicy==null)throw new Error("policy shall be specified.");if(f.push(this.dPolicy),this.dMessageImprint==null)throw new Error("messageImprint shall be specified.");if(f.push(this.dMessageImprint),this.dSerial==null)throw new Error("serialNumber shall be specified.");if(f.push(this.dSerial),this.dGenTime==null)throw new Error("genTime shall be specified.");f.push(this.dGenTime),this.dAccuracy!=null&&f.push(this.dAccuracy),this.dOrdering!=null&&f.push(this.dOrdering),this.dNonce!=null&&f.push(this.dNonce),this.dTsa!=null&&f.push(this.dTsa);var w=new s({array:f});return this.hTLV=w.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0){if(typeof t.policy=="string"){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new l({oid:t.policy})}t.messageImprint!==void 0&&(this.dMessageImprint=new m(t.messageImprint)),t.serial!==void 0&&(this.dSerial=new r(t.serial)),t.genTime!==void 0&&(this.dGenTime=new a(t.genTime)),t.accuracy!==void 0&&(this.dAccuracy=new h(t.accuracy)),t.ordering!==void 0&&t.ordering==!0&&(this.dOrdering=new o),t.nonce!==void 0&&(this.dNonce=new r(t.nonce)),t.tsa!==void 0&&(this.dTsa=new d({tag:"a0",explicit:!0,obj:new g({dn:t.tsa})}))}};B(c.asn1.tsp.TSTInfo,c.asn1.ASN1Object);c.asn1.tsp.Accuracy=function(t){var e=c,i=e.asn1,n=i.ASN1Util.newObject;i.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var s=this.params,r=[];return s.seconds!=null&&typeof s.seconds=="number"&&r.push({int:s.seconds}),s.millis!=null&&typeof s.millis=="number"&&r.push({tag:{tagi:"80",obj:{int:s.millis}}}),s.micros!=null&&typeof s.micros=="number"&&r.push({tag:{tagi:"81",obj:{int:s.micros}}}),n({seq:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.Accuracy,c.asn1.ASN1Object);c.asn1.tsp.MessageImprint=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.DEROctetString,r=i.x509,o=r.AlgorithmIdentifier;i.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params,l=new o({name:a.alg}),d=new s({hex:a.hash}),p=new n({array:[l,d]});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.tsp.MessageImprint,c.asn1.ASN1Object);c.asn1.tsp.TimeStampReq=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.DERInteger,r=i.DERBoolean,o=i.ASN1Object,a=i.DERObjectIdentifier,l=i.tsp,d=l.MessageImprint;l.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params,m=[];m.push(new s({int:1})),p.messageImprint instanceof c.asn1.ASN1Object?m.push(p.messageImprint):m.push(new d(p.messageImprint)),p.policy!=null&&m.push(new a(p.policy)),p.nonce!=null&&m.push(new s(p.nonce)),p.certreq==!0&&m.push(new r);var h=new n({array:m});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.TimeStampReq,c.asn1.ASN1Object);c.asn1.tsp.TimeStampResp=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.ASN1Object,r=i.tsp,o=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params,l=[];if(a.econtent!=null||a.tst!=null)if(a.statusinfo!=null?l.push(new o(a.statusinfo)):l.push(new o("granted")),a.econtent!=null)l.push(new r.TimeStampToken(a).getContentInfo());else if(a.tst instanceof i.ASN1Object)l.push(a.tst);else throw new Error("improper member tst value");else if(a.statusinfo!=null)l.push(new o(a.statusinfo));else throw new Error("parameter for token nor statusinfo not specified");var d=new n({array:l});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.TimeStampResp,c.asn1.ASN1Object);c.asn1.tsp.PKIStatusInfo=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.tsp,o=r.PKIStatus,a=r.PKIFreeText,l=r.PKIFailureInfo;r.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var d=this.params,p=[];if(typeof d=="string")p.push(new o(d));else{if(d.status==null)throw new e("property 'status' unspecified");p.push(new o(d.status)),d.statusstr!=null&&p.push(new a(d.statusstr)),d.failinfo!=null&&p.push(new l(d.failinfo))}var m=new s({array:p});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.PKIStatusInfo,c.asn1.ASN1Object);c.asn1.tsp.PKIStatus=function(t){var e=Error,i=c,n=i.asn1,s=n.DERInteger,r=n.tsp;r.PKIStatus.superclass.constructor.call(this);var o={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var a=this.params,l,d;if(typeof a=="string")try{d=o[a]}catch{throw new e("undefined name: "+a)}else if(typeof a=="number")d=a;else throw new e("unsupported params");return new s({int:d}).tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.PKIStatus,c.asn1.ASN1Object);c.asn1.tsp.PKIFreeText=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.DERUTF8String,o=n.tsp;o.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if(!a instanceof Array)throw new e("wrong params: not array");for(var l=[],d=0;d<a.length;d++)l.push(new r({str:a[d]}));var p=new s({array:l});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.PKIFreeText,c.asn1.ASN1Object);c.asn1.tsp.PKIFailureInfo=function(t){var e=Error,i=c,n=i.asn1,s=n.DERBitString,r=n.tsp,o=r.PKIFailureInfo,a={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};o.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var l=this.params,d=0;if(typeof l=="number"&&0<=l&&l<=25){d|=1<<l;for(var p=d.toString(2),m="",h=p.length-1;h>=0;h--)m+=p[h];return m}else{if(typeof l=="string"&&a[l]!=null)return Gi([l],a);if(typeof l=="object"&&l.length!=null)return Gi(l,a);throw new e("wrong params")}},this.tohex=function(){var l=this.params,d=this.getBinValue();return new s({bin:d}).tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.tsp.PKIFailureInfo,c.asn1.ASN1Object);c.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(e,i){throw"not implemented yet"}};c.asn1.tsp.SimpleTSAAdapter=function(t){var e=c,i=e.asn1,n=i.tsp,s=e.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(r,o){var a=s(r,o);this.params.econtent.content.messageImprint={alg:o,hash:a},this.params.econtent.content.serial={int:this.serial++};var l=Math.floor(Math.random()*1e9);this.params.econtent.content.nonce={int:l};var d=new n.TimeStampToken(this.params);return d.getContentInfoEncodedHex()},t!==void 0&&(this.params=t)};B(c.asn1.tsp.SimpleTSAAdapter,c.asn1.tsp.AbstractTSAAdapter);c.asn1.tsp.FixedTSAAdapter=function(t){var e=c,i=e.asn1,n=i.tsp,s=e.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(r,o){var a=s(r,o);this.params.econtent.content.messageImprint={alg:o,hash:a};var l=new n.TimeStampToken(this.params);return l.getContentInfoEncodedHex()},t!==void 0&&(this.params=t)};B(c.asn1.tsp.FixedTSAAdapter,c.asn1.tsp.AbstractTSAAdapter);c.asn1.tsp.TSPUtil=new function(){};c.asn1.tsp.TSPUtil.newTimeStampToken=function(t){return new c.asn1.tsp.TimeStampToken(t)};c.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){var e=new c.asn1.tsp.TSPParser;return e.getTimeStampReq(t)};c.asn1.tsp.TSPUtil.parseMessageImprint=function(t){var e=new c.asn1.tsp.TSPParser;return e.getMessageImprint(t)};c.asn1.tsp.TSPParser=function(){var t=Error,e=Q,i=new e,n=M,s=n.getV,r=n.getTLV,o=n.getIdxbyList,a=n.getTLVbyListEx,l=n.getChildIdx,d=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],p={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(m){var h=l(m,0);if(h.length==1)return this.getPKIStatusInfo(r(m,h[0]));if(h.length>1){var u=this.getPKIStatusInfo(r(m,h[0])),g=r(m,h[1]),f=this.getToken(g);return f.statusinfo=u,f}},this.getToken=function(m){var h=new c.asn1.cms.CMSParser,u=h.getCMSSignedData(m);return this.setTSTInfo(u),u},this.setTSTInfo=function(m){var h=m.econtent;if(h.type=="tstinfo"){var u=h.content.hex,g=this.getTSTInfo(u);h.content=g}},this.getTSTInfo=function(m){var h={},u=l(m,0),g=s(m,u[1]);h.policy=en(g);var f=r(m,u[2]);h.messageImprint=this.getMessageImprint(f);var w=s(m,u[3]);h.serial={hex:w};var v=s(m,u[4]);h.genTime={str:fe(v)};var y=0;if(u.length>5&&m.substr(u[5],2)=="30"){var b=r(m,u[5]);h.accuracy=this.getAccuracy(b),y++}if(u.length>5+y&&m.substr(u[5+y],2)=="01"){var _=s(m,u[5+y]);_=="ff"&&(h.ordering=!0),y++}if(u.length>5+y&&m.substr(u[5+y],2)=="02"){var I=s(m,u[5+y]);h.nonce={hex:I},y++}if(u.length>5+y&&m.substr(u[5+y],2)=="a0"){var R=r(m,u[5+y]);R="30"+R.substr(2),pGeneralNames=i.getGeneralNames(R);var S=pGeneralNames[0].dn;h.tsa=S,y++}if(u.length>5+y&&m.substr(u[5+y],2)=="a1"){var x=r(m,u[5+y]);x="30"+x.substr(2);var E=i.getExtParamArray(x);h.ext=E,y++}return h},this.getAccuracy=function(m){for(var h={},u=l(m,0),g=0;g<u.length;g++){var f=m.substr(u[g],2),w=s(m,u[g]),v=parseInt(w,16);f=="02"?h.seconds=v:f=="80"?h.millis=v:f=="81"&&(h.micros=v)}return h},this.getMessageImprint=function(m){if(m.substr(0,2)!="30")throw new Error("head of messageImprint hex shall be x30");var h={},u=l(m,0),g=o(m,0,[0,0]),f=s(m,g),w=n.hextooidstr(f),v=c.asn1.x509.OID.oid2name(w);if(v=="")throw new Error("hashAlg name undefined: "+w);var y=v,b=o(m,0,[1]);return h.alg=y,h.hash=s(m,b),h},this.getPKIStatusInfo=function(m){var h={},u=l(m,0),g=0;try{var f=s(m,u[0]),w=parseInt(f,16);h.status=d[w]}catch{}if(u.length>1&&m.substr(u[1],2)=="30"){var v=r(m,u[1]);h.statusstr=this.getPKIFreeText(v),g++}if(u.length>g&&m.substr(u[1+g],2)=="03"){var y=r(m,u[1+g]);h.failinfo=this.getPKIFailureInfo(y)}return h},this.getPKIFreeText=function(m){for(var h=[],u=l(m,0),g=0;g<u.length;g++)h.push(n.getString(m,u[g]));return h},this.getPKIFailureInfo=function(m){var h=n.getInt(m,0);return p[h]!=null?p[h]:h},this.getTimeStampReq=function(m){var h={};h.certreq=!1;var u=l(m,0);if(u.length<2)throw new Error("TimeStampReq must have at least 2 items");var g=r(m,u[1]);h.messageImprint=c.asn1.tsp.TSPUtil.parseMessageImprint(g);for(var f=2;f<u.length;f++){var w=u[f],v=m.substr(w,2);if(v=="06"){var y=s(m,w);h.policy=n.hextooidstr(y)}v=="02"&&(h.nonce=s(m,w)),v=="01"&&(h.certreq=!0)}return h}};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.cades>"u"||!c.asn1.cades)&&(c.asn1.cades={});c.asn1.cades.SignaturePolicyIdentifier=function(t){var e=c,i=e.asn1,n=i.cades,s=n.SignaturePolicyId;n.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new s(this.params)]},this.setByParam=function(r){this.params=r},t!=null&&this.setByParam(t)};B(c.asn1.cades.SignaturePolicyIdentifier,c.asn1.cms.Attribute);c.asn1.cades.SignaturePolicyId=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.DERObjectIdentifier,r=i.x509,o=r.AlgorithmIdentifier,a=i.cades,l=a.SignaturePolicyId,d=a.OtherHashAlgAndValue;l.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params,m=[];m.push(new s(p.oid)),m.push(new d(p));var h=new n({array:m});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(p){this.params=p},t!=null&&this.setByParam(t)};B(c.asn1.cades.SignaturePolicyId,c.asn1.ASN1Object);c.asn1.cades.OtherHashAlgAndValue=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.DEROctetString,o=n.x509,a=o.AlgorithmIdentifier,l=n.cades,d=l.OtherHashAlgAndValue;d.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params;if(p.alg==null)throw new e("property 'alg' not specified");if(p.hash==null&&p.cert==null)throw new e("property 'hash' nor 'cert' not specified");var m=null;if(p.hash!=null)m=p.hash;else if(p.cert!=null){if(typeof p.cert!="string")throw new e("cert not string");var h=p.cert;p.cert.indexOf("-----BEGIN")!=-1&&(h=Pe(p.cert)),m=c.crypto.Util.hashHex(h,p.alg)}var u=[];u.push(new a({name:p.alg})),u.push(new r({hex:m}));var g=new s({array:u});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cades.OtherHashAlgAndValue,c.asn1.ASN1Object);c.asn1.cades.OtherHashValue=function(t){c.asn1.cades.OtherHashValue.superclass.constructor.call(this);var e=Error,i=c,n=i.lang.String.isHex,s=i.asn1,r=s.DEROctetString,o=i.crypto.Util.hashHex;this.params=null,this.tohex=function(){var a=this.params;if(a.hash==null&&a.cert==null)throw new e("hash or cert not specified");var l=null;if(a.hash!=null)l=a.hash;else if(a.cert!=null){if(typeof a.cert!="string")throw new e("cert not string");var d=a.cert;a.cert.indexOf("-----BEGIN")!=-1&&(d=Pe(a.cert)),l=c.crypto.Util.hashHex(d,"sha1")}return new r({hex:l}).tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cades.OtherHashValue,c.asn1.ASN1Object);c.asn1.cades.SignatureTimeStamp=function(t){var e=Error,i=c,n=i.lang.String.isHex,s=i.asn1,r=s.ASN1Object,o=s.x509,a=s.cades;a.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var l=this.params;if(l.tst!=null)if(n(l.tst)){var d=new r;return d.hTLV=l.tst,[d]}else{if(l.tst instanceof r)return[l.tst];throw new e("params.tst has wrong value")}else if(l.res!=null){var p=l.res;if(p instanceof r&&(p=p.tohex()),typeof p!="string"||!n(p))throw new e("params.res has wrong value");var m=M.getTLVbyList(p,0,[1]),d=new r;return d.hTLV=l.tst,[d]}},t!=null&&this.setByParam(t)};B(c.asn1.cades.SignatureTimeStamp,c.asn1.cms.Attribute);c.asn1.cades.CompleteCertificateRefs=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.cades,o=r.OtherCertID,a=i.lang.String.isHex;r.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var l=this.params,d=[],p=0;p<l.array.length;p++){var m=l.array[p];if(typeof m=="string")if(m.indexOf("-----BEGIN")!=-1)m={cert:m};else if(a(m))m={hash:m};else throw new e("unsupported value: "+m);l.alg!=null&&m.alg==null&&(m.alg=l.alg),l.hasis!=null&&m.hasis==null&&(m.hasis=l.hasis);var h=new o(m);d.push(h)}var u=new s({array:d});return[u]},t!=null&&this.setByParam(t)};B(c.asn1.cades.CompleteCertificateRefs,c.asn1.cms.Attribute);c.asn1.cades.OtherCertID=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.cms,r=s.IssuerSerial,o=i.cades,a=o.OtherHashValue,l=o.OtherHashAlgAndValue;o.OtherCertID.superclass.constructor.call(this),this.params=t,this.tohex=function(){var d=this.params;typeof d=="string"&&(d.indexOf("-----BEGIN")!=-1?d={cert:d}:_isHex(d)&&(d={hash:d}));var p=[],m=null;if(d.alg!=null?m=new l(d):m=new a(d),p.push(m),d.cert!=null&&d.hasis==!0||d.issuer!=null&&d.serial!=null){var h=new r(d);p.push(h)}var u=new n({array:p});return u.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cades.OtherCertID,c.asn1.ASN1Object);c.asn1.cades.OtherHash=function(t){var e=Error,i=c,n=i.asn1,s=n.cms,r=n.cades,o=r.OtherHashAlgAndValue,a=r.OtherHashValue,l=i.crypto.Util.hashHex,d=i.lang.String.isHex;r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params;typeof p=="string"&&(p.indexOf("-----BEGIN")!=-1?p={cert:p}:d(p)&&(p={hash:p}));var m=null;return p.alg!=null?m=new o(p):m=new a(p),m.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.cades.OtherHash,c.asn1.ASN1Object);c.asn1.cades.CAdESUtil=new function(){};c.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){var e=new c.asn1.cms.CMSParser,i=e.getCMSSignedData(t);return i};c.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,i){var n=M,s=n.getChildIdx,r=n.getTLV,o=n.getV,a=c,l=a.asn1,d=l.ASN1Object,p=l.cms,m=p.AttributeList,h=p.SignerInfo,u={},g=s(t,e);if(g.length!=6)throw"not supported items for SignerInfo (!=6)";var f=g.shift();u.version=r(t,f);var w=g.shift();u.si=r(t,w);var v=g.shift();u.digalg=r(t,v);var y=g.shift();u.sattrs=r(t,y);var b=g.shift();u.sigalg=r(t,b);var _=g.shift();u.sig=r(t,_),u.sigval=o(t,_);var I=null;return u.obj=new h,I=new d,I.hTLV=u.version,u.obj.dCMSVersion=I,I=new d,I.hTLV=u.si,u.obj.dSignerIdentifier=I,I=new d,I.hTLV=u.digalg,u.obj.dDigestAlgorithm=I,I=new d,I.hTLV=u.sattrs,u.obj.dSignedAttrs=I,I=new d,I.hTLV=u.sigalg,u.obj.dSigAlg=I,I=new d,I.hTLV=u.sig,u.obj.dSig=I,u.obj.dUnsignedAttrs=new m,u};(typeof c.asn1.csr>"u"||!c.asn1.csr)&&(c.asn1.csr={});c.asn1.csr.CertificationRequest=function(t){var e=c,i=e.asn1,n=i.DERBitString,s=i.DERSequence,r=i.csr,o=i.x509,a=r.CertificationRequestInfo;r.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(l){this.params=l},this.sign=function(){var l=new a(this.params).tohex(),d=new c.crypto.Signature({alg:this.params.sigalg});d.init(this.params.sbjprvkey),d.updateHex(l);var p=d.sign();this.params.sighex=p},this.getPEM=function(){return Me(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var l=this.params,d=new c.asn1.csr.CertificationRequestInfo(this.params),p=new c.asn1.x509.AlgorithmIdentifier({name:l.sigalg});if(l.sighex==null&&l.sbjprvkey!=null&&this.sign(),l.sighex==null)throw new Error("sighex or sbjprvkey parameter not defined");var m=new n({hex:"00"+l.sighex}),h=new s({array:[d,p,m]});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.csr.CertificationRequest,c.asn1.ASN1Object);c.asn1.csr.CertificationRequestInfo=function(t){var e=c,i=e.asn1,n=i.DERBitString,s=i.DERSequence,r=i.DERInteger,o=i.DERUTF8String,a=i.DERTaggedObject,l=i.ASN1Util.newObject,d=i.csr,p=i.x509,m=p.X500Name,h=p.Extensions,u=p.SubjectPublicKeyInfo;d.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(g){g!=null&&(this.params=g)},this.tohex=function(){var g=this.params,f=[];if(f.push(new r({int:0})),f.push(new m(g.subject)),f.push(new u(oe.getKey(g.sbjpubkey))),g.extreq!=null){var w=new h(g.extreq),v=l({tag:{tag:"a0",explict:!0,obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[w]}]}}});f.push(v)}else f.push(new a({tag:"a0",explicit:!1,obj:new o({str:""})}));var y=new s({array:f});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},t!=null&&this.setByParam(t)};B(c.asn1.csr.CertificationRequestInfo,c.asn1.ASN1Object);c.asn1.csr.CSRUtil=new function(){};c.asn1.csr.CSRUtil.newCSRPEM=function(t){var e=oe,i=c.asn1.csr,n=new i.CertificationRequest(t),s=n.getPEM();return s};c.asn1.csr.CSRUtil.getParam=function(t){var e=M,i=e.getV,n=e.getIdxbyList,s=e.getTLVbyList,r=e.getTLVbyListEx,o=e.getVbyListEx,a=function(v){var y=n(v,0,[0,3,0,0],"06");return i(v,y)!="2a864886f70d01090e"?null:s(v,0,[0,3,0,1,0],"30")},l={};if(t.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1)throw new Error("argument is not PEM file");var d=Pe(t,"CERTIFICATE REQUEST");try{var p=r(d,0,[0,1]);if(p=="3000")l.subject={};else{var g=new Q;l.subject=g.getX500Name(p)}}catch{}var m=r(d,0,[0,2]),h=oe.getKey(m,null,"pkcs8pub");l.sbjpubkey=oe.getPEM(h,"PKCS8PUB");var u=a(d),g=new Q;u!=null&&(l.extreq=g.getExtParamArray(u));try{var f=r(d,0,[1],"30"),g=new Q;l.sigalg=g.getAlgorithmIdentifierName(f)}catch{}try{var w=o(d,0,[2]);l.sighex=w}catch{}return l};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.ocsp>"u"||!c.asn1.ocsp)&&(c.asn1.ocsp={});c.asn1.ocsp.DEFAULT_HASH="sha1";c.asn1.ocsp.OCSPResponse=function(t){c.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var e=c.asn1.DEREnumerated,i=c.asn1.ASN1Util.newObject,n=c.asn1.ocsp.ResponseBytes,s=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var r=this.params.resstatus;return typeof r=="number"?r:typeof r!="string"?-1:s.indexOf(r)},this.setByParam=function(r){this.params=r},this.tohex=function(){var r=this.params,o=this._getStatusCode();if(o==-1)throw new Error("responseStatus not supported: "+r.resstatus);if(o!=0)return i({seq:[{enum:{int:o}}]}).tohex();var a=new n(r);return i({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:a}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.OCSPResponse,c.asn1.ASN1Object);c.asn1.ocsp.ResponseBytes=function(t){c.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var e=c.asn1,i=e.DERSequence,n=e.DERObjectIdentifier,s=e.DEROctetString,r=e.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(o){this.params=o},this.tohex=function(){var o=this.params;if(o.restype!="ocspBasic")throw new Error("not supported responseType: "+o.restype);var a=new r(o),l=[];l.push(new n({name:"ocspBasic"})),l.push(new s({hex:a.tohex()}));var d=new i({array:l});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.ResponseBytes,c.asn1.ASN1Object);c.asn1.ocsp.BasicOCSPResponse=function(t){c.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var e=Error,i=c.asn1,n=i.ASN1Object,s=i.DERSequence,r=i.DERGeneralizedTime,o=i.DERTaggedObject,a=i.DERBitString,l=i.x509.Extensions,d=i.x509.AlgorithmIdentifier,p=i.ocsp,m=p.ResponderID;_SingleResponseList=p.SingleResponseList,_ResponseData=p.ResponseData,this.params=null,this.setByParam=function(h){this.params=h},this.sign=function(){var h=this.params,u=h.tbsresp.tohex(),g=new c.crypto.Signature({alg:h.sigalg});g.init(h.reskey),g.updateHex(u),h.sighex=g.sign()},this.tohex=function(){var h=this.params;h.tbsresp==null&&(h.tbsresp=new _ResponseData(h)),h.sighex==null&&h.reskey!=null&&this.sign();var u=[];if(u.push(h.tbsresp),u.push(new d({name:h.sigalg})),u.push(new a({hex:"00"+h.sighex})),h.certs!=null&&h.certs.length!=null){for(var g=[],f=0;f<h.certs.length;f++){var w=h.certs[f],v=null;if(M.isASN1HEX(w))v=w;else if(w.match(/-----BEGIN/))v=Pe(w);else throw new e("certs["+f+"] not hex or PEM");g.push(new n({tlv:v}))}var y=new s({array:g});u.push(new o({tag:"a0",explicit:!0,obj:y}))}var b=new s({array:u});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.BasicOCSPResponse,c.asn1.ASN1Object);c.asn1.ocsp.ResponseData=function(t){c.asn1.ocsp.ResponseData.superclass.constructor.call(this);var e=Error,i=c.asn1,n=i.DERSequence,s=i.DERGeneralizedTime,r=i.DERTaggedObject,o=i.x509.Extensions,a=i.ocsp,l=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.tohex=function(){var d=this.params;d.respid!=null&&new e("respid not specified"),d.prodat!=null&&new e("prodat not specified"),d.array!=null&&new e("array not specified");var p=[];if(p.push(new l(d.respid)),p.push(new s(d.prodat)),p.push(new _SingleResponseList(d.array)),d.ext!=null){var m=new o(d.ext);p.push(new r({tag:"a1",explicit:!0,obj:m}))}var h=new n({array:p});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(d){this.params=d},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.ResponseData,c.asn1.ASN1Object);c.asn1.ocsp.ResponderID=function(t){c.asn1.ocsp.ResponderID.superclass.constructor.call(this);var e=c,i=e.asn1,n=i.ASN1Util.newObject,s=i.x509.X500Name,r=e.lang.String.isHex,o=Error;this.params=null,this.tohex=function(){var a=this.params;if(a.key!=null){var l=null;if(typeof a.key=="string"){if(r(a.key)&&(l=a.key),a.key.match(/-----BEGIN CERTIFICATE/)){var d=new Q(a.key),p=d.getExtSubjectKeyIdentifier();p!=null&&(l=p.kid.hex)}}else if(a.key instanceof Q){var p=a.key.getExtSubjectKeyIdentifier();p!=null&&(l=p.kid.hex)}if(l==null)throw new o("wrong key member value");var m=n({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:l}}}});return m.tohex()}else if(a.name!=null){var h=null;if(typeof a.name=="string"&&a.name.match(/-----BEGIN CERTIFICATE/)){var d=new Q(a.name);h=d.getSubject()}else a.name instanceof Q?h=a.name.getSubject():typeof a.name=="object"&&(a.name.array!=null||a.name.str!=null)&&(h=a.name);if(h==null)throw new o("wrong name member value");var m=n({tag:{tag:"a1",explicit:!0,obj:new s(h)}});return m.tohex()}throw new o("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(a){this.params=a},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.ResponderID,c.asn1.ASN1Object);c.asn1.ocsp.SingleResponseList=function(t){c.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var e=c.asn1,i=e.DERSequence,n=e.ocsp.SingleResponse;this.params=null,this.tohex=function(){var s=this.params;if(typeof s!="object"||s.length==null)throw new Error("params not specified properly");for(var r=[],o=0;o<s.length;o++)r.push(new n(s[o]));var a=new i({array:r});return a.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(s){this.params=s},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.SingleResponseList,c.asn1.ASN1Object);c.asn1.ocsp.SingleResponse=function(t){var e=Error,i=c,n=i.asn1,s=n.DERSequence,r=n.DERGeneralizedTime,o=n.DERTaggedObject,a=n.ocsp,l=a.CertID,d=a.CertStatus,p=n.x509,m=p.Extensions;a.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params,u=[];if(h.certid==null)throw new e("certid unspecified");if(h.status==null)throw new e("status unspecified");if(h.thisupdate==null)throw new e("thisupdate unspecified");if(u.push(new l(h.certid)),u.push(new d(h.status)),u.push(new r(h.thisupdate)),h.nextupdate!=null){var g=new r(h.nextupdate);u.push(new o({tag:"a0",explicit:!0,obj:g}))}if(h.ext!=null){var f=new m(h.ext);u.push(new o({tag:"a1",explicit:!0,obj:f}))}var w=new s({array:u});return w.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(h){this.params=h},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.SingleResponse,c.asn1.ASN1Object);c.asn1.ocsp.CertID=function(t){var e=c,i=e.asn1,n=i.DEROctetString,s=i.DERInteger,r=i.DERSequence,o=i.x509,a=o.AlgorithmIdentifier,l=i.ocsp,d=l.DEFAULT_HASH,p=e.crypto,m=p.Util.hashHex,h=Q,u=M,g=u.getVbyList;l.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(f,w,v,y){y==null&&(y=this.DEFAULT_HASH),this.params={alg:y,issname:f,isskey:w,sbjsn:v}},this.setByCert=function(f,w,v){v==null&&(v=this.DEFAULT_HASH),this.params={alg:v,issuerCert:f,subjectCert:w}},this.getParamByCerts=function(f,w,v){v==null&&(v=this.DEFAULT_HASH);var y=new h(f),b=new h(w),_=m(y.getSubjectHex(),v),I=y.getPublicKeyHex(),R=m(g(I,0,[1],"03",!0),v),S=b.getSerialNumberHex(),x={alg:v,issname:_,isskey:R,sbjsn:S};return x},this.tohex=function(){if(typeof this.params!="object")throw new Error("params not set");var f=this.params,w,v,y,b;if(f.alg==null?b=this.DEFAULT_HASH:b=f.alg,f.issuerCert!=null&&f.subjectCert!=null){var _=this.getParamByCerts(f.issuerCert,f.subjectCert,b);w=_.issname,v=_.isskey,y=_.sbjsn}else if(f.issname!=null&&f.isskey!=null&&f.sbjsn!=null)w=f.issname,v=f.isskey,y=f.sbjsn;else throw new Error("required param members not defined");var I=new a({name:b}),R=new n({hex:w}),S=new n({hex:v}),x=new s({hex:y}),E=new r({array:[I,R,S,x]});return this.hTLV=E.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.CertID,c.asn1.ASN1Object);c.asn1.ocsp.CertStatus=function(t){c.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(e.status=="good")return"8000";if(e.status=="unknown")return"8200";if(e.status=="revoked"){var i=[{gentime:{str:e.time}}];e.reason!=null&&i.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:i}};return c.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},t!==void 0&&this.setByParam(t)};B(c.asn1.ocsp.CertStatus,c.asn1.ASN1Object);c.asn1.ocsp.Request=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.ocsp;if(s.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var o=[];if(this.dReqCert===null)throw"reqCert not set";o.push(this.dReqCert);var a=new n({array:o});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof t<"u"){var r=new s.CertID(t);this.dReqCert=r}};B(c.asn1.ocsp.Request,c.asn1.ASN1Object);c.asn1.ocsp.TBSRequest=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.ocsp;s.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(r){for(var o=[],a=0;a<r.length;a++){var l=new s.Request(r[0]);o.push(l)}this.dRequestList=o},this.tohex=function(){var r=[];if(this.version!==0)throw"not supported version: "+this.version;if(this.dRequestorName!==null)throw"requestorName not supported";var o=new n({array:this.dRequestList});if(r.push(o),this.dRequestExt!==null)throw"requestExtensions not supported";var a=new n({array:r});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&t.reqList!==void 0&&this.setRequestListByParam(t.reqList)};B(c.asn1.ocsp.TBSRequest,c.asn1.ASN1Object);c.asn1.ocsp.OCSPRequest=function(t){var e=c,i=e.asn1,n=i.DERSequence,s=i.ocsp;if(s.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var o=[];if(this.dTbsRequest!==null)o.push(this.dTbsRequest);else throw"tbsRequest not set";if(this.dOptionalSignature!==null)throw"optionalSignature not supported";var a=new n({array:o});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},t!==void 0&&t.reqList!==void 0){var r=new s.TBSRequest(t);this.dTbsRequest=r}};B(c.asn1.ocsp.OCSPRequest,c.asn1.ASN1Object);c.asn1.ocsp.OCSPUtil={};c.asn1.ocsp.OCSPUtil.getRequestHex=function(t,e,i){var n=c,s=n.asn1,r=s.ocsp;i===void 0&&(i=r.DEFAULT_HASH);var o={alg:i,issuerCert:t,subjectCert:e},a=new r.OCSPRequest({reqList:[o]});return a.tohex()};c.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var e=M,i=e.getVbyList,n=e.getVbyListEx,s=e.getIdxbyList,r=e.getIdxbyListEx,o=e.getV,a={};try{var l=n(t,0,[0],"0a");a.responseStatus=parseInt(l,16)}catch{}if(a.responseStatus!==0)return a;try{var d=s(t,0,[1,0,1,0,0,2,0,1]);t.substr(d,2)==="80"?a.certStatus="good":t.substr(d,2)==="a1"?(a.certStatus="revoked",a.revocationTime=fe(i(t,d,[0]))):t.substr(d,2)==="82"&&(a.certStatus="unknown")}catch{}try{var p=s(t,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=fe(o(t,p))}catch{}try{var m=s(t,0,[1,0,1,0,0,2,0,3]);t.substr(m,2)==="a0"&&(a.nextUpdate=fe(i(t,m,[0])))}catch{}return a};c.asn1.ocsp.OCSPParser=function(){var t=Error,e=Q,i=new e,n=M,s=n.getV,r=n.getTLV,o=n.getIdxbyList,a=n.getVbyList,l=n.getTLVbyList,d=n.getVbyListEx,p=n.getTLVbyListEx,m=n.getChildIdx;this.getOCSPRequest=function(h){var u=m(h,0);if(u.length!=1&&u.length!=2)throw new t("wrong number elements: "+u.length);var g=this.getTBSRequest(r(h,u[0]));return g},this.getTBSRequest=function(h){var u={},g=p(h,0,[0],"30");u.array=this.getRequestList(g);var f=p(h,0,["[2]",0],"30");return f!=null&&(u.ext=i.getExtParamArray(f)),u},this.getRequestList=function(h){for(var u=[],g=m(h,0),f=0;f<g.length;f++){var h=r(h,g[f]);u.push(this.getRequest(h))}return u},this.getRequest=function(h){var u=m(h,0);if(u.length!=1&&u.length!=2)throw new t("wrong number elements: "+u.length);var g=this.getCertID(r(h,u[0]));if(u.length==2){var f=o(h,0,[1,0]);g.ext=i.getExtParamArray(r(h,f))}return g},this.getCertID=function(h){var u=m(h,0);if(u.length!=4)throw new t("wrong number elements: "+u.length);var g=new e,f={};return f.alg=g.getAlgorithmIdentifierName(r(h,u[0])),f.issname=s(h,u[1]),f.isskey=s(h,u[2]),f.sbjsn=s(h,u[3]),f},this.getOCSPResponse=function(h){var u=m(h,0),g,f=s(h,u[0]),w=parseInt(f);if(u.length==1)return{resstatus:w};var v=l(h,0,[1,0]);return g=this.getResponseBytes(v),g.resstatus=w,g},this.getResponseBytes=function(h){var u=m(h,0),g,f=l(h,0,[1,0]);g=this.getBasicOCSPResponse(f);var w=s(h,u[0]);return g.restype=c.asn1.x509.OID.oid2name(en(w)),g},this.getBasicOCSPResponse=function(h){var u=m(h,0),g;g=this.getResponseData(r(h,u[0]));var f=new Q;g.alg=f.getAlgorithmIdentifierName(r(h,u[1]));var w=s(h,u[2]);g.sighex=w.substr(2);var v=d(h,0,["[0]"]);if(v!=null){for(var y=m(v,0),b=[],_=0;_<y.length;_++){var I=r(v,y[_]);b.push(I)}g.certs=b}return g},this.getResponseData=function(h){var u=m(h,0),g=u.length,f={},w=0;h.substr(u[0],2)=="a0"&&w++,f.respid=this.getResponderID(r(h,u[w++]));var v=s(h,u[w++]);if(f.prodat=fe(v),f.array=this.getSingleResponseList(r(h,u[w++])),h.substr(u[g-1],2)=="a1"){var y=l(h,u[g-1],[0]),b=new Q;f.ext=b.getExtParamArray(y)}return f},this.getResponderID=function(h){var u={};if(h.substr(0,2)=="a2"){var g=a(h,0,[0]);u.key=g}if(h.substr(0,2)=="a1"){var f=l(h,0,[0]),w=new Q;u.name=w.getX500Name(f)}return u},this.getSingleResponseList=function(h){for(var u=m(h,0),g=[],f=0;f<u.length;f++){var w=this.getSingleResponse(r(h,u[f]));g.push(w)}return g},this.getSingleResponse=function(h){var u=m(h,0),g={},f=this.getCertID(r(h,u[0]));g.certid=f;var w=this.getCertStatus(r(h,u[1]));if(g.status=w,h.substr(u[2],2)=="18"){var v=s(h,u[2]);g.thisupdate=fe(v)}for(var y=3;y<u.length;y++){if(h.substr(u[y],2)=="a0"){var b=a(h,u[y],[0],"18");g.nextupdate=fe(b)}if(h.substr(u[y],2)=="a1"){var _=new Q,I=l(h,0,[y,0]);g.ext=_.getExtParamArray(I)}}return g},this.getCertStatus=function(h){var u={};if(h=="8000")return{status:"good"};if(h=="8200")return{status:"unknown"};if(h.substr(0,2)=="a1"){u.status="revoked";var g=a(h,0,[0]),f=fe(g);u.time=f}return u}};var c;(typeof c>"u"||!c)&&(c={});(typeof c.lang>"u"||!c.lang)&&(c.lang={});c.lang.String=function(){};function Oa(t){for(var e=new Array,i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function Na(t){for(var e="",i=0;i<t.length;i++)e=e+String.fromCharCode(t[i]);return e}function Ji(t){for(var e="",i=0;i<t.length;i++){var n=t[i].toString(16);n.length==1&&(n="0"+n),e=e+n}return e}function Ze(t){return Ji(Oa(t))}function xh(t){return Ft(Ze(t))}function Eh(t){return ei(Ft(Ze(t)))}function _h(t){return Na(Fa(pi(t)))}function ei(t){return t=t.replace(/\=/g,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t}function pi(t){return t.length%4==2?t=t+"==":t.length%4==3&&(t=t+"="),t=t.replace(/-/g,"+"),t=t.replace(/_/g,"/"),t}function Ne(t){return t.length%2==1&&(t="0"+t),ei(Ft(t))}function _e(t){return ti(pi(t))}var hi,vt;typeof Buffer=="function"?(hi=function(t){return ei(Buffer.from(t,"utf8").toString("base64"))},vt=function(t){return Buffer.from(pi(t),"base64").toString("utf8")}):(hi=function(t){return Ne(Yi(Zi(t)))},vt=function(t){return decodeURIComponent(Qi(_e(t)))});function Ah(t){return Ft(Yi(Zi(t)))}function Ih(t){return decodeURIComponent(Qi(ti(t)))}function Xi(t){return Yi(Zi(t)).toLowerCase()}function fe(t){try{return decodeURIComponent(Qi(t))}catch{return null}}function Ch(t){return fe(Fh(t))}function Fh(t){for(var e=t.match(/.{1,2}/g),i=[],n=0;n<e.length;n++){var s=parseInt(e[n],16);161<=s&&s<=191?(i.push("c2"),i.push(e[n])):192<=s&&s<=255?(i.push("c3"),i.push((s-64).toString(16))):i.push(e[n])}return i.join("")}function Ge(t){for(var e="",i=0;i<t.length-1;i+=2)e+=String.fromCharCode(parseInt(t.substr(i,2),16));return e}function dt(t){for(var e="",i=0;i<t.length;i++)e+=("0"+t.charCodeAt(i).toString(16)).slice(-2);return e}function Ba(t){return Ft(t)}function za(t){var e=Ba(t),i=e.replace(/(.{64})/g,`$1\r
`);return i=i.replace(/\r\n$/,""),i}function Ma(t){var e=t.replace(/[^0-9A-Za-z\/+=]*/g,""),i=ti(e);return i}function Me(t,e){var i=za(t);return"-----BEGIN "+e+`-----\r
`+i+`\r
-----END `+e+`-----\r
`}function Pe(t,e){if(t.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+e;return e!==void 0?(t=t.replace(new RegExp("^[^]*-----BEGIN "+e+"-----"),""),t=t.replace(new RegExp("-----END "+e+"-----[^]*$"),"")):(t=t.replace(/^[^]*-----BEGIN [^-]+-----/,""),t=t.replace(/-----END [^-]+-----[^]*$/,"")),Ma(t)}function Th(t){if(t.length%2!=0)throw"input is not even length";if(t.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var e=new ArrayBuffer(t.length/2),i=new DataView(e),n=0;n<t.length/2;n++)i.setUint8(n,parseInt(t.substr(n*2,2),16));return e}function Ph(t){for(var e="",i=new DataView(t),n=0;n<t.byteLength;n++)e+=("00"+i.getUint8(n).toString(16)).slice(-2);return e}function ks(t){var e,i,n,s,r,o,a,l,d,p,m,h;if(h=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/),h)return d=h[1],e=parseInt(d),d.length===2&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),i=parseInt(h[2])-1,n=parseInt(h[3]),s=parseInt(h[4]),r=parseInt(h[5]),o=parseInt(h[6]),a=0,p=h[7],p!==""&&(m=(p.substr(1)+"00").substr(0,3),a=parseInt(m)),Date.UTC(e,i,n,s,r,o,a);throw new Error("unsupported zulu format: "+t)}function ja(t){return Math.round(ks(t)/1e3)}function kh(t){return new Date(ks(t))}function Rh(t,e,i){var n,s=t.getUTCFullYear();if(e){if(s<1950||2049<s)throw"not proper year for UTCTime: "+s;n=(""+s).slice(-2)}else n=("000"+s).slice(-4);if(n+=("0"+(t.getUTCMonth()+1)).slice(-2),n+=("0"+t.getUTCDate()).slice(-2),n+=("0"+t.getUTCHours()).slice(-2),n+=("0"+t.getUTCMinutes()).slice(-2),n+=("0"+t.getUTCSeconds()).slice(-2),i){var r=t.getUTCMilliseconds();r!==0&&(r=("00"+r).slice(-3),r=r.replace(/0+$/g,""),n+="."+r)}return n+="Z",n}function Yi(t){return t.replace(/%/g,"")}function Qi(t){return t.replace(/(..)/g,"%$1")}function _s(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;t=t.toLowerCase();var i=t.split(":").length-1;if(i<2)throw e;var n=":".repeat(7-i+2);t=t.replace("::",n);var s=t.split(":");if(s.length!=8)throw e;for(var r=0;r<8;r++)s[r]=("0000"+s[r]).slice(-4);return s.join("")}function As(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+t);t=t.toLowerCase();var e=t.match(/.{1,4}/g);e=e.map(function(s){return s.replace(/^0+/,"")}),e=e.map(function(s){return s==""?"0":s}),t=":"+e.join(":")+":";var i=t.match(/:(0:){2,}/g);if(i==null)return t.slice(1,-1);var n=i.sort().slice(-1)[0];return t=t.replace(n.substr(0,n.length-1),":"),t.substr(0,2)!="::"&&(t=t.substr(1)),t.substr(-2,2)!="::"&&(t=t.substr(0,t.length-1)),t}function Ui(t){var e=new Error("malformed hex value");if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(t.length==8){var i;try{return i=parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16),i}catch{throw e}}else if(t.length==16)try{return Ui(t.substr(0,8))+"/"+Ia(t.substr(8))}catch{throw e}else{if(t.length==32)return As(t);if(t.length==64){try{return As(t.substr(0,32))+"/"+Ia(t.substr(32))}catch{throw e}return}else return t}}function Ia(t){var e=new Error("malformed mask"),i;try{i=new P(t,16).toString(2)}catch{throw e}if(!i.match(/^1*0*$/))throw e;return i.replace(/0+$/,"").length}function Rs(t){var e=new Error("malformed IP address");if(t=t.toLowerCase(t),!t.match(/^[0-9a-f.:/]+$/))throw e;if(t.match(/^[0-9.]+$/)){var i=t.split(".");if(i.length!==4)throw e;var n="";try{for(var s=0;s<4;s++){var r=parseInt(i[s]);n+=("0"+r.toString(16)).slice(-2)}return n}catch{throw e}}else if(t.match(/^[0-9.]+\/[0-9]+$/)){var o=t.split("/");return Rs(o[0])+Ca(parseInt(o[1]),32)}else{if(t.match(/^[0-9a-f:]+$/)&&t.indexOf(":")!==-1)return _s(t);if(t.match(/^[0-9a-f:]+\/[0-9]+$/)&&t.indexOf(":")!==-1){var o=t.split("/");return _s(o[0])+Ca(parseInt(o[1]),128)}else throw e}}function Ca(t,e){if(e==32&&t==0)return"00000000";if(e==128&&t==0)return"00000000000000000000000000000000";var i=Array(t+1).join("1")+Array(e-t+1).join("0");return new P(i,2).toString(16)}function Ds(t){function e(s){var r=parseInt(s.substr(0,2),16),o=parseInt(s.substr(2),16);if(r==0&o<128)return String.fromCharCode(o);if(r<8){var a=192|(r&7)<<3|(o&192)>>6,l=128|o&63;return fe(a.toString(16)+l.toString(16))}var a=224|(r&240)>>4,l=128|(r&15)<<2|(o&192)>>6,d=128|o&63;return fe(a.toString(16)+l.toString(16)+d.toString(16))}var i=t.match(/.{4}/g),n=i.map(e);return n.join("")}function Zi(t){for(var e=encodeURIComponent(t),i="",n=0;n<e.length;n++)e[n]=="%"?(i=i+e.substr(n,3),n=n+2):i=i+"%"+Ze(e[n]);return i}function Dh(t){return t=t.replace(/\r\n/mg,`
`),t}function Oh(t){return t=t.replace(/\r\n/mg,`
`),t=t.replace(/\n/mg,`\r
`),t}c.lang.String.isInteger=function(t){return t.match(/^[0-9]+$/)?!0:!!t.match(/^-[0-9]+$/)};c.lang.String.isHex=function(t){return La(t)};function La(t){return!!(t.length%2==0&&(t.match(/^[0-9a-f]+$/)||t.match(/^[0-9A-F]+$/)))}c.lang.String.isBase64=function(t){return t=t.replace(/\s+/g,""),!!(t.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&t.length%4==0)};c.lang.String.isBase64URL=function(t){return t.match(/[+/=]/)?!1:(t=pi(t),c.lang.String.isBase64(t))};function Os(t){return!!t.match(/^[0-9A-Za-z-_.]+$/)}c.lang.String.isIntegerArray=function(t){return t=t.replace(/\s+/g,""),!!t.match(/^\[[0-9,]+\]$/)};c.lang.String.isPrintable=function(t){return t.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null};c.lang.String.isIA5=function(t){return t.match(/^[\x20-\x21\x23-\x7f]*$/)!==null};c.lang.String.isMail=function(t){return t.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};function Is(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}function Nh(t){t=t.replace(/^\s*\[\s*/,""),t=t.replace(/\s*\]\s*$/,""),t=t.replace(/\s*/g,"");try{var e=t.split(/,/).map(function(i,n,s){var r=parseInt(i);if(r<0||255<r)throw"integer not in range 0-255";var o=("00"+r.toString(16)).slice(-2);return o}).join("");return e}catch(i){throw"malformed integer array string: "+i}}var Bh=function(t,e){var i=t.length;t.length>e.length&&(i=e.length);for(var n=0;n<i;n++)if(t.charCodeAt(n)!=e.charCodeAt(n))return n;return t.length!=e.length?i:-1};function Ha(t){var e=function(a){var l=a.toString(16);return l.length==1&&(l="0"+l),l},i=function(a){var l="",d=parseInt(a,10),p=d.toString(2),m=7-p.length%7;m==7&&(m=0);for(var h="",u=0;u<m;u++)h+="0";p=h+p;for(var u=0;u<p.length-1;u+=7){var g=p.substr(u,7);u!=p.length-7&&(g="1"+g),l+=e(parseInt(g,2))}return l};try{if(!t.match(/^[0-9.]+$/))return null;var n="",s=t.split("."),r=parseInt(s[0],10)*40+parseInt(s[1],10);n+=e(r),s.splice(0,2);for(var o=0;o<s.length;o++)n+=i(s[o]);return n}catch{return null}}function en(t){if(!La(t))return null;try{var e=[],i=t.substr(0,2),n=parseInt(i,16);e[0]=new String(Math.floor(n/40)),e[1]=new String(n%40);for(var s=t.substr(2),r=[],o=0;o<s.length/2;o++)r.push(parseInt(s.substr(o*2,2),16));for(var a=[],l="",o=0;o<r.length;o++)r[o]&128?l=l+Ki((r[o]&127).toString(2),7):(l=l+Ki((r[o]&127).toString(2),7),a.push(new String(parseInt(l,2))),l="");var d=e.join(".");return a.length>0&&(d=d+"."+a.join(".")),d}catch{return null}}var Ki=function(t,e,i){return i==null&&(i="0"),t.length>=e?t:new Array(e-t.length+1).join(i)+t};function qa(t){if(t.length%2!=0||(t=t.toLowerCase(),t.match(/^[0-9a-f]+$/)==null))return-1;try{var e=t.substr(0,2);if(e=="00")return parseInt(t.substr(2),16);var i=parseInt(e,16);if(i>7)return-1;var n=t.substr(2),s=parseInt(n,16).toString(2);s=="0"&&(s="00000000"),s=s.slice(0,0-i);var r=parseInt(s,2);return r==NaN?-1:r}catch{return-1}}function Va(t){if(typeof t!="number"||t<0)return null;var e=Number(t).toString(2),i=8-e.length%8;i==8&&(i=0),e=e+Ki("",i,"0");var n=parseInt(e,2).toString(16);n.length%2==1&&(n="0"+n);var s="0"+i;return s+n}function Ua(t){if(typeof t!="string"||t.length%2!=0||!t.match(/^[0-9a-f]+$/))return null;try{var e=parseInt(t.substr(0,2),16);if(e<0||7<e)return null;for(var i=t.substr(2),n="",s=0;s<i.length;s+=2){var r=i.substr(s,2),o=parseInt(r,16).toString(2);o=("0000000"+o).slice(-8),n+=o}return n.substr(0,n.length-e)}catch{return null}}function zh(t){if(typeof t!="string"||t.match(/^[01]+$/)==null)return null;try{var e=parseInt(t,2);return Va(e)}catch{return null}}function Gi(t,e){for(var i=0,n=0;n<t.length;n++)i|=1<<e[t[n]];for(var s=i.toString(2),r="",n=s.length-1;n>=0;n--)r+=s[n];return r}function B(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e)}(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:V.algo.MD5,sha1:V.algo.SHA1,sha224:V.algo.SHA224,sha256:V.algo.SHA256,sha384:V.algo.SHA384,sha512:V.algo.SHA512,ripemd160:V.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(typeof this.DIGESTINFOHEAD[e]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,i){var n=this.getDigestInfoHex(t,e),s=i/4;if(n.length+22>s)throw"key is too short for SigAlg: keylen="+i+","+e;for(var r="0001",o="00"+n,a="",l=s-r.length-o.length,d=0;d<l;d+=2)a+="ff";var p=r+a+o;return p},this.hashString=function(t,e){var i=new c.crypto.MessageDigest({alg:e});return i.digestString(t)},this.hashHex=function(t,e){var i=new c.crypto.MessageDigest({alg:e});return i.digestHex(t)},this.sha1=function(t){return this.hashString(t,"sha1")},this.sha256=function(t){return this.hashString(t,"sha256")},this.sha256Hex=function(t){return this.hashHex(t,"sha256")},this.sha512=function(t){return this.hashString(t,"sha512")},this.sha512Hex=function(t){return this.hashHex(t,"sha512")},this.isKey=function(t){return t instanceof $||t instanceof c.crypto.DSA||t instanceof c.crypto.ECDSA}};c.crypto.Util.md5=function(t){var e=new c.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return e.digestString(t)};c.crypto.Util.ripemd160=function(t){var e=new c.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return e.digestString(t)};c.crypto.Util.SECURERANDOMGEN=new Ot;c.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return c.crypto.Util.SECURERANDOMGEN.nextBytes(e),Ji(e)};c.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new P(c.crypto.Util.getRandomHexOfNbytes(t),16)};c.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,i=(t-e)/8,n=new Array(i+1);return c.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<e&255^255)&n[0],Ji(n)};c.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new P(c.crypto.Util.getRandomHexOfNbits(t),16)};c.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var i=c.crypto.Util.getRandomBigIntegerOfNbits(e);if(t.compareTo(i)!=-1)return i}};c.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var i=t.compareTo(e);if(i==1)throw"biMin is greater than biMax";if(i==0)return t;var n=e.subtract(t),s=c.crypto.Util.getRandomBigIntegerZeroToMax(n);return s.add(t)};c.crypto.MessageDigest=function(t){var e=null,i=null,n=null;this.setAlgAndProvider=function(s,r){if(s=c.crypto.MessageDigest.getCanonicalAlgName(s),s!==null&&r===void 0&&(r=c.crypto.Util.DEFAULTPROVIDER[s]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(s)!=-1&&r=="cryptojs"){try{this.md=c.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[s].create()}catch(o){throw"setAlgAndProvider hash alg set fail alg="+s+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var a=V.enc.Hex.parse(o);this.md.update(a)},this.digest=function(){var o=this.md.finalize();return o.toString(V.enc.Hex)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}if(":sha256:".indexOf(s)!=-1&&r=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(o){throw"setAlgAndProvider hash alg set fail alg="+s+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var a=sjcl.codec.hex.toBits(o);this.md.update(a)},this.digest=function(){var o=this.md.finalize();return sjcl.codec.hex.fromBits(o)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}},this.updateString=function(s){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(s){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(s){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(s){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},t!==void 0&&t.alg!==void 0&&(this.algName=t.alg,t.prov===void 0&&(this.provName=c.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))};c.crypto.MessageDigest.getCanonicalAlgName=function(t){return typeof t=="string"&&(t=t.toLowerCase(),t=t.replace(/-/,"")),t};c.crypto.MessageDigest.getHashLength=function(t){var e=c.crypto.MessageDigest,i=e.getCanonicalAlgName(t);if(e.HASHLENGTH[i]===void 0)throw"not supported algorithm: "+t;return e.HASHLENGTH[i]};c.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};c.crypto.Mac=function(t){var e=null,i=null,n=null,s=null,r=null;this.setAlgAndProvider=function(o,a){if(o=o.toLowerCase(),o==null&&(o="hmacsha1"),o=o.toLowerCase(),o.substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+o;a===void 0&&(a=c.crypto.Util.DEFAULTPROVIDER[o]),this.algProv=o+"/"+a;var l=o.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(l)!=-1&&a=="cryptojs"){try{var d=c.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[l];this.mac=V.algo.HMAC.create(d,this.pass)}catch(p){throw"setAlgAndProvider hash alg set fail hashAlg="+l+"/"+p}this.updateString=function(p){this.mac.update(p)},this.updateHex=function(p){var m=V.enc.Hex.parse(p);this.mac.update(m)},this.doFinal=function(){var p=this.mac.finalize();return p.toString(V.enc.Hex)},this.doFinalString=function(p){return this.updateString(p),this.doFinal()},this.doFinalHex=function(p){return this.updateHex(p),this.doFinal()}}},this.updateString=function(o){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(o){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(o){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(o){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(o){if(typeof o=="string"){var a=o;(o.length%2==1||!o.match(/^[0-9A-Fa-f]+$/))&&(a=dt(o)),this.pass=V.enc.Hex.parse(a);return}if(typeof o!="object")throw"KJUR.crypto.Mac unsupported password type: "+o;var a=null;if(o.hex!==void 0){if(o.hex.length%2!=0||!o.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+o.hex;a=o.hex}if(o.utf8!==void 0&&(a=Xi(o.utf8)),o.rstr!==void 0&&(a=dt(o.rstr)),o.b64!==void 0&&(a=ti(o.b64)),o.b64u!==void 0&&(a=_e(o.b64u)),a==null)throw"KJUR.crypto.Mac unsupported password type: "+o;this.pass=V.enc.Hex.parse(a)},t!==void 0&&(t.pass!==void 0&&this.setPassword(t.pass),t.alg!==void 0&&(this.algName=t.alg,t.prov===void 0&&(this.provName=c.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))};c.crypto.Signature=function(t){var e=null,i=null,n=null,s=null,r=null,o=null,a=null,l=null,d=null,p=null,m=-1,h=null,u=null,g=null,f=null,w=null;if(this._setAlgNames=function(){var v=this.algName.match(/^(.+)with(.+)$/);v&&(this.mdAlgName=v[1].toLowerCase(),this.pubkeyAlgName=v[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(v,y){for(var b="",_=y/4-v.length,I=0;I<_;I++)b=b+"0";return b+v},this.setAlgAndProvider=function(v,y){if(this._setAlgNames(),y!="cryptojs/jsrsa")throw new Error("provider not supported: "+y);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new c.crypto.MessageDigest({alg:this.mdAlgName})}catch(b){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+b)}this.init=function(b,_){var I=null;try{_===void 0?I=oe.getKey(b):I=oe.getKey(b,_)}catch(R){throw"init failed:"+R}if(I.isPrivate===!0)this.prvKey=I,this.state="SIGN";else if(I.isPublic===!0)this.pubKey=I,this.state="VERIFY";else throw"init failed.:"+I},this.updateString=function(b){this.md.updateString(b)},this.updateHex=function(b){this.md.updateHex(b)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&c.crypto.ECDSA!==void 0&&(this.prvKey=new c.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof $&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof $&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof c.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else if(this.prvKey instanceof c.crypto.DSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;return this.hSign},this.signString=function(b){return this.updateString(b),this.sign()},this.signHex=function(b){return this.updateHex(b),this.sign()},this.verify=function(b){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&c.crypto.ECDSA!==void 0&&(this.pubKey=new c.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof $&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,b,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof $&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,b);if(c.crypto.ECDSA!==void 0&&this.pubKey instanceof c.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,b);if(c.crypto.DSA!==void 0&&this.pubKey instanceof c.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,b);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(v,y){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(v){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(v){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(v){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(v){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,t!==void 0&&(t.alg!==void 0&&(this.algName=t.alg,t.prov===void 0?this.provName=c.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),t.psssaltlen!==void 0&&(this.pssSaltLen=t.psssaltlen),t.prvkeypem!==void 0)){if(t.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{var e=oe.getKey(t.prvkeypem);this.init(e)}catch(v){throw"fatal error to load pem private key: "+v}}};c.crypto.Cipher=function(t){};c.crypto.Cipher.encrypt=function(t,e,i){if(e instanceof $&&e.isPublic){var n=c.crypto.Cipher.getAlgByKeyAndName(e,i);if(n==="RSA")return e.encrypt(t);if(n==="RSAOAEP")return e.encryptOAEP(t,"sha1");var s=n.match(/^RSAOAEP(\d+)$/);if(s!==null)return e.encryptOAEP(t,"sha"+s[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+i}else throw"Cipher.encrypt: unsupported key or algorithm"};c.crypto.Cipher.decrypt=function(t,e,i){if(e instanceof $&&e.isPrivate){var n=c.crypto.Cipher.getAlgByKeyAndName(e,i);if(n==="RSA")return e.decrypt(t);if(n==="RSAOAEP")return e.decryptOAEP(t,"sha1");var s=n.match(/^RSAOAEP(\d+)$/);if(s!==null)return e.decryptOAEP(t,"sha"+s[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+i}else throw"Cipher.decrypt: unsupported key or algorithm"};c.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof $){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e)!=-1)return e;if(e==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e};c.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.ECDSA=function(t){var e="secp256r1",i=null,n=null,s=null,r=Error,o=P,a=ae,l=c.crypto.ECDSA,d=c.crypto.ECParameterDB,p=l.getName,m=M,h=m.getVbyListEx,u=m.isASN1HEX,g=new Ot,f=null;this.type="EC",this.isPrivate=!1,this.isPublic=!1;function w(v,y,b,_){for(var I=Math.max(y.bitLength(),_.bitLength()),R=v.add2D(b),S=v.curve.getInfinity(),x=I-1;x>=0;--x)S=S.twice2D(),S.z=o.ONE,y.testBit(x)?_.testBit(x)?S=S.add2D(R):S=S.add2D(v):_.testBit(x)&&(S=S.add2D(b));return S}this.getBigRandom=function(v){return new o(v.bitLength(),g).mod(v.subtract(o.ONE)).add(o.ONE)},this.setNamedCurve=function(v){this.ecparams=d.getByName(v),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=v},this.setPrivateKeyHex=function(v){this.isPrivate=!0,this.prvKeyHex=v},this.setPublicKeyHex=function(v){this.isPublic=!0,this.pubKeyHex=v},this.getPublicKeyXYHex=function(){var v=this.pubKeyHex;if(v.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var y=this.ecparams.keycharlen;if(v.length!==2+y*2)throw"malformed public key hex length";var b={};return b.x=v.substr(2,y),b.y=v.substr(2+y),b},this.getShortNISTPCurveName=function(){var v=this.curveName;return v==="secp256r1"||v==="NIST P-256"||v==="P-256"||v==="prime256v1"?"P-256":v==="secp384r1"||v==="NIST P-384"||v==="P-384"?"P-384":v==="secp521r1"||v==="NIST P-521"||v==="P-521"?"P-521":null},this.generateKeyPairHex=function(){var v=this.ecparams.n,y=this.getBigRandom(v),b=this.ecparams.keycharlen,_=("0000000000"+y.toString(16)).slice(-b);this.setPrivateKeyHex(_);var I=this.generatePublicKeyHex();return{ecprvhex:_,ecpubhex:I}},this.generatePublicKeyHex=function(){var v=new o(this.prvKeyHex,16),y=this.ecparams.G.multiply(v),b=y.getX().toBigInteger(),_=y.getY().toBigInteger(),I=this.ecparams.keycharlen,R=("0000000000"+b.toString(16)).slice(-I),S=("0000000000"+_.toString(16)).slice(-I),x="04"+R+S;return this.setPublicKeyHex(x),x},this.signWithMessageHash=function(v){return this.signHex(v,this.prvKeyHex)},this.signHex=function(v,y){var b=new o(y,16),_=this.ecparams.n,I=new o(v.substring(0,this.ecparams.keycharlen),16);do var R=this.getBigRandom(_),S=this.ecparams.G,x=S.multiply(R),E=x.getX().toBigInteger().mod(_);while(E.compareTo(o.ZERO)<=0);var C=R.modInverse(_).multiply(I.add(b.multiply(E))).mod(_);return l.biRSSigToASN1Sig(E,C)},this.sign=function(v,y){var b=y,_=this.ecparams.n,I=o.fromByteArrayUnsigned(v);do var R=this.getBigRandom(_),S=this.ecparams.G,x=S.multiply(R),E=x.getX().toBigInteger().mod(_);while(E.compareTo(P.ZERO)<=0);var C=R.modInverse(_).multiply(I.add(b.multiply(E))).mod(_);return this.serializeSig(E,C)},this.verifyWithMessageHash=function(v,y){return this.verifyHex(v,y,this.pubKeyHex)},this.verifyHex=function(v,y,b){try{var _,I,R=l.parseSigHex(y);_=R.r,I=R.s;var S=a.decodeFromHex(this.ecparams.curve,b),x=new o(v.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(x,_,I,S)}catch{return!1}},this.verify=function(v,y,b){var _,I;if(Bitcoin.Util.isArray(y)){var R=this.parseSig(y);_=R.r,I=R.s}else if(typeof y=="object"&&y.r&&y.s)_=y.r,I=y.s;else throw"Invalid value for signature";var S;if(b instanceof ae)S=b;else if(Bitcoin.Util.isArray(b))S=a.decodeFrom(this.ecparams.curve,b);else throw"Invalid format for pubkey value, must be byte array or ECPointFp";var x=o.fromByteArrayUnsigned(v);return this.verifyRaw(x,_,I,S)},this.verifyRaw=function(v,y,b,_){var I=this.ecparams.n,R=this.ecparams.G;if(y.compareTo(o.ONE)<0||y.compareTo(I)>=0||b.compareTo(o.ONE)<0||b.compareTo(I)>=0)return!1;var S=b.modInverse(I),x=v.multiply(S).mod(I),E=y.multiply(S).mod(I),C=R.multiply(x).add(_.multiply(E)),T=C.getX().toBigInteger().mod(I);return T.equals(y)},this.serializeSig=function(v,y){var b=v.toByteArraySigned(),_=y.toByteArraySigned(),I=[];return I.push(2),I.push(b.length),I=I.concat(b),I.push(2),I.push(_.length),I=I.concat(_),I.unshift(I.length),I.unshift(48),I},this.parseSig=function(v){var y;if(v[0]!=48)throw new Error("Signature not a valid DERSequence");if(y=2,v[y]!=2)throw new Error("First element in signature must be a DERInteger");var b=v.slice(y+2,y+2+v[y+1]);if(y+=2+v[y+1],v[y]!=2)throw new Error("Second element in signature must be a DERInteger");var _=v.slice(y+2,y+2+v[y+1]);y+=2+v[y+1];var I=o.fromByteArrayUnsigned(b),R=o.fromByteArrayUnsigned(_);return{r:I,s:R}},this.parseSigCompact=function(v){if(v.length!==65)throw"Signature has the wrong length";var y=v[0]-27;if(y<0||y>7)throw"Invalid signature type";var b=this.ecparams.n,_=o.fromByteArrayUnsigned(v.slice(1,33)).mod(b),I=o.fromByteArrayUnsigned(v.slice(33,65)).mod(b);return{r:_,s:I,i:y}},this.readPKCS5PrvKeyHex=function(v){if(u(v)===!1)throw new Error("not ASN.1 hex string");var y,b,_;try{y=h(v,0,["[0]",0],"06"),b=h(v,0,[1],"04");try{_=h(v,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=p(y),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(_),this.setPrivateKeyHex(b),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(v){if(u(v)===!1)throw new r("not ASN.1 hex string");var y,b,_,I;try{y=h(v,0,[1,0],"06"),b=h(v,0,[1,1],"06"),_=h(v,0,[2,0,1],"04");try{I=h(v,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new r("malformed PKCS#8 plain ECC private key")}if(this.curveName=p(b),this.curveName===void 0)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(I),this.setPrivateKeyHex(_),this.isPublic=!1},this.readPKCS8PubKeyHex=function(v){if(u(v)===!1)throw new r("not ASN.1 hex string");var y,b,_;try{y=h(v,0,[0,0],"06"),b=h(v,0,[0,1],"06"),_=h(v,0,[1],"03")}catch{throw new r("malformed PKCS#8 ECC public key")}if(this.curveName=p(b),this.curveName===null)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(_)},this.readCertPubKeyHex=function(v,y){if(u(v)===!1)throw new r("not ASN.1 hex string");var b,_;try{b=h(v,0,[0,5,0,1],"06"),_=h(v,0,[0,5,1],"03")}catch{throw new r("malformed X.509 certificate ECC public key")}if(this.curveName=p(b),this.curveName===null)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(_)},t!==void 0&&t.curve!==void 0&&(this.curveName=t.curve),this.curveName===void 0&&(this.curveName=e),this.setNamedCurve(this.curveName),t!==void 0&&(t.prv!==void 0&&this.setPrivateKeyHex(t.prv),t.pub!==void 0&&this.setPublicKeyHex(t.pub))};c.crypto.ECDSA.parseSigHex=function(t){var e=c.crypto.ECDSA.parseSigHexInHexRS(t),i=new P(e.r,16),n=new P(e.s,16);return{r:i,s:n}};c.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=M,i=e.getChildIdx,n=e.getV;if(e.checkStrictDER(t,0),t.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var s=i(t,0);if(s.length!=2)throw new Error("signature shall have two elements");var r=s[0],o=s[1];if(t.substr(r,2)!="02")throw new Error("1st item not ASN.1 integer");if(t.substr(o,2)!="02")throw new Error("2nd item not ASN.1 integer");var a=n(t,r),l=n(t,o);return{r:a,s:l}};c.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=c.crypto.ECDSA.parseSigHexInHexRS(t),i=e.r,n=e.s;if(i.length>=130&&i.length<=134){if(i.length%2!=0)throw Error("unknown ECDSA sig r length error");if(n.length%2!=0)throw Error("unknown ECDSA sig s length error");i.substr(0,2)=="00"&&(i=i.substr(2)),n.substr(0,2)=="00"&&(n=n.substr(2));var s=Math.max(i.length,n.length);return i=("000000"+i).slice(-s),n=("000000"+n).slice(-s),i+n}if(i.substr(0,2)=="00"&&i.length%32==2&&(i=i.substr(2)),n.substr(0,2)=="00"&&n.length%32==2&&(n=n.substr(2)),i.length%32==30&&(i="00"+i),n.length%32==30&&(n="00"+n),i.length%32!=0)throw Error("unknown ECDSA sig r length error");if(n.length%32!=0)throw Error("unknown ECDSA sig s length error");return i+n};c.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var e=t.substr(0,t.length/2),i=t.substr(t.length/2);return c.crypto.ECDSA.hexRSSigToASN1Sig(e,i)};c.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var i=new P(t,16),n=new P(e,16);return c.crypto.ECDSA.biRSSigToASN1Sig(i,n)};c.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var i=c.asn1,n=new i.DERInteger({bigint:t}),s=new i.DERInteger({bigint:e}),r=new i.DERSequence({array:[n,s]});return r.tohex()};c.crypto.ECDSA.getName=function(t){return t==="2b8104001f"?"secp192k1":t==="2a8648ce3d030107"?"secp256r1":t==="2b8104000a"?"secp256k1":t==="2b81040021"?"secp224r1":t==="2b81040022"?"secp384r1":t==="2b81040023"?"secp521r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)!==-1?"secp256r1":"|secp256k1|".indexOf(t)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(t)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(t)!==-1?"secp384r1":"|secp521r1|NIST P-521|P-521|".indexOf(t)!==-1?"secp521r1":null};(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.ECParameterDB=new function(){var t={},e={};function i(n){return new P(n,16)}this.getByName=function(n){var s=n;if(typeof e[s]<"u"&&(s=e[n]),typeof t[s]<"u")return t[s];throw"unregistered EC curve name: "+s},this.regist=function(n,s,r,o,a,l,d,p,m,h,u,g){t[n]={};var f=i(r),w=i(o),v=i(a),y=i(l),b=i(d),_=new Tt(f,w,v),I=_.decodePointHex("04"+p+m);t[n].name=n,t[n].keylen=s,t[n].keycharlen=Math.ceil(s/8)*2,t[n].curve=_,t[n].G=I,t[n].n=y,t[n].h=b,t[n].oid=u,t[n].info=g;for(var R=0;R<h.length;R++)e[h[R]]=n}};c.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");c.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");c.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");c.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);c.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);c.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);c.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);c.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);c.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);c.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.DSA=function(){var t=M,e=t.getVbyList,i=t.getVbyListEx,n=t.isASN1HEX,s=P;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(r,o,a,l,d){this.isPrivate=!0,this.p=r,this.q=o,this.g=a,this.y=l,this.x=d},this.setPrivateHex=function(r,o,a,l,d){var p,m,h,u,g;p=new P(r,16),m=new P(o,16),h=new P(a,16),typeof l=="string"&&l.length>1?u=new P(l,16):u=null,g=new P(d,16),this.setPrivate(p,m,h,u,g)},this.setPublic=function(r,o,a,l){this.isPublic=!0,this.p=r,this.q=o,this.g=a,this.y=l,this.x=null},this.setPublicHex=function(r,o,a,l){var d,p,m,h;d=new P(r,16),p=new P(o,16),m=new P(a,16),h=new P(l,16),this.setPublic(d,p,m,h)},this.signWithMessageHash=function(r){var o=this.p,a=this.q,l=this.g,d=this.y,p=this.x,m=c.crypto.Util.getRandomBigIntegerMinToMax(P.ONE.add(P.ONE),a.subtract(P.ONE)),h=r.substr(0,a.bitLength()/4),u=new P(h,16),g=l.modPow(m,o).mod(a),f=m.modInverse(a).multiply(u.add(p.multiply(g))).mod(a),w=c.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:g}},{int:{bigint:f}}]});return w},this.verifyWithMessageHash=function(r,o){var a=this.p,l=this.q,d=this.g,p=this.y,m=this.parseASN1Signature(o),h=m[0],u=m[1],g=r.substr(0,l.bitLength()/4),f=new P(g,16);if(P.ZERO.compareTo(h)>0||h.compareTo(l)>0||P.ZERO.compareTo(u)>=0||u.compareTo(l)>0)throw"invalid DSA signature";var w=u.modInverse(l),v=f.multiply(w).mod(l),y=h.multiply(w).mod(l),b=d.modPow(v,a).multiply(p.modPow(y,a)).mod(a).mod(l);return b.compareTo(h)==0},this.parseASN1Signature=function(r){try{var o=new s(i(r,0,[0],"02"),16),a=new s(i(r,0,[1],"02"),16);return[o,a]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(r){var o,a,l,d,p;if(n(r)===!1)throw new Error("not ASN.1 hex string");try{o=i(r,0,[1],"02"),a=i(r,0,[2],"02"),l=i(r,0,[3],"02"),d=i(r,0,[4],"02"),p=i(r,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(o,a,l,d,p)},this.readPKCS8PrvKeyHex=function(r){var o,a,l,d;if(n(r)===!1)throw new Error("not ASN.1 hex string");try{o=i(r,0,[1,1,0],"02"),a=i(r,0,[1,1,1],"02"),l=i(r,0,[1,1,2],"02"),d=i(r,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(o,a,l,null,d)},this.readPKCS8PubKeyHex=function(r){var o,a,l,d;if(n(r)===!1)throw new Error("not ASN.1 hex string");try{o=i(r,0,[0,1,0],"02"),a=i(r,0,[0,1,1],"02"),l=i(r,0,[0,1,2],"02"),d=i(r,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(o,a,l,d)},this.readCertPubKeyHex=function(r,o){var a,l,d,p;if(n(r)===!1)throw new Error("not ASN.1 hex string");try{a=i(r,0,[0,5,0,1,0],"02"),l=i(r,0,[0,5,0,1,1],"02"),d=i(r,0,[0,5,0,1,2],"02"),p=i(r,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(a,l,d,p)}};var oe=function(){var t=function(f,w,v){return n(V.AES,f,w,v)},e=function(f,w,v){return n(V.TripleDES,f,w,v)},i=function(f,w,v){return n(V.DES,f,w,v)},n=function(f,w,v,y){var b=V.enc.Hex.parse(w),_=V.enc.Hex.parse(v),I=V.enc.Hex.parse(y),R={};R.key=_,R.iv=I,R.ciphertext=b;var S=f.decrypt(R,_,{iv:I});return V.enc.Hex.stringify(S)},s=function(f,w,v){return a(V.AES,f,w,v)},r=function(f,w,v){return a(V.TripleDES,f,w,v)},o=function(f,w,v){return a(V.DES,f,w,v)},a=function(f,w,v,y){var b=V.enc.Hex.parse(w),_=V.enc.Hex.parse(v),I=V.enc.Hex.parse(y),R=f.encrypt(b,_,{iv:I}),S=V.enc.Hex.parse(R.toString()),x=V.enc.Base64.stringify(S);return x},l={"AES-256-CBC":{proc:t,eproc:s,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:s,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:s,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:e,eproc:r,keylen:24,ivlen:8},"DES-CBC":{proc:i,eproc:o,keylen:8,ivlen:8}},d=function(f){return l[f].proc},p=function(f){var w=V.lib.WordArray.random(f),v=V.enc.Hex.stringify(w);return v},m=function(f){var w={},v=f.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));v&&(w.cipher=v[1],w.ivsalt=v[2]);var y=f.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));y&&(w.type=y[1]);var b=-1,_=0;f.indexOf(`\r
\r
`)!=-1&&(b=f.indexOf(`\r
\r
`),_=2),f.indexOf(`

`)!=-1&&(b=f.indexOf(`

`),_=1);var I=f.indexOf("-----END");if(b!=-1&&I!=-1){var R=f.substring(b+_*2,I-_);R=R.replace(/\s+/g,""),w.data=R}return w},h=function(f,w,v){for(var y=v.substring(0,16),b=V.enc.Hex.parse(y),_=V.enc.Utf8.parse(w),I=l[f].keylen+l[f].ivlen,R="",S=null;;){var x=V.algo.MD5.create();if(S!=null&&x.update(S),x.update(_),x.update(b),S=x.finalize(),R=R+V.enc.Hex.stringify(S),R.length>=I*2)break}var E={};return E.keyhex=R.substr(0,l[f].keylen*2),E.ivhex=R.substr(l[f].keylen*2,l[f].ivlen*2),E},u=function(f,w,v,y){var b=V.enc.Base64.parse(f),_=V.enc.Hex.stringify(b),I=l[w].proc,R=I(_,v,y);return R},g=function(f,w,v,y){var b=l[w].eproc,_=b(f,v,y);return _};return{version:"1.0.0",parsePKCS5PEM:function(f){return m(f)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(f,w,v){return h(f,w,v)},decryptKeyB64:function(f,w,v,y){return u(f,w,v,y)},getDecryptedKeyHex:function(f,w){var v=m(f),y=v.type,b=v.cipher,_=v.ivsalt,I=v.data,R=h(b,w,_),S=R.keyhex,x=u(I,b,S,_);return x},getEncryptedPKCS5PEMFromPrvKeyHex:function(f,w,v,y,b){var C="";if((typeof y>"u"||y==null)&&(y="AES-256-CBC"),typeof l[y]>"u")throw new Error("KEYUTIL unsupported algorithm: "+y);if(typeof b>"u"||b==null){var _=l[y].ivlen,I=p(_);b=I.toUpperCase()}var R=h(y,v,b),S=R.keyhex,x=g(w,y,S,b),E=x.replace(/(.{64})/g,`$1\r
`),C="-----BEGIN "+f+` PRIVATE KEY-----\r
`;return C+=`Proc-Type: 4,ENCRYPTED\r
`,C+="DEK-Info: "+y+","+b+`\r
`,C+=`\r
`,C+=E,C+=`\r
-----END `+f+` PRIVATE KEY-----\r
`,C},parseHexOfEncryptedPKCS8:function(f){var w=M,v=w.getChildIdx,y=w.getV,b={},_=v(f,0);if(_.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+_.length);b.ciphertext=y(f,_[1]);var I=v(f,_[0]);if(I.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+I.length);if(y(f,I[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var R=v(f,I[1]);if(I.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+R.length);var S=v(f,R[1]);if(S.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+S.length);if(y(f,S[0])!="2a864886f70d0307")throw"this only supports TripleDES";b.encryptionSchemeAlg="TripleDES",b.encryptionSchemeIV=y(f,S[1]);var x=v(f,R[0]);if(x.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+x.length);if(y(f,x[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var E=v(f,x[1]);if(E.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+E.length);b.pbkdf2Salt=y(f,E[0]);var C=y(f,E[1]);try{b.pbkdf2Iter=parseInt(C,16)}catch{throw new Error("malformed format pbkdf2Iter: "+C)}return b},getPBKDF2KeyHexFromParam:function(f,w){var v=V.enc.Hex.parse(f.pbkdf2Salt),y=f.pbkdf2Iter,b=V.PBKDF2(w,v,{keySize:192/32,iterations:y}),_=V.enc.Hex.stringify(b);return _},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(f,w){var v=Pe(f,"ENCRYPTED PRIVATE KEY"),y=this.parseHexOfEncryptedPKCS8(v),b=oe.getPBKDF2KeyHexFromParam(y,w),_={};_.ciphertext=V.enc.Hex.parse(y.ciphertext);var I=V.enc.Hex.parse(b),R=V.enc.Hex.parse(y.encryptionSchemeIV),S=V.TripleDES.decrypt(_,I,{iv:R}),x=V.enc.Hex.stringify(S);return x},getKeyFromEncryptedPKCS8PEM:function(f,w){var v=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(f,w),y=this.getKeyFromPlainPrivatePKCS8Hex(v);return y},parsePlainPrivatePKCS8Hex:function(f){var w=M,v=w.getChildIdx,y=w.getV,b={};if(b.algparam=null,f.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var _=v(f,0);if(_.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(f.substr(_[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var I=v(f,_[1]);if(I.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(f.substr(I[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(b.algoid=y(f,I[0]),f.substr(I[1],2)=="06"&&(b.algparam=y(f,I[1])),f.substr(_[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return b.keyidx=w.getVidx(f,_[2]),b},getKeyFromPlainPrivatePKCS8PEM:function(f){var w=Pe(f,"PRIVATE KEY"),v=this.getKeyFromPlainPrivatePKCS8Hex(w);return v},getKeyFromPlainPrivatePKCS8Hex:function(f){var w=this.parsePlainPrivatePKCS8Hex(f),v;if(w.algoid=="2a864886f70d010101")v=new $;else if(w.algoid=="2a8648ce380401")v=new c.crypto.DSA;else if(w.algoid=="2a8648ce3d0201")v=new c.crypto.ECDSA;else throw new Error("unsupported private key algorithm");return v.readPKCS8PrvKeyHex(f),v},_getKeyFromPublicPKCS8Hex:function(f){var w,v=M.getVbyList(f,0,[0,0],"06");if(v==="2a864886f70d010101")w=new $;else if(v==="2a8648ce380401")w=new c.crypto.DSA;else if(v==="2a8648ce3d0201")w=new c.crypto.ECDSA;else throw new Error("unsupported PKCS#8 public key hex");return w.readPKCS8PubKeyHex(f),w},parsePublicRawRSAKeyHex:function(f){var w=M,v=w.getChildIdx,y=w.getV,b={};if(f.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var _=v(f,0);if(_.length!=2)throw new Error("malformed RSA key(code:002)");if(f.substr(_[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(b.n=y(f,_[0]),f.substr(_[1],2)!="02")throw new Error("malformed RSA key(code:004)");return b.e=y(f,_[1]),b},parsePublicPKCS8Hex:function(f){var w=M,v=w.getChildIdx,y=w.getV,b={};b.algparam=null;var _=v(f,0);if(_.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+_.length);var I=_[0];if(f.substr(I,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var R=v(f,I);if(R.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(f.substr(R[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(b.algoid=y(f,R[0]),f.substr(R[1],2)=="06"?b.algparam=y(f,R[1]):f.substr(R[1],2)=="30"&&(b.algparam={},b.algparam.p=w.getVbyList(f,R[1],[0],"02"),b.algparam.q=w.getVbyList(f,R[1],[1],"02"),b.algparam.g=w.getVbyList(f,R[1],[2],"02")),f.substr(_[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return b.key=y(f,_[1]).substr(2),b}}}();oe.getKey=function(t,e,i){var n=M,s=n.getChildIdx,r=n.getV,o=n.getVbyList,a=c.crypto,l=a.ECDSA,d=a.DSA,p=$,m=Pe,h=oe;if(typeof p<"u"&&t instanceof p||typeof l<"u"&&t instanceof l||typeof d<"u"&&t instanceof d)return t;if(t.curve!==void 0&&t.xy!==void 0&&t.d===void 0)return new l({pub:t.xy,curve:t.curve});if(t.curve!==void 0&&t.d!==void 0)return new l({prv:t.d,curve:t.curve});if(t.kty===void 0&&t.n!==void 0&&t.e!==void 0&&t.d===void 0){var u=new p;return u.setPublic(t.n,t.e),u}if(t.kty===void 0&&t.n!==void 0&&t.e!==void 0&&t.d!==void 0&&t.p!==void 0&&t.q!==void 0&&t.dp!==void 0&&t.dq!==void 0&&t.co!==void 0&&t.qi===void 0){var u=new p;return u.setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),u}if(t.kty===void 0&&t.n!==void 0&&t.e!==void 0&&t.d!==void 0&&t.p===void 0){var u=new p;return u.setPrivate(t.n,t.e,t.d),u}if(t.p!==void 0&&t.q!==void 0&&t.g!==void 0&&t.y!==void 0&&t.x===void 0){var u=new d;return u.setPublic(t.p,t.q,t.g,t.y),u}if(t.p!==void 0&&t.q!==void 0&&t.g!==void 0&&t.y!==void 0&&t.x!==void 0){var u=new d;return u.setPrivate(t.p,t.q,t.g,t.y,t.x),u}if(t.kty==="RSA"&&t.n!==void 0&&t.e!==void 0&&t.d===void 0){var u=new p;return u.setPublic(_e(t.n),_e(t.e)),u}if(t.kty==="RSA"&&t.n!==void 0&&t.e!==void 0&&t.d!==void 0&&t.p!==void 0&&t.q!==void 0&&t.dp!==void 0&&t.dq!==void 0&&t.qi!==void 0){var u=new p;return u.setPrivateEx(_e(t.n),_e(t.e),_e(t.d),_e(t.p),_e(t.q),_e(t.dp),_e(t.dq),_e(t.qi)),u}if(t.kty==="RSA"&&t.n!==void 0&&t.e!==void 0&&t.d!==void 0){var u=new p;return u.setPrivate(_e(t.n),_e(t.e),_e(t.d)),u}if(t.kty==="EC"&&t.crv!==void 0&&t.x!==void 0&&t.y!==void 0&&t.d===void 0){var g=new l({curve:t.crv}),f=g.ecparams.keycharlen,w=("0000000000"+_e(t.x)).slice(-f),v=("0000000000"+_e(t.y)).slice(-f),y="04"+w+v;return g.setPublicKeyHex(y),g}if(t.kty==="EC"&&t.crv!==void 0&&t.x!==void 0&&t.y!==void 0&&t.d!==void 0){var g=new l({curve:t.crv}),f=g.ecparams.keycharlen,w=("0000000000"+_e(t.x)).slice(-f),v=("0000000000"+_e(t.y)).slice(-f),y="04"+w+v,b=("0000000000"+_e(t.d)).slice(-f);return g.setPublicKeyHex(y),g.setPrivateKeyHex(b),g}if(i==="pkcs5prv"){var _=t,n=M,I,u;if(I=s(_,0),I.length===9)u=new p,u.readPKCS5PrvKeyHex(_);else if(I.length===6)u=new d,u.readPKCS5PrvKeyHex(_);else if(I.length>2&&_.substr(I[1],2)==="04")u=new l,u.readPKCS5PrvKeyHex(_);else throw new Error("unsupported PKCS#1/5 hexadecimal key");return u}if(i==="pkcs8prv"){var u=h.getKeyFromPlainPrivatePKCS8Hex(t);return u}if(i==="pkcs8pub")return h._getKeyFromPublicPKCS8Hex(t);if(i==="x509pub")return Q.getPublicKeyFromCertHex(t);if(t.indexOf("-END CERTIFICATE-",0)!=-1||t.indexOf("-END X509 CERTIFICATE-",0)!=-1||t.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Q.getPublicKeyFromCertPEM(t);if(t.indexOf("-END PUBLIC KEY-")!=-1){var R=Pe(t,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(R)}if(t.indexOf("-END RSA PRIVATE KEY-")!=-1&&t.indexOf("4,ENCRYPTED")==-1){var S=m(t,"RSA PRIVATE KEY");return h.getKey(S,null,"pkcs5prv")}if(t.indexOf("-END DSA PRIVATE KEY-")!=-1&&t.indexOf("4,ENCRYPTED")==-1){var x=m(t,"DSA PRIVATE KEY"),E=o(x,0,[1],"02"),C=o(x,0,[2],"02"),T=o(x,0,[3],"02"),k=o(x,0,[4],"02"),z=o(x,0,[5],"02"),u=new d;return u.setPrivate(new P(E,16),new P(C,16),new P(T,16),new P(k,16),new P(z,16)),u}if(t.indexOf("-END EC PRIVATE KEY-")!=-1&&t.indexOf("4,ENCRYPTED")==-1){var S=m(t,"EC PRIVATE KEY");return h.getKey(S,null,"pkcs5prv")}if(t.indexOf("-END PRIVATE KEY-")!=-1)return h.getKeyFromPlainPrivatePKCS8PEM(t);if(t.indexOf("-END RSA PRIVATE KEY-")!=-1&&t.indexOf("4,ENCRYPTED")!=-1){var F=h.getDecryptedKeyHex(t,e),N=new $;return N.readPKCS5PrvKeyHex(F),N}if(t.indexOf("-END EC PRIVATE KEY-")!=-1&&t.indexOf("4,ENCRYPTED")!=-1){var x=h.getDecryptedKeyHex(t,e),u=o(x,0,[1],"04"),D=o(x,0,[2,0],"06"),O=o(x,0,[3,0],"03").substr(2),W="";if(c.crypto.OID.oidhex2name[D]!==void 0)W=c.crypto.OID.oidhex2name[D];else throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+D);var g=new l({curve:W});return g.setPublicKeyHex(O),g.setPrivateKeyHex(u),g.isPublic=!1,g}if(t.indexOf("-END DSA PRIVATE KEY-")!=-1&&t.indexOf("4,ENCRYPTED")!=-1){var x=h.getDecryptedKeyHex(t,e),E=o(x,0,[1],"02"),C=o(x,0,[2],"02"),T=o(x,0,[3],"02"),k=o(x,0,[4],"02"),z=o(x,0,[5],"02"),u=new d;return u.setPrivate(new P(E,16),new P(C,16),new P(T,16),new P(k,16),new P(z,16)),u}if(t.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return h.getKeyFromEncryptedPKCS8PEM(t,e);throw new Error("not supported argument")};oe.generateKeypair=function(t,e){if(t=="RSA"){var i=e,n=new $;n.generate(i,"10001"),n.isPrivate=!0,n.isPublic=!0;var s=new $,r=n.n.toString(16),o=n.e.toString(16);s.setPublic(r,o),s.isPrivate=!1,s.isPublic=!0;var a={};return a.prvKeyObj=n,a.pubKeyObj=s,a}else if(t=="EC"){var l=e,d=new c.crypto.ECDSA({curve:l}),p=d.generateKeyPairHex(),n=new c.crypto.ECDSA({curve:l});n.setPublicKeyHex(p.ecpubhex),n.setPrivateKeyHex(p.ecprvhex),n.isPrivate=!0,n.isPublic=!1;var s=new c.crypto.ECDSA({curve:l});s.setPublicKeyHex(p.ecpubhex),s.isPrivate=!1,s.isPublic=!0;var a={};return a.prvKeyObj=n,a.pubKeyObj=s,a}else throw new Error("unknown algorithm: "+t)};oe.getPEM=function(t,e,i,n,s,r){var o=c,a=o.asn1,l=a.DERObjectIdentifier,d=a.DERInteger,p=a.ASN1Util.newObject,m=a.x509,h=m.SubjectPublicKeyInfo,u=o.crypto,g=u.DSA,f=u.ECDSA,w=$;function v(D){var O=p({seq:[{int:0},{int:{bigint:D.n}},{int:D.e},{int:{bigint:D.d}},{int:{bigint:D.p}},{int:{bigint:D.q}},{int:{bigint:D.dmp1}},{int:{bigint:D.dmq1}},{int:{bigint:D.coeff}}]});return O}function y(D){var O=p({seq:[{int:1},{octstr:{hex:D.prvKeyHex}},{tag:["a0",!0,{oid:{name:D.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+D.pubKeyHex}}]}]});return O}function b(D){var O=p({seq:[{int:0},{int:{bigint:D.p}},{int:{bigint:D.q}},{int:{bigint:D.g}},{int:{bigint:D.y}},{int:{bigint:D.x}}]});return O}if((w!==void 0&&t instanceof w||g!==void 0&&t instanceof g||f!==void 0&&t instanceof f)&&t.isPublic==!0&&(e===void 0||e=="PKCS8PUB")){var _=new h(t),I=_.tohex();return Me(I,"PUBLIC KEY")}if(e=="PKCS1PRV"&&w!==void 0&&t instanceof w&&(i===void 0||i==null)&&t.isPrivate==!0){var _=v(t),I=_.tohex();return Me(I,"RSA PRIVATE KEY")}if(e=="PKCS1PRV"&&f!==void 0&&t instanceof f&&(i===void 0||i==null)&&t.isPrivate==!0){var R=new l({name:t.curveName}),S=R.tohex(),x=y(t),E=x.tohex(),C="";return C+=Me(S,"EC PARAMETERS"),C+=Me(E,"EC PRIVATE KEY"),C}if(e=="PKCS1PRV"&&g!==void 0&&t instanceof g&&(i===void 0||i==null)&&t.isPrivate==!0){var _=b(t),I=_.tohex();return Me(I,"DSA PRIVATE KEY")}if(e=="PKCS5PRV"&&w!==void 0&&t instanceof w&&i!==void 0&&i!=null&&t.isPrivate==!0){var _=v(t),I=_.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",I,i,n,r)}if(e=="PKCS5PRV"&&f!==void 0&&t instanceof f&&i!==void 0&&i!=null&&t.isPrivate==!0){var _=y(t),I=_.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",I,i,n,r)}if(e=="PKCS5PRV"&&g!==void 0&&t instanceof g&&i!==void 0&&i!=null&&t.isPrivate==!0){var _=b(t),I=_.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",I,i,n,r)}var T=function(D,O){var W=k(D,O),U=new p({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:W.pbkdf2Salt}},{int:W.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:W.encryptionSchemeIV}}]}]}]},{octstr:{hex:W.ciphertext}}]});return U.tohex()},k=function(D,O){var W=100,U=V.lib.WordArray.random(8),X="DES-EDE3-CBC",ee=V.lib.WordArray.random(8),te=V.PBKDF2(O,U,{keySize:192/32,iterations:W}),Ae=V.enc.Hex.parse(D),ge=V.TripleDES.encrypt(Ae,te,{iv:ee})+"",Te={};return Te.ciphertext=ge,Te.pbkdf2Salt=V.enc.Hex.stringify(U),Te.pbkdf2Iter=W,Te.encryptionSchemeAlg=X,Te.encryptionSchemeIV=V.enc.Hex.stringify(ee),Te};if(e=="PKCS8PRV"&&w!=null&&t instanceof w&&t.isPrivate==!0){var z=v(t),F=z.tohex(),_=p({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:F}}]}),I=_.tohex();if(i===void 0||i==null)return Me(I,"PRIVATE KEY");var E=T(I,i);return Me(E,"ENCRYPTED PRIVATE KEY")}if(e=="PKCS8PRV"&&f!==void 0&&t instanceof f&&t.isPrivate==!0){var N={seq:[{int:1},{octstr:{hex:t.prvKeyHex}}]};typeof t.pubKeyHex=="string"&&N.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]});var z=new p(N),F=z.tohex(),_=p({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:F}}]}),I=_.tohex();if(i===void 0||i==null)return Me(I,"PRIVATE KEY");var E=T(I,i);return Me(E,"ENCRYPTED PRIVATE KEY")}if(e=="PKCS8PRV"&&g!==void 0&&t instanceof g&&t.isPrivate==!0){var z=new d({bigint:t.x}),F=z.tohex(),_=p({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:F}}]}),I=_.tohex();if(i===void 0||i==null)return Me(I,"PRIVATE KEY");var E=T(I,i);return Me(E,"ENCRYPTED PRIVATE KEY")}throw new Error("unsupported object nor format")};oe.getKeyFromCSRPEM=function(t){var e=Pe(t,"CERTIFICATE REQUEST"),i=oe.getKeyFromCSRHex(e);return i};oe.getKeyFromCSRHex=function(t){var e=oe.parseCSRHex(t),i=oe.getKey(e.p8pubkeyhex,null,"pkcs8pub");return i};oe.parseCSRHex=function(t){var e=M,i=e.getChildIdx,n=e.getTLV,s={},r=t;if(r.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var o=i(r,0);if(o.length<1)throw new Error("malformed CSR(code:002)");if(r.substr(o[0],2)!="30")throw new Error("malformed CSR(code:003)");var a=i(r,o[0]);if(a.length<3)throw new Error("malformed CSR(code:004)");return s.p8pubkeyhex=n(r,a[2]),s};oe.getKeyID=function(t){var e=oe,i=M;typeof t=="string"&&t.indexOf("BEGIN ")!=-1&&(t=e.getKey(t));var n=Pe(e.getPEM(t)),s=i.getIdxbyList(n,0,[1]),r=i.getV(n,s).substring(2);return c.crypto.Util.hashHex(r,"sha1")};oe.getJWK=function(t,e,i,n,s){var r,o={},a,l=c.crypto.Util.hashHex;if(typeof t=="string")r=oe.getKey(t),t.indexOf("CERTIFICATE")!=-1&&(a=Pe(t));else if(typeof t=="object")t instanceof Q?(r=t.getPublicKey(),a=t.hex):r=t;else throw new Error("unsupported keyinfo type");if(r instanceof $&&r.isPrivate)o.kty="RSA",o.n=Ne(r.n.toString(16)),o.e=Ne(r.e.toString(16)),o.d=Ne(r.d.toString(16)),o.p=Ne(r.p.toString(16)),o.q=Ne(r.q.toString(16)),o.dp=Ne(r.dmp1.toString(16)),o.dq=Ne(r.dmq1.toString(16)),o.qi=Ne(r.coeff.toString(16));else if(r instanceof $&&r.isPublic)o.kty="RSA",o.n=Ne(r.n.toString(16)),o.e=Ne(r.e.toString(16));else if(r instanceof c.crypto.ECDSA&&r.isPrivate){var d=r.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"&&d!=="P-521")throw new Error("unsupported curve name for JWT: "+d);var p=r.getPublicKeyXYHex();o.kty="EC",o.crv=d,o.x=Ne(p.x),o.y=Ne(p.y),o.d=Ne(r.prvKeyHex)}else if(r instanceof c.crypto.ECDSA&&r.isPublic){var d=r.getShortNISTPCurveName();if(d!=="P-256"&&d!=="P-384"&&d!=="P-521")throw new Error("unsupported curve name for JWT: "+d);var p=r.getPublicKeyXYHex();o.kty="EC",o.crv=d,o.x=Ne(p.x),o.y=Ne(p.y)}if(o.kty==null)throw new Error("unsupported keyinfo");return!r.isPrivate&&e!=!0&&(o.kid=c.jws.JWS.getJWKthumbprint(o)),a!=null&&i!=!0&&(o.x5c=[Ft(a)]),a!=null&&n!=!0&&(o.x5t=ei(Ft(l(a,"sha1")))),a!=null&&s!=!0&&(o["x5t#S256"]=ei(Ft(l(a,"sha256")))),o};oe.getJWKFromKey=function(t){return oe.getJWK(t,!0,!0,!0,!0)};$.getPosArrayOfChildrenFromHex=function(t){return M.getChildIdx(t,0)};$.getHexValueArrayOfChildrenFromHex=function(t){var e=M,i=e.getV,h=$.getPosArrayOfChildrenFromHex(t),n=i(t,h[0]),s=i(t,h[1]),r=i(t,h[2]),o=i(t,h[3]),a=i(t,h[4]),l=i(t,h[5]),d=i(t,h[6]),p=i(t,h[7]),m=i(t,h[8]),h=new Array;return h.push(n,s,r,o,a,l,d,p,m),h};$.prototype.readPrivateKeyFromPEMString=function(t){var e=Pe(t),i=$.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])};$.prototype.readPKCS5PrvKeyHex=function(t){var e=$.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])};$.prototype.readPKCS8PrvKeyHex=function(t){var e,i,n,s,r,o,a,l,d=M,p=d.getVbyListEx;if(d.isASN1HEX(t)===!1)throw new Error("not ASN.1 hex string");try{e=p(t,0,[2,0,1],"02"),i=p(t,0,[2,0,2],"02"),n=p(t,0,[2,0,3],"02"),s=p(t,0,[2,0,4],"02"),r=p(t,0,[2,0,5],"02"),o=p(t,0,[2,0,6],"02"),a=p(t,0,[2,0,7],"02"),l=p(t,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(e,i,n,s,r,o,a,l)};$.prototype.readPKCS5PubKeyHex=function(t){var e=M,i=e.getV;if(e.isASN1HEX(t)===!1)throw new Error("keyHex is not ASN.1 hex string");var n=e.getChildIdx(t,0);if(n.length!==2||t.substr(n[0],2)!=="02"||t.substr(n[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var s=i(t,n[0]),r=i(t,n[1]);this.setPublic(s,r)};$.prototype.readPKCS8PubKeyHex=function(t){var e=M;if(e.isASN1HEX(t)===!1)throw new Error("not ASN.1 hex string");if(e.getTLVbyListEx(t,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var i=e.getTLVbyListEx(t,0,[1,0]);this.readPKCS5PubKeyHex(i)};$.prototype.readCertPubKeyHex=function(t,e){var i,n;i=new Q,i.readCertHex(t),n=i.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var sg=new RegExp("[^0-9a-f]","gi");function Ka(t,e){for(var i="",n=e/4-t.length,s=0;s<n;s++)i=i+"0";return i+t}$.prototype.sign=function(t,e){var i=function(s){return c.crypto.Util.hashString(s,e)},n=i(t);return this.signWithMessageHash(n,e)};$.prototype.signWithMessageHash=function(t,e){var i=c.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),n=Ke(i,16),s=this.doPrivate(n),r=s.toString(16);return Ka(r,this.n.bitLength())};function Ga(t,e,i){for(var n="",s=0;n.length<e;)n+=Ge(i(dt(t+String.fromCharCode.apply(String,[(s&4278190080)>>24,(s&16711680)>>16,(s&65280)>>8,s&255])))),s+=1;return n}$.prototype.signPSS=function(t,e,i){var n=function(r){return c.crypto.Util.hashHex(r,e)},s=n(dt(t));return i===void 0&&(i=-1),this.signWithMessageHashPSS(s,e,i)};$.prototype.signWithMessageHashPSS=function(t,e,i){var n=Ge(t),s=n.length,r=this.n.bitLength()-1,o=Math.ceil(r/8),a,l=function(w){return c.crypto.Util.hashHex(w,e)};if(i===-1||i===void 0)i=s;else if(i===-2)i=o-s-2;else if(i<-2)throw new Error("invalid salt length");if(o<s+i+2)throw new Error("data too long");var d="";i>0&&(d=new Array(i),new Ot().nextBytes(d),d=String.fromCharCode.apply(String,d));var p=Ge(l(dt("\0\0\0\0\0\0\0\0"+n+d))),m=[];for(a=0;a<o-i-s-2;a+=1)m[a]=0;var h=String.fromCharCode.apply(String,m)+""+d,u=Ga(p,h.length,l),g=[];for(a=0;a<h.length;a+=1)g[a]=h.charCodeAt(a)^u.charCodeAt(a);var f=65280>>8*o-r&255;for(g[0]&=~f,a=0;a<s;a++)g.push(p.charCodeAt(a));return g.push(188),Ka(this.doPrivate(new P(g)).toString(16),this.n.bitLength())};function $a(t){for(var e in c.crypto.Util.DIGESTINFOHEAD){var i=c.crypto.Util.DIGESTINFOHEAD[e],n=i.length;if(t.substring(0,n)==i){var s=[e,t.substring(n)];return s}}return[]}$.prototype.verify=function(t,e){if(e=e.toLowerCase(),e.match(/^[0-9a-f]+$/)==null)return!1;var i=Ke(e,16),n=this.n.bitLength();if(i.bitLength()>n)return!1;var s=this.doPublic(i),r=s.toString(16);if(r.length+3!=n/4)return!1;var o=r.replace(/^1f+00/,""),a=$a(o);if(a.length==0)return!1;var l=a[0],d=a[1],p=function(h){return c.crypto.Util.hashString(h,l)},m=p(t);return d==m};$.prototype.verifyWithMessageHash=function(t,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var i=Ke(e,16);if(i.bitLength()>this.n.bitLength())return 0;var n=this.doPublic(i),s=n.toString(16).replace(/^1f+00/,""),r=$a(s);if(r.length==0)return!1;var o=r[0],a=r[1];return a==t};$.prototype.verifyPSS=function(t,e,i,n){var s=function(o){return c.crypto.Util.hashHex(o,i)},r=s(dt(t));return n===void 0&&(n=-1),this.verifyWithMessageHashPSS(r,e,i,n)};$.prototype.verifyWithMessageHashPSS=function(t,e,i,n){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var s=new P(e,16),r=function(y){return c.crypto.Util.hashHex(y,i)},o=Ge(t),a=o.length,l=this.n.bitLength()-1,d=Math.ceil(l/8),p;if(n===-1||n===void 0)n=a;else if(n===-2)n=d-a-2;else if(n<-2)throw new Error("invalid salt length");if(d<a+n+2)throw new Error("data too long");var m=this.doPublic(s).toByteArray();for(p=0;p<m.length;p+=1)m[p]&=255;for(;m.length<d;)m.unshift(0);if(m[d-1]!==188)throw new Error("encoded message does not end in 0xbc");m=String.fromCharCode.apply(String,m);var h=m.substr(0,d-a-1),u=m.substr(h.length,a),g=65280>>8*d-l&255;if(h.charCodeAt(0)&g)throw new Error("bits beyond keysize not zero");var f=Ga(u,h.length,r),w=[];for(p=0;p<h.length;p+=1)w[p]=h.charCodeAt(p)^f.charCodeAt(p);w[0]&=~g;var v=d-a-n-2;for(p=0;p<v;p+=1)if(w[p]!==0)throw new Error("leftmost octets not zero");if(w[v]!==1)throw new Error("0x01 marker not found");return u===Ge(r(dt("\0\0\0\0\0\0\0\0"+o+String.fromCharCode.apply(String,w.slice(-n)))))};$.SALT_LEN_HLEN=-1;$.SALT_LEN_MAX=-2;$.SALT_LEN_RECOVER=-2;function Q(t){var e=M,i=e.getChildIdx,n=e.getV,s=e.dump,r=e.parse,o=e.getTLV,a=e.getVbyList,l=e.getVbyListEx,d=e.getTLVbyList,p=e.getTLVbyListEx,m=e.getIdxbyList,h=e.getIdxbyListEx,u=e.getVidx,g=e.getInt,f=e.oidname,w=e.hextooidstr,v=Q,y=Pe,b;try{b=c.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var S=d(this.hex,0,[0,0]);if(S.substr(0,2)=="a0"){var x=d(S,0,[0]),E=g(x,0);if(E<0||2<E)throw new Error("malformed version field");return this.version=E+1,this.version}else return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return l(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var S=p(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(S)},this.getAlgorithmIdentifierName=function(S){for(var x in b)if(S===b[x])return x;return f(l(S,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return d(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){var S=this.getIssuer();return S.str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return d(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){var S=this.getSubject();return S.str},this.getNotBefore=function(){var S=a(this.hex,0,[0,4+this.foffset,0]);return S=S.replace(/(..)/g,"%$1"),S=decodeURIComponent(S),S},this.getNotAfter=function(){var S=a(this.hex,0,[0,4+this.foffset,1]);return S=S.replace(/(..)/g,"%$1"),S=decodeURIComponent(S),S},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return d(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var S=this.getSPKI();return S==null?null:a(S,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return m(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var S=this.getPublicKeyIdx();return m(this.hex,S,[1,0],"30")},this.getPublicKey=function(){return oe.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var S=d(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(S)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(S){var x=this.getSignatureAlgorithmField(),E=this.getSignatureValueHex(),C=d(this.hex,0,[0],"30"),T=new c.crypto.Signature({alg:x});return T.init(S),T.updateHex(C),T.verify(E)},this.parseExt=function(S){var x,E,C;if(S===void 0){if(C=this.hex,this.version!==3)return-1;x=m(C,0,[0,7,0],"30"),E=i(C,x)}else{C=Pe(S);var T=m(C,0,[0,3,0,0],"06");if(n(C,T)!="2a864886f70d01090e"){this.aExtInfo=new Array;return}x=m(C,0,[0,3,0,1,0],"30"),E=i(C,x),this.hex=C}this.aExtInfo=new Array;for(var k=0;k<E.length;k++){var z={};z.critical=!1;var F=i(C,E[k]),N=0;F.length===3&&(z.critical=!0,N=1),z.oid=e.hextooidstr(a(C,E[k],[0],"06"));var D=m(C,E[k],[1+N]);z.vidx=u(C,D),this.aExtInfo.push(z)}},this.getExtInfo=function(S){var x=this.aExtInfo,E=S;if(S.match(/^[0-9.]+$/)||(E=c.asn1.x509.OID.name2oid(S)),E!==""){for(var C=0;C<x.length;C++)if(x[C].oid===E)return x[C]}},this.getExtBasicConstraints=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("basicConstraints");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"basicConstraints"};if(x&&(C.critical=!0),S==="3000")return C;if(S==="30030101ff")return C.cA=!0,C;if(S.substr(0,12)==="30060101ff02"){var T=n(S,10),k=parseInt(T,16);return C.cA=!0,C.pathLen=k,C}throw new Error("hExtV parse error: "+S)},this.getExtNameConstraints=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("nameConstraints");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"nameConstraints"};x&&(C.critical=!0);for(var T=i(S,0),k=0;k<T.length;k++){for(var z=[],F=i(S,T[k]),N=0;N<F.length;N++){var D=o(S,F[N]),O=this.getGeneralSubtree(D);z.push(O)}var W=S.substr(T[k],2);W=="a0"?C.permit=z:W=="a1"&&(C.exclude=z)}return C},this.getGeneralSubtree=function(S){var x=i(S,0),E=x.length;if(E<1||2<E)throw new Error("wrong num elements");for(var C=this.getGeneralName(o(S,x[0])),T=1;T<E;T++){var k=S.substr(x[T],2),z=n(S,x[T]),F=parseInt(z,16);k=="80"&&(C.min=F),k=="81"&&(C.max=F)}return C},this.getExtKeyUsage=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("keyUsage");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"keyUsage"};return x&&(C.critical=!0),C.names=this.getExtKeyUsageString(S).split(","),C},this.getExtKeyUsageBin=function(S){if(S===void 0){var x=this.getExtInfo("keyUsage");if(x===void 0)return"";S=o(this.hex,x.vidx)}if(S.length!=8&&S.length!=10)throw new Error("malformed key usage value: "+S);var E="000000000000000"+parseInt(S.substr(6),16).toString(2);return S.length==8&&(E=E.slice(-8)),S.length==10&&(E=E.slice(-16)),E=E.replace(/0+$/,""),E==""&&(E="0"),E},this.getExtKeyUsageString=function(S){for(var x=this.getExtKeyUsageBin(S),E=new Array,C=0;C<x.length;C++)x.substr(C,1)=="1"&&E.push(Q.KEYUSAGE_NAME[C]);return E.join(",")},this.getExtSubjectKeyIdentifier=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("subjectKeyIdentifier");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"subjectKeyIdentifier"};x&&(C.critical=!0);var T=n(S,0);return C.kid={hex:T},C},this.getExtAuthorityKeyIdentifier=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("authorityKeyIdentifier");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"authorityKeyIdentifier"};x&&(C.critical=!0);for(var T=i(S,0),k=0;k<T.length;k++){var z=S.substr(T[k],2);if(z==="80"&&(C.kid={hex:n(S,T[k])}),z==="a1"){var F=o(S,T[k]),N=this.getGeneralNames(F);C.issuer=N[0].dn}z==="82"&&(C.sn={hex:n(S,T[k])})}return C},this.getExtExtKeyUsage=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("extKeyUsage");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"extKeyUsage",array:[]};x&&(C.critical=!0);for(var T=i(S,0),k=0;k<T.length;k++)C.array.push(f(n(S,T[k])));return C},this.getExtExtKeyUsageName=function(){var S=this.getExtInfo("extKeyUsage");if(S===void 0)return S;var x=new Array,E=o(this.hex,S.vidx);if(E==="")return x;for(var C=i(E,0),T=0;T<C.length;T++)x.push(f(n(E,C[T])));return x},this.getExtSubjectAltName=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("subjectAltName");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"subjectAltName",array:[]};return x&&(C.critical=!0),C.array=this.getGeneralNames(S),C},this.getExtIssuerAltName=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("issuerAltName");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"issuerAltName",array:[]};return x&&(C.critical=!0),C.array=this.getGeneralNames(S),C},this.getGeneralNames=function(S){for(var x=i(S,0),E=[],C=0;C<x.length;C++){var T=this.getGeneralName(o(S,x[C]));T!==void 0&&E.push(T)}return E},this.getGeneralName=function(S){var x=S.substr(0,2),E=n(S,0),C=Ge(E);if(x=="81")return{rfc822:C};if(x=="82")return{dns:C};if(x=="86")return{uri:C};if(x=="87")return{ip:Ui(E)};if(x=="a4")return{dn:this.getX500Name(E)};if(x=="a0")return{other:this.getOtherName(S)}},this.getExtSubjectAltName2=function(){var S,x,E,C=this.getExtInfo("subjectAltName");if(C===void 0)return C;for(var T=new Array,k=o(this.hex,C.vidx),z=i(k,0),F=0;F<z.length;F++)E=k.substr(z[F],2),S=n(k,z[F]),E==="81"&&(x=fe(S),T.push(["MAIL",x])),E==="82"&&(x=fe(S),T.push(["DNS",x])),E==="84"&&(x=Q.hex2dn(S,0),T.push(["DN",x])),E==="86"&&(x=fe(S),T.push(["URI",x])),E==="87"&&(x=Ui(S),T.push(["IP",x]));return T},this.getExtCRLDistributionPoints=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("cRLDistributionPoints");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"cRLDistributionPoints",array:[]};x&&(C.critical=!0);for(var T=i(S,0),k=0;k<T.length;k++){var z=o(S,T[k]);C.array.push(this.getDistributionPoint(z))}return C},this.getDistributionPoint=function(S){for(var x={},E=i(S,0),C=0;C<E.length;C++){var T=S.substr(E[C],2),k=o(S,E[C]);T=="a0"&&(x.dpname=this.getDistributionPointName(k))}return x},this.getDistributionPointName=function(S){for(var x={},E=i(S,0),C=0;C<E.length;C++){var T=S.substr(E[C],2),k=o(S,E[C]);T=="a0"&&(x.full=this.getGeneralNames(k))}return x},this.getExtCRLDistributionPointsURI=function(){var S=this.getExtCRLDistributionPoints();if(S==null)return S;for(var x=S.array,E=[],C=0;C<x.length;C++)try{x[C].dpname.full[0].uri!=null&&E.push(x[C].dpname.full[0].uri)}catch{}return E},this.getExtAIAInfo=function(){var S=this.getExtInfo("authorityInfoAccess");if(S===void 0)return S;for(var x={ocsp:[],caissuer:[]},E=i(this.hex,S.vidx),C=0;C<E.length;C++){var T=a(this.hex,E[C],[0],"06"),k=a(this.hex,E[C],[1],"86");T==="2b06010505073001"&&x.ocsp.push(fe(k)),T==="2b06010505073002"&&x.caissuer.push(fe(k))}return x},this.getExtAuthorityInfoAccess=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("authorityInfoAccess");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"authorityInfoAccess",array:[]};x&&(C.critical=!0);for(var T=i(S,0),k=0;k<T.length;k++){var z=l(S,T[k],[0],"06"),F=a(S,T[k],[1],"86"),N=fe(F);if(z=="2b06010505073001")C.array.push({ocsp:N});else if(z=="2b06010505073002")C.array.push({caissuer:N});else throw new Error("unknown method: "+z)}return C},this.getExtCertificatePolicies=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("certificatePolicies");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"certificatePolicies",array:[]};x&&(C.critical=!0);for(var T=i(S,0),k=0;k<T.length;k++){var z=o(S,T[k]),F=this.getPolicyInformation(z);C.array.push(F)}return C},this.getPolicyInformation=function(S){var x={},E=a(S,0,[0],"06");x.policyoid=f(E);var C=h(S,0,[1],"30");if(C!=-1){x.array=[];for(var T=i(S,C),k=0;k<T.length;k++){var z=o(S,T[k]),F=this.getPolicyQualifierInfo(z);x.array.push(F)}}return x},this.getOtherName=function(S){var x={},E=i(S,0),C=a(S,E[0],[],"06"),T=a(S,E[1],[]);return x.oid=c.asn1.ASN1Util.oidHexToInt(C),x.obj=r(T),x},this.getPolicyQualifierInfo=function(S){var x={},E=a(S,0,[0],"06");if(E==="2b06010505070201"){var C=l(S,0,[1],"16");x.cps=Ge(C)}else if(E==="2b06010505070202"){var T=d(S,0,[1],"30");x.unotice=this.getUserNotice(T)}return x},this.getUserNotice=function(S){for(var x={},E=i(S,0),C=0;C<E.length;C++){var T=o(S,E[C]);T.substr(0,2)!="30"&&(x.exptext=this.getDisplayText(T))}return x},this.getDisplayText=function(S){var x={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"},E={};return E.type=x[S.substr(0,2)],E.str=Ge(n(S,0)),E},this.getExtCRLNumber=function(S,x){var E={extname:"cRLNumber"};if(x&&(E.critical=!0),S.substr(0,2)=="02")return E.num={hex:n(S,0)},E;throw new Error("hExtV parse error: "+S)},this.getExtCRLReason=function(S,x){var E={extname:"cRLReason"};if(x&&(E.critical=!0),S.substr(0,2)=="0a")return E.code=parseInt(n(S,0),16),E;throw new Error("hExtV parse error: "+S)},this.getExtOcspNonce=function(S,x){var E={extname:"ocspNonce"};x&&(E.critical=!0);var C=n(S,0);return E.hex=C,E},this.getExtOcspNoCheck=function(S,x){var E={extname:"ocspNoCheck"};return x&&(E.critical=!0),E},this.getExtAdobeTimeStamp=function(S,x){if(S===void 0&&x===void 0){var E=this.getExtInfo("adobeTimeStamp");if(E===void 0)return;S=o(this.hex,E.vidx),x=E.critical}var C={extname:"adobeTimeStamp"};x&&(C.critical=!0);var T=i(S,0);if(T.length>1){var k=o(S,T[1]),z=this.getGeneralName(k);z.uri!=null&&(C.uri=z.uri)}if(T.length>2){var F=o(S,T[2]);F=="0101ff"&&(C.reqauth=!0),F=="010100"&&(C.reqauth=!1)}return C};var _=function(S){var x={};try{var E=S.seq[0].oid,C=c.asn1.x509.OID.name2oid(E);x.type=c.asn1.x509.OID.oid2atype(C);var T=S.seq[1];if(T.utf8str!=null)x.ds="utf8",x.value=T.utf8str.str;else if(T.numstr!=null)x.ds="num",x.value=T.numstr.str;else if(T.telstr!=null)x.ds="tel",x.value=T.telstr.str;else if(T.prnstr!=null)x.ds="prn",x.value=T.prnstr.str;else if(T.ia5str!=null)x.ds="ia5",x.value=T.ia5str.str;else if(T.visstr!=null)x.ds="vis",x.value=T.visstr.str;else if(T.bmpstr!=null)x.ds="bmp",x.value=T.bmpstr.str;else throw"error";return x}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},I=function(S){try{return S.set.map(function(x){return _(x)})}catch(x){throw new Error("improper ASN.1 parsed RDN: "+x)}},R=function(S){try{return S.seq.map(function(x){return I(x)})}catch(x){throw new Error("improper ASN.1 parsed X500Name: "+x)}};this.getX500NameRule=function(S){for(var x=!0,E=!0,C=!1,T="",k="",z=null,F=[],N=0;N<S.length;N++)for(var D=S[N],O=0;O<D.length;O++)F.push(D[O]);for(var N=0;N<F.length;N++){var W=F[N],U=W.ds,X=W.value,ee=W.type;if(T+=":"+U,U!="prn"&&U!="utf8"&&U!="ia5")return"mixed";if(U=="ia5"){if(ee!="CN")return"mixed";if(c.lang.String.isMail(X))continue;return"mixed"}if(ee=="C"){if(U=="prn")continue;return"mixed"}if(k+=":"+U,z==null)z=U;else if(z!==U)return"mixed"}return z??"prn"},this.getAttrTypeAndValue=function(S){var x=r(S);return _(x)},this.getRDN=function(S){var x=r(S);return I(x)},this.getX500NameArray=function(S){var x=r(S);return R(x)},this.getX500Name=function(S){var x=this.getX500NameArray(S),E=this.dnarraytostr(x);return{array:x,str:E}},this.readCertPEM=function(S){this.readCertHex(y(S))},this.readCertHex=function(S){this.hex=S,this.getVersion();try{m(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(S){var x={};return x.version=this.getVersion(),x.serial={hex:this.getSerialNumberHex()},x.sigalg=this.getSignatureAlgorithmField(),x.issuer=this.getIssuer(),x.notbefore=this.getNotBefore(),x.notafter=this.getNotAfter(),x.subject=this.getSubject(),x.sbjpubkey=Me(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo!=null&&this.aExtInfo.length>0&&(x.ext=this.getExtParamArray()),x.sighex=this.getSignatureValueHex(),typeof S=="object"&&(S.tbshex==!0&&(x.tbshex=d(this.hex,0,[0])),S.nodnarray==!0&&(delete x.issuer.array,delete x.subject.array)),x},this.getExtParamArray=function(S){if(S==null){var x=h(this.hex,0,[0,"[3]"]);x!=-1&&(S=p(this.hex,0,[0,"[3]",0],"30"))}for(var E=[],C=i(S,0),T=0;T<C.length;T++){var k=o(S,C[T]),z=this.getExtParam(k);z!=null&&E.push(z)}return E},this.getExtParam=function(S){var x={},E=i(S,0),C=E.length;if(C!=2&&C!=3)throw new Error("wrong number elements in Extension: "+C+" "+S);var T=w(a(S,0,[0],"06")),k=!1;C==3&&d(S,0,[1])=="0101ff"&&(k=!0);var z=d(S,0,[C-1,0]),F=void 0;if(T=="2.5.29.14"?F=this.getExtSubjectKeyIdentifier(z,k):T=="2.5.29.15"?F=this.getExtKeyUsage(z,k):T=="2.5.29.17"?F=this.getExtSubjectAltName(z,k):T=="2.5.29.18"?F=this.getExtIssuerAltName(z,k):T=="2.5.29.19"?F=this.getExtBasicConstraints(z,k):T=="2.5.29.30"?F=this.getExtNameConstraints(z,k):T=="2.5.29.31"?F=this.getExtCRLDistributionPoints(z,k):T=="2.5.29.32"?F=this.getExtCertificatePolicies(z,k):T=="2.5.29.35"?F=this.getExtAuthorityKeyIdentifier(z,k):T=="2.5.29.37"?F=this.getExtExtKeyUsage(z,k):T=="1.3.6.1.5.5.7.1.1"?F=this.getExtAuthorityInfoAccess(z,k):T=="2.5.29.20"?F=this.getExtCRLNumber(z,k):T=="2.5.29.21"?F=this.getExtCRLReason(z,k):T=="1.3.6.1.5.5.7.48.1.2"?F=this.getExtOcspNonce(z,k):T=="1.3.6.1.5.5.7.48.1.5"?F=this.getExtOcspNoCheck(z,k):T=="1.2.840.113583.1.1.9.1"&&(F=this.getExtAdobeTimeStamp(z,k)),F!=null)return F;var N={extname:T,extn:z};return k&&(N.critical=!0),N},this.findExt=function(S,x){for(var E=0;E<S.length;E++)if(S[E].extname==x)return S[E];return null},this.updateExtCDPFullURI=function(S,x){var E=this.findExt(S,"cRLDistributionPoints");if(E!=null&&E.array!=null){for(var C=E.array,T=0;T<C.length;T++)if(C[T].dpname!=null&&C[T].dpname.full!=null)for(var k=C[T].dpname.full,z=0;z<k.length;z++){var F=k[T];F.uri!=null&&(F.uri=x)}}},this.updateExtAIAOCSP=function(S,x){var E=this.findExt(S,"authorityInfoAccess");if(E!=null&&E.array!=null)for(var C=E.array,T=0;T<C.length;T++)C[T].ocsp!=null&&(C[T].ocsp=x)},this.updateExtAIACAIssuer=function(S,x){var E=this.findExt(S,"authorityInfoAccess");if(E!=null&&E.array!=null)for(var C=E.array,T=0;T<C.length;T++)C[T].caissuer!=null&&(C[T].caissuer=x)},this.dnarraytostr=function(S){function x(C){return C.map(function(T){return E(T).replace(/\+/,"\\+")}).join("+")}function E(C){return C.type+"="+C.value}return"/"+S.map(function(C){return x(C).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var S=function(Te){var we=JSON.stringify(Te.array).replace(/[\[\]\{\}\"]/g,"");return we},x=function(Te){for(var we="",Ie=Te.array,ye=0;ye<Ie.length;ye++){var Re=Ie[ye];if(we+="    policy oid: "+Re.policyoid+`
`,Re.array!==void 0)for(var ut=0;ut<Re.array.length;ut++){var Bt=Re.array[ut];Bt.cps!==void 0&&(we+="    cps: "+Bt.cps+`
`)}}return we},E=function(Te){for(var we="",Ie=Te.array,ye=0;ye<Ie.length;ye++){var Re=Ie[ye];try{Re.dpname.full[0].uri!==void 0&&(we+="    "+Re.dpname.full[0].uri+`
`)}catch{}try{Re.dname.full[0].dn.hex!==void 0&&(we+="    "+Q.hex2dn(Re.dpname.full[0].dn.hex)+`
`)}catch{}}return we},C=function(Te){for(var we="",Ie=Te.array,ye=0;ye<Ie.length;ye++){var Re=Ie[ye];Re.caissuer!==void 0&&(we+="    caissuer: "+Re.caissuer+`
`),Re.ocsp!==void 0&&(we+="    ocsp: "+Re.ocsp+`
`)}return we},T=Q,k,z,F;if(k=`Basic Fields
`,k+="  serial number: "+this.getSerialNumberHex()+`
`,k+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,k+="  issuer: "+this.getIssuerString()+`
`,k+="  notBefore: "+this.getNotBefore()+`
`,k+="  notAfter: "+this.getNotAfter()+`
`,k+="  subject: "+this.getSubjectString()+`
`,k+=`  subject public key info: 
`,z=this.getPublicKey(),k+="    key algorithm: "+z.type+`
`,z.type==="RSA"&&(k+="    n="+Is(z.n.toString(16)).substr(0,16)+`...
`,k+="    e="+Is(z.e.toString(16))+`
`),F=this.aExtInfo,F!=null){k+=`X509v3 Extensions:
`;for(var N=0;N<F.length;N++){var D=F[N],O=c.asn1.x509.OID.oid2name(D.oid);O===""&&(O=D.oid);var W="";if(D.critical===!0&&(W="CRITICAL"),k+="  "+O+" "+W+`:
`,O==="basicConstraints"){var U=this.getExtBasicConstraints();U.cA===void 0?k+=`    {}
`:(k+="    cA=true",U.pathLen!==void 0&&(k+=", pathLen="+U.pathLen),k+=`
`)}else if(O==="keyUsage")k+="    "+this.getExtKeyUsageString()+`
`;else if(O==="subjectKeyIdentifier")k+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(O==="authorityKeyIdentifier"){var X=this.getExtAuthorityKeyIdentifier();X.kid!==void 0&&(k+="    kid="+X.kid.hex+`
`)}else if(O==="extKeyUsage"){var ee=this.getExtExtKeyUsage().array;k+="    "+ee.join(", ")+`
`}else if(O==="subjectAltName"){var te=S(this.getExtSubjectAltName());k+="    "+te+`
`}else if(O==="cRLDistributionPoints"){var Ae=this.getExtCRLDistributionPoints();k+=E(Ae)}else if(O==="authorityInfoAccess"){var ge=this.getExtAuthorityInfoAccess();k+=C(ge)}else O==="certificatePolicies"&&(k+=x(this.getExtCertificatePolicies()))}}return k+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,k+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`,k},typeof t=="string"&&(t.indexOf("-----BEGIN")!=-1?this.readCertPEM(t):c.lang.String.isHex(t)&&this.readCertHex(t))}Q.hex2dn=function(t,e){e===void 0&&(e=0);var i=new Q,n=M.getTLV(t,e),s=i.getX500Name(t);return s.str};Q.hex2rdn=function(t,e){if(e===void 0&&(e=0),t.substr(e,2)!=="31")throw new Error("malformed RDN");for(var i=new Array,n=M.getChildIdx(t,e),s=0;s<n.length;s++)i.push(Q.hex2attrTypeValue(t,n[s]));return i=i.map(function(r){return r.replace("+","\\+")}),i.join("+")};Q.hex2attrTypeValue=function(t,e){var i=M,n=i.getV;if(e===void 0&&(e=0),t.substr(e,2)!=="30")throw new Error("malformed attribute type and value");var s=i.getChildIdx(t,e);s.length!==2||t.substr(s[0],2);var r=n(t,s[0]),o=c.asn1.ASN1Util.oidHexToInt(r),a=c.asn1.x509.OID.oid2atype(o),l=n(t,s[1]),d=Ge(l);return a+"="+d};Q.getPublicKeyFromCertHex=function(t){var e=new Q;return e.readCertHex(t),e.getPublicKey()};Q.getPublicKeyFromCertPEM=function(t){var e=new Q;return e.readCertPEM(t),e.getPublicKey()};Q.getPublicKeyInfoPropOfCertPEM=function(t){var e=M,i=e.getVbyList,n={},s,r,o;return n.algparam=null,s=new Q,s.readCertPEM(t),r=s.getPublicKeyHex(),n.keyhex=i(r,0,[1],"03").substr(2),n.algoid=i(r,0,[0,0],"06"),n.algoid==="2a8648ce3d0201"&&(n.algparam=i(r,0,[0,1],"06")),n};Q.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];var Mh=function(t){var e=c,i=e.lang.String.isHex,n=M,s=n.getV,r=n.getTLV,o=n.getVbyList,a=n.getTLVbyList,l=n.getTLVbyListEx,d=n.getIdxbyList,p=n.getIdxbyListEx,m=n.getChildIdx,h=new Q;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var u=d(this.hex,0,[0,0]),g=this.hex.substr(u,2);if(g=="02")this.posSigAlg=1;else if(g=="30")this.posSigAlg=0;else throw new Error("malformed 1st item of TBSCertList: "+g);var f=d(this.hex,0,[0,this.posSigAlg+3]),w=this.hex.substr(f,2);if(w=="17"||w=="18"){var v,y;v=d(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,v!=-1&&(y=this.hex.substr(v,2),y=="30"&&(this.posRevCert=this.posSigAlg+4))}else if(w=="30")this.posRevCert=this.posSigAlg+3;else if(w=="a0")this.posRevCert=null;else throw new Error("malformed nextUpdate or revCert tag: "+w)},this.getVersion=function(){return this.posSigAlg==0?null:parseInt(o(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var u=a(this.hex,0,[0,this.posSigAlg],"30");return h.getAlgorithmIdentifierName(u)},this.getIssuer=function(){return h.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return a(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var u=o(this.hex,0,[0,this.posSigAlg+2]);return result=Ge(u)},this.getNextUpdate=function(){var u=d(this.hex,0,[0,this.posSigAlg+3]),g=this.hex.substr(u,2);return g!="17"&&g!="18"?null:Ge(s(this.hex,u))},this.getRevCertArray=function(){if(this.posRevCert==null)return null;for(var u=[],g=d(this.hex,0,[0,this.posRevCert]),f=m(this.hex,g),w=0;w<f.length;w++){var v=r(this.hex,f[w]);u.push(this.getRevCert(v))}return u},this.getRevCert=function(u){var g={},f=m(u,0);return g.sn={hex:o(u,0,[0],"02")},g.date=Ge(o(u,0,[1])),f.length==3&&(g.ext=h.getExtParamArray(a(u,0,[2]))),g},this.findRevCert=function(u){var g=new Q(u),f=g.getSerialNumberHex();return this.findRevCertBySN(f)},this.findRevCertBySN=function(u){if(this.parsed==null&&this.getParam(),this.parsed.revcert==null)return null;for(var g=this.parsed.revcert,f=0;f<g.length;f++)if(u==g[f].sn.hex)return g[f];return null},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(u){var g=this.getSignatureAlgorithmField(),f=this.getSignatureValueHex(),w=a(this.hex,0,[0],"30"),v=new c.crypto.Signature({alg:g});return v.init(u),v.updateHex(w),v.verify(f)},this.getParam=function(u){var g={},f=this.getVersion();f!=null&&(g.version=f),g.sigalg=this.getSignatureAlgorithmField(),g.issuer=this.getIssuer(),g.thisupdate=this.getThisUpdate();var w=this.getNextUpdate();w!=null&&(g.nextupdate=w);var v=this.getRevCertArray();v!=null&&(g.revcert=v);var y=p(this.hex,0,[0,"[0]"]);if(y!=-1){var b=l(this.hex,0,[0,"[0]",0]);g.ext=h.getExtParamArray(b)}return g.sighex=this.getSignatureValueHex(),this.parsed=g,typeof u=="object"&&(u.tbshex==!0&&(g.tbshex=a(this.hex,0,[0])),u.nodnarray==!0&&delete g.issuer.array),g},typeof t=="string"&&(i(t)?this.hex=t:t.match(/-----BEGIN X509 CRL/)&&(this.hex=Pe(t)),this._setPos())};(typeof c>"u"||!c)&&(c={});(typeof c.jws>"u"||!c.jws)&&(c.jws={});c.jws.JWS=function(){var t=c,e=t.jws.JWS,i=e.isSafeJSONString;this.parseJWS=function(n,s){if(!(this.parsedJWS!==void 0&&(s||this.parsedJWS.sigvalH!==void 0))){var r=n.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(r==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var o=r[1],a=r[2],l=r[3],d=o+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=o,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=l,this.parsedJWS.si=d,!s){var p=_e(l),m=Ke(p,16);this.parsedJWS.sigvalH=p,this.parsedJWS.sigvalBI=m}var h=vt(o),u=vt(a);if(this.parsedJWS.headS=h,this.parsedJWS.payloadS=u,!i(h,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+h}}};c.jws.JWS.sign=function(t,e,i,n,s){var r=c,o=r.jws,a=o.JWS,l=a.readSafeJSONString,d=a.isSafeJSONString,p=r.crypto,m=p.ECDSA,h=p.Mac,u=p.Signature,g=JSON,f,w,v;if(typeof e!="string"&&typeof e!="object")throw"spHeader must be JSON string or object: "+e;if(typeof e=="object"&&(w=e,f=g.stringify(w)),typeof e=="string"){if(f=e,!d(f))throw"JWS Head is not safe JSON string: "+f;w=l(f)}if(v=i,typeof i=="object"&&(v=g.stringify(i)),(t==""||t==null)&&w.alg!==void 0&&(t=w.alg),t!=""&&t!=null&&w.alg===void 0&&(w.alg=t,f=g.stringify(w)),t!==w.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+w.alg;var y=null;if(a.jwsalg2sigalg[t]===void 0)throw"unsupported alg name: "+t;y=a.jwsalg2sigalg[t];var b=hi(f),_=hi(v),I=b+"."+_,R="";if(y.substr(0,4)=="Hmac"){if(n===void 0)throw"mac key shall be specified for HS* alg";var S=new h({alg:y,prov:"cryptojs",pass:n});S.updateString(I),R=S.doFinal()}else if(y.indexOf("withECDSA")!=-1){var x=new u({alg:y});x.init(n,s),x.updateString(I);var E=x.sign();R=c.crypto.ECDSA.asn1SigToConcatSig(E)}else if(y!="none"){var x=new u({alg:y});x.init(n,s),x.updateString(I),R=x.sign()}var C=Ne(R);return I+"."+C};c.jws.JWS.verify=function(t,e,i){var n=c,s=n.jws,r=s.JWS,o=r.readSafeJSONString,a=n.crypto,l=a.ECDSA,d=a.Mac,p=a.Signature,m;if(typeof $!==void 0&&(m=$),!Os(t))return!1;var h=t.split(".");if(h.length!==3)return!1;var u=h[0],g=h[1],f=u+"."+g,w=_e(h[2]),v=o(vt(h[0])),y=null,b=null;if(v.alg===void 0)throw"algorithm not specified in header";if(y=v.alg,b=y.substr(0,2),i!=null&&Object.prototype.toString.call(i)==="[object Array]"&&i.length>0){var _=":"+i.join(":")+":";if(_.indexOf(":"+y+":")==-1)throw"algorithm '"+y+"' not accepted in the list"}if(y!="none"&&e===null)throw"key shall be specified to verify.";if(typeof e=="string"&&e.indexOf("-----BEGIN ")!=-1&&(e=oe.getKey(e)),(b=="RS"||b=="PS")&&!(e instanceof m))throw"key shall be a RSAKey obj for RS* and PS* algs";if(b=="ES"&&!(e instanceof l))throw"key shall be a ECDSA obj for ES* algs";y=="none";var I=null;if(r.jwsalg2sigalg[v.alg]===void 0)throw"unsupported alg name: "+y;if(I=r.jwsalg2sigalg[y],I=="none")throw"not supported";if(I.substr(0,4)=="Hmac"){var R=null;if(e===void 0)throw"hexadecimal key shall be specified for HMAC";var S=new d({alg:I,pass:e});return S.updateString(f),R=S.doFinal(),w==R}else if(I.indexOf("withECDSA")!=-1){var x=null;try{x=l.concatSigToASN1Sig(w)}catch{return!1}var E=new p({alg:I});return E.init(e),E.updateString(f),E.verify(x)}else{var E=new p({alg:I});return E.init(e),E.updateString(f),E.verify(w)}};c.jws.JWS.parse=function(t){var e=t.split("."),i={},n,s,r;if(e.length!=2&&e.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return n=e[0],s=e[1],e.length==3&&(r=e[2]),i.headerObj=c.jws.JWS.readSafeJSONString(vt(n)),i.payloadObj=c.jws.JWS.readSafeJSONString(vt(s)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),i.payloadObj==null?i.payloadPP=vt(s):i.payloadPP=JSON.stringify(i.payloadObj,null,"  "),r!==void 0&&(i.sigHex=_e(r)),i};c.jws.JWS.verifyJWT=function(t,e,i){var n=c,s=n.jws,r=s.JWS,o=r.readSafeJSONString,a=r.inArray,l=r.includedArray;if(!Os(t))return!1;var d=t.split(".");if(d.length!=3)return!1;var p=d[0],m=d[1],h=p+"."+m,u=_e(d[2]),g=o(vt(p)),f=o(vt(m));if(g.alg===void 0)return!1;if(i.alg===void 0)throw"acceptField.alg shall be specified";if(!a(g.alg,i.alg)||f.iss!==void 0&&typeof i.iss=="object"&&!a(f.iss,i.iss)||f.sub!==void 0&&typeof i.sub=="object"&&!a(f.sub,i.sub))return!1;if(f.aud!==void 0&&typeof i.aud=="object"){if(typeof f.aud=="string"){if(!a(f.aud,i.aud))return!1}else if(typeof f.aud=="object"&&!l(f.aud,i.aud))return!1}var w=s.IntDate.getNow();return i.verifyAt!==void 0&&typeof i.verifyAt=="number"&&(w=i.verifyAt),(i.gracePeriod===void 0||typeof i.gracePeriod!="number")&&(i.gracePeriod=0),!(f.exp!==void 0&&typeof f.exp=="number"&&f.exp+i.gracePeriod<w||f.nbf!==void 0&&typeof f.nbf=="number"&&w<f.nbf-i.gracePeriod||f.iat!==void 0&&typeof f.iat=="number"&&w<f.iat-i.gracePeriod||f.jti!==void 0&&i.jti!==void 0&&f.jti!==i.jti||!r.verify(t,e,i.alg))};c.jws.JWS.includedArray=function(t,e){var i=c.jws.JWS.inArray;if(t===null||typeof t!="object"||typeof t.length!="number")return!1;for(var n=0;n<t.length;n++)if(!i(t[n],e))return!1;return!0};c.jws.JWS.inArray=function(t,e){if(e===null||typeof e!="object"||typeof e.length!="number")return!1;for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1};c.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};c.jws.JWS.isSafeJSONString=function(t,e,i){var n=null;try{return n=Da(t),typeof n!="object"||n.constructor===Array?0:(e&&(e[i]=n),1)}catch{return 0}};c.jws.JWS.readSafeJSONString=function(t){var e=null;try{return e=Da(t),typeof e!="object"||e.constructor===Array?null:e}catch{return null}};c.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(e==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]};c.jws.JWS.getJWKthumbprint=function(t){if(t.kty!=="RSA"&&t.kty!=="EC"&&t.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var e="{";if(t.kty==="RSA"){if(typeof t.n!="string"||typeof t.e!="string")throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if(t.kty==="EC"){if(typeof t.crv!="string"||typeof t.x!="string"||typeof t.y!="string")throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if(t.kty==="oct"){if(typeof t.k!="string")throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var i=dt(e),n=c.crypto.Util.hashHex(i,"sha256"),s=Ne(n);return s};c.jws.IntDate={};c.jws.IntDate.get=function(t){var e=c.jws.IntDate,i=e.getNow,n=e.getZulu;if(t=="now")return i();if(t=="now + 1hour")return i()+60*60;if(t=="now + 1day")return i()+60*60*24;if(t=="now + 1month")return i()+60*60*24*30;if(t=="now + 1year")return i()+60*60*24*365;if(t.match(/Z$/))return n(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t};c.jws.IntDate.getZulu=function(t){return ja(t)};c.jws.IntDate.getNow=function(){var t=~~(new Date/1e3);return t};c.jws.IntDate.intDate2UTCString=function(t){var e=new Date(t*1e3);return e.toUTCString()};c.jws.IntDate.intDate2Zulu=function(t){var e=new Date(t*1e3),i=("0000"+e.getUTCFullYear()).slice(-4),n=("00"+(e.getUTCMonth()+1)).slice(-2),s=("00"+e.getUTCDate()).slice(-2),r=("00"+e.getUTCHours()).slice(-2),o=("00"+e.getUTCMinutes()).slice(-2),a=("00"+e.getUTCSeconds()).slice(-2);return i+n+s+r+o+a+"Z"};(typeof c>"u"||!c)&&(c={});(typeof c.jws>"u"||!c.jws)&&(c.jws={});c.jws.JWSJS=function(){var t=c,e=t.jws,i=e.JWS,n=i.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(s){this.init();var r=s.split(".");if(r.length!=3)throw"malformed input JWS";this.aHeader.push(r[0]),this.sPayload=r[1],this.aSignature.push(r[2])},this.addSignature=function(s,r,o,a){if(this.sPayload===void 0||this.sPayload===null)throw"there's no JSON-JS signature to add.";var l=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var d=c.jws.JWS.sign(s,r,this.sPayload,o,a),p=d.split("."),m=p[0],h=p[2];this.aHeader.push(p[0]),this.aSignature.push(p[2])}catch(u){throw this.aHeader.length>l&&this.aHeader.pop(),this.aSignature.length>l&&this.aSignature.pop(),"addSignature failed: "+u}},this.verifyAll=function(s){if(this.aHeader.length!==s.length||this.aSignature.length!==s.length)return!1;for(var r=0;r<s.length;r++){var o=s[r];if(o.length!==2)return!1;var a=this.verifyNth(r,o[0],o[1]);if(a===!1)return!1}return!0},this.verifyNth=function(s,r,o){if(this.aHeader.length<=s||this.aSignature.length<=s)return!1;var a=this.aHeader[s],l=this.aSignature[s],d=a+"."+this.sPayload+"."+l,p=!1;try{p=i.verify(d,r,o)}catch{return!1}return p},this.readJWSJS=function(s){if(typeof s=="string"){var r=n(s);if(r==null)throw"argument is not safe JSON object string";this.aHeader=r.headers,this.sPayload=r.payload,this.aSignature=r.signatures}else try{if(s.headers.length>0)this.aHeader=s.headers;else throw"malformed header";if(typeof s.payload=="string")this.sPayload=s.payload;else throw"malformed signatures";if(s.signatures.length>0)this.aSignature=s.signatures;else throw"malformed signatures"}catch(o){throw"malformed JWS-JS JSON object: "+o}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return this.aHeader.length==0?1:0}};L.SecureRandom=Ot;L.rng_seed_time=Ps;L.BigInteger=P;L.RSAKey=$;L.ECDSA=c.crypto.ECDSA;L.DSA=c.crypto.DSA;L.Signature=c.crypto.Signature;L.MessageDigest=c.crypto.MessageDigest;L.Mac=c.crypto.Mac;L.Cipher=c.crypto.Cipher;L.KEYUTIL=oe;L.ASN1HEX=M;L.X509=Q;L.X509CRL=Mh;L.CryptoJS=V;L.b64tohex=ti;L.b64toBA=Fa;L.ECFieldElementFp=Be;L.ECPointFp=ae;L.ECCurveFp=Tt;L.stoBA=Oa;L.BAtos=Na;L.BAtohex=Ji;L.stohex=Ze;L.stob64=xh;L.stob64u=Eh;L.b64utos=_h;L.b64tob64u=ei;L.b64utob64=pi;L.hex2b64=Ft;L.hextob64u=Ne;L.b64utohex=_e;L.utf8tob64u=hi;L.b64utoutf8=vt;L.utf8tob64=Ah;L.b64toutf8=Ih;L.utf8tohex=Xi;L.hextoutf8=fe;L.hextorstr=Ge;L.rstrtohex=dt;L.hextob64=Ba;L.hextob64nl=za;L.b64nltohex=Ma;L.hextopem=Me;L.pemtohex=Pe;L.hextoArrayBuffer=Th;L.ArrayBuffertohex=Ph;L.zulutomsec=ks;L.zulutosec=ja;L.zulutodate=kh;L.datetozulu=Rh;L.uricmptohex=Yi;L.hextouricmp=Qi;L.ipv6tohex=_s;L.hextoipv6=As;L.hextoip=Ui;L.iptohex=Rs;L.ucs2hextoutf8=Ds;L.encodeURIComponentAll=Zi;L.newline_toUnix=Dh;L.newline_toDos=Oh;L.hextoposhex=Is;L.intarystrtohex=Nh;L.strdiffidx=Bh;L.oidtohex=Ha;L.hextooid=en;L.strpad=Ki;L.bitstrtoint=qa;L.inttobitstr=Va;L.bitstrtobinstr=Ua;L.binstrtobitstr=zh;L.isBase64URLDot=Os;L.namearraytobinstr=Gi;L.extendClass=B;L.KJUR=c;L.crypto=c.crypto;L.asn1=c.asn1;L.jws=c.jws;L.lang=c.lang});var Xa=H((ag,Ja)=>{var jh=Wa(),Lh=jh.jws.JWS;Ja.exports=class{constructor(){this.accessToken=null,this.serviceAccountKey={private_key:`-----BEGIN PRIVATE KEY-----
MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCziXpsfM5psnbj
Iwe7VwKixx9wRGPPl6FfGQyP+Oa45XCu/iPsMHNxGn0zAlhZAViguAkM6SxTdYyx
NHsltAZPtug4A7qE3ZBZew+ZbMYZZjQ/koU6tSX+YRmTpqr+bFWc+nX90/9XezfR
t1XX7DPpN8almWQOXnHB0ZeiDJ1kWbD3ZfAamAnE6Ry9ESPo/Pe5FnjMs2LYHSy/
f75VmIuCuxjz/WVmeBTNbgmetugvymdvavLrxSZ6hdB6Ewd0dMW0Zh3qjLArb/XR
DAICntfO33+/r/q751jtiBzh04o2zQQmGDJh7DbFKUDvnevkkI+/6zkSc+ff/QR7
uXcVjJaLAgMBAAECggEAAL50Ydgh+2gk6bBTVE4etj9lRc/3Tw8NptkWcGG4Fncy
pQ3ZZtRwkXPX7vibX6+d4ot3irSVON4rsF1wBcWLobilT7KuiwoeSXCi9qA46DZS
oxqEL6yFWaQSyzOyCEVLgqsovbk9mOsP8AJkVaxLCjQ4iTkiyJPjU1wjsgCjqlN/
CWNyZ+2f5fgrlAh7a5Bg/LtHzWnp/wjQ2U1Kp1mUgLZ7EfV2JG22kE3zQggKynIW
ohKOckJpMINbObp4idD8Op0/gbIobreoSimAKWxto/AHOykqiyhsUsx81S7I8mXq
EXn5a+MLfEh8o9hAr5UY/4mm7AH1LgX45Oaz9jkkyQKBgQDqnQVFFaT50KJZxCkO
iUlwBqbvA5FSuT8n12/5drYZ7zFpa+EglZ4GzfU5aGCp67bXoKbpjR05tTAYAL6p
E1PFlqnfLXtv/KQlZ5uPY+Oanahg+TMHX1b1gHwi2uTFj6yD3hYl5nlTOd12t6N1
+aTO1K1KAg/wRhuqg8ipHfQJFQKBgQDD5y+1cGJTRBGXSJJpoZuUHeqGCLF/8R+T
rRSGL1Q9lqaS+N0D4DSOuNOWMENsRA48TDr/ChXthAvEHChZzKMuAsGnBdV4/qK7
+mceqPLLulkqlRhdTrmL4snMjSaqwlNehAdloJS+M6eR4pEOPuMgVjoiSd8lAFo5
f6jjLebJHwKBgDTiok55W4/ohMBBZJPfRIuZJEYagsan9WGQwa/1H4VnErdV1xCW
SWH1SULgkXGcLcIbd6SL57ubaTTv7gqEzcxrcu1Y/ks3IvU/jqRa+vJeeZcqdWND
DYIXrWPZ/dm+0j+Db3CprE2jbJWXPaSZWpo4/LsDDf62fwQH4tKkat8lAoGActL1
3sYxi5aRLPgHgUyNESL7zHYZ++DL3lYLep8RJExB9FFT0iq/A4yH0DcXvcSiB2uz
BLvXoHDOKLNMX14XoydQdGJx/kpZ/g5GFO136jueedwL/Nzg2oIiP/fX2yytiu+e
Gk4mANnr9RE0boIjxFdmGaTs2xY6zArsZcQIyocCgYAM055vrwU40SCvIFgemstr
9ilUiNSrKW+Y/vujGRtQp9/D1QwU2n6iNsLo/gs85GzH1STsagRbsLny504oTpfs
Ovc4lNek5JiL9/JFR07pH7/F9+STOgJgcn7oUnlfd/t86Th59Gx7H0v+RkhIXbtH
FMMKkjRL/CjPolat6n41rw==
-----END PRIVATE KEY-----
`,client_email:"ocm-logger@ocm-logs.iam.gserviceaccount.com"},this.jwt="",this.googleAuthURL="https://oauth2.googleapis.com/token",this.SCOPES=["https://www.googleapis.com/auth/logging.write"],this.EXPIRES_MARGIN=1800}run(){return new Promise((e,i)=>{let n=Math.floor(Date.now()/1e3);this.getJwt(this.serviceAccountKey,n);let s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:this.jwt})};fetch(this.googleAuthURL,s).then(r=>r.json()).then(r=>{this.accessToken=r.access_token,e(this.accessToken)}).catch(r=>{i(r)})})}getJwt({client_email:e,private_key:i},n){let s={typ:"JWT",alg:"RS256"},r=n+3600,o={aud:this.googleAuthURL,iss:e,scope:this.SCOPES.join(" "),iat:n,exp:r};this.jwt=Lh.sign(s.alg,s,o,i)}}});var Bs=H((gi,Ns)=>{(function(t,e){typeof gi=="object"&&typeof Ns=="object"?Ns.exports=e():typeof define=="function"&&define.amd?define([],e):typeof gi=="object"?gi.bowser=e():t.bowser=e()})(gi,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(n,s,r){i.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:r})},i.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,s){if(1&s&&(n=i(n)),8&s||4&s&&typeof n=="object"&&n&&n.__esModule)return n;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&s&&typeof n!="string")for(var o in n)i.d(r,o,function(a){return n[a]}.bind(null,o));return r},i.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(s,"a",s),s},i.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},i.p="",i(i.s=90)}({17:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var n=i(18),s=function(){function r(){}return r.getFirstMatch=function(o,a){var l=a.match(o);return l&&l.length>0&&l[1]||""},r.getSecondMatch=function(o,a){var l=a.match(o);return l&&l.length>1&&l[2]||""},r.matchAndReturnConst=function(o,a,l){if(o.test(a))return l},r.getWindowsVersionName=function(o){switch(o){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},r.getMacOSVersionName=function(o){var a=o.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},r.getAndroidVersionName=function(o){var a=o.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},r.getVersionPrecision=function(o){return o.split(".").length},r.compareVersions=function(o,a,l){l===void 0&&(l=!1);var d=r.getVersionPrecision(o),p=r.getVersionPrecision(a),m=Math.max(d,p),h=0,u=r.map([o,a],function(g){var f=m-r.getVersionPrecision(g),w=g+new Array(f+1).join(".0");return r.map(w.split("."),function(v){return new Array(20-v.length).join("0")+v}).reverse()});for(l&&(h=m-Math.min(d,p)),m-=1;m>=h;){if(u[0][m]>u[1][m])return 1;if(u[0][m]===u[1][m]){if(m===h)return 0;m-=1}else if(u[0][m]<u[1][m])return-1}},r.map=function(o,a){var l,d=[];if(Array.prototype.map)return Array.prototype.map.call(o,a);for(l=0;l<o.length;l+=1)d.push(a(o[l]));return d},r.find=function(o,a){var l,d;if(Array.prototype.find)return Array.prototype.find.call(o,a);for(l=0,d=o.length;l<d;l+=1){var p=o[l];if(a(p,l))return p}},r.assign=function(o){for(var a,l,d=o,p=arguments.length,m=new Array(p>1?p-1:0),h=1;h<p;h++)m[h-1]=arguments[h];if(Object.assign)return Object.assign.apply(Object,[o].concat(m));var u=function(){var g=m[a];typeof g=="object"&&g!==null&&Object.keys(g).forEach(function(f){d[f]=g[f]})};for(a=0,l=m.length;a<l;a+=1)u();return o},r.getBrowserAlias=function(o){return n.BROWSER_ALIASES_MAP[o]},r.getBrowserTypeByAlias=function(o){return n.BROWSER_MAP[o]||""},r}();e.default=s,t.exports=e.default},18:function(t,e,i){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var n,s=(n=i(91))&&n.__esModule?n:{default:n},r=i(18);function o(l,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var a=function(){function l(){}var d,p,m;return l.getParser=function(h,u){if(u===void 0&&(u=!1),typeof h!="string")throw new Error("UserAgent should be a string");return new s.default(h,u)},l.parse=function(h){return new s.default(h).getResult()},d=l,m=[{key:"BROWSER_MAP",get:function(){return r.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return r.ENGINE_MAP}},{key:"OS_MAP",get:function(){return r.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return r.PLATFORMS_MAP}}],(p=null)&&o(d.prototype,p),m&&o(d,m),l}();e.default=a,t.exports=e.default},91:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var n=l(i(92)),s=l(i(93)),r=l(i(94)),o=l(i(95)),a=l(i(17));function l(p){return p&&p.__esModule?p:{default:p}}var d=function(){function p(h,u){if(u===void 0&&(u=!1),h==null||h==="")throw new Error("UserAgent parameter can't be empty");this._ua=h,this.parsedResult={},u!==!0&&this.parse()}var m=p.prototype;return m.getUA=function(){return this._ua},m.test=function(h){return h.test(this._ua)},m.parseBrowser=function(){var h=this;this.parsedResult.browser={};var u=a.default.find(n.default,function(g){if(typeof g.test=="function")return g.test(h);if(g.test instanceof Array)return g.test.some(function(f){return h.test(f)});throw new Error("Browser's test function is not valid")});return u&&(this.parsedResult.browser=u.describe(this.getUA())),this.parsedResult.browser},m.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},m.getBrowserName=function(h){return h?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},m.getBrowserVersion=function(){return this.getBrowser().version},m.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},m.parseOS=function(){var h=this;this.parsedResult.os={};var u=a.default.find(s.default,function(g){if(typeof g.test=="function")return g.test(h);if(g.test instanceof Array)return g.test.some(function(f){return h.test(f)});throw new Error("Browser's test function is not valid")});return u&&(this.parsedResult.os=u.describe(this.getUA())),this.parsedResult.os},m.getOSName=function(h){var u=this.getOS().name;return h?String(u).toLowerCase()||"":u||""},m.getOSVersion=function(){return this.getOS().version},m.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},m.getPlatformType=function(h){h===void 0&&(h=!1);var u=this.getPlatform().type;return h?String(u).toLowerCase()||"":u||""},m.parsePlatform=function(){var h=this;this.parsedResult.platform={};var u=a.default.find(r.default,function(g){if(typeof g.test=="function")return g.test(h);if(g.test instanceof Array)return g.test.some(function(f){return h.test(f)});throw new Error("Browser's test function is not valid")});return u&&(this.parsedResult.platform=u.describe(this.getUA())),this.parsedResult.platform},m.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},m.getEngineName=function(h){return h?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},m.parseEngine=function(){var h=this;this.parsedResult.engine={};var u=a.default.find(o.default,function(g){if(typeof g.test=="function")return g.test(h);if(g.test instanceof Array)return g.test.some(function(f){return h.test(f)});throw new Error("Browser's test function is not valid")});return u&&(this.parsedResult.engine=u.describe(this.getUA())),this.parsedResult.engine},m.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},m.getResult=function(){return a.default.assign({},this.parsedResult)},m.satisfies=function(h){var u=this,g={},f=0,w={},v=0;if(Object.keys(h).forEach(function(E){var C=h[E];typeof C=="string"?(w[E]=C,v+=1):typeof C=="object"&&(g[E]=C,f+=1)}),f>0){var y=Object.keys(g),b=a.default.find(y,function(E){return u.isOS(E)});if(b){var _=this.satisfies(g[b]);if(_!==void 0)return _}var I=a.default.find(y,function(E){return u.isPlatform(E)});if(I){var R=this.satisfies(g[I]);if(R!==void 0)return R}}if(v>0){var S=Object.keys(w),x=a.default.find(S,function(E){return u.isBrowser(E,!0)});if(x!==void 0)return this.compareVersion(w[x])}},m.isBrowser=function(h,u){u===void 0&&(u=!1);var g=this.getBrowserName().toLowerCase(),f=h.toLowerCase(),w=a.default.getBrowserTypeByAlias(f);return u&&w&&(f=w.toLowerCase()),f===g},m.compareVersion=function(h){var u=[0],g=h,f=!1,w=this.getBrowserVersion();if(typeof w=="string")return h[0]===">"||h[0]==="<"?(g=h.substr(1),h[1]==="="?(f=!0,g=h.substr(2)):u=[],h[0]===">"?u.push(1):u.push(-1)):h[0]==="="?g=h.substr(1):h[0]==="~"&&(f=!0,g=h.substr(1)),u.indexOf(a.default.compareVersions(w,g,f))>-1},m.isOS=function(h){return this.getOSName(!0)===String(h).toLowerCase()},m.isPlatform=function(h){return this.getPlatformType(!0)===String(h).toLowerCase()},m.isEngine=function(h){return this.getEngineName(!0)===String(h).toLowerCase()},m.is=function(h,u){return u===void 0&&(u=!1),this.isBrowser(h,u)||this.isOS(h)||this.isPlatform(h)},m.some=function(h){var u=this;return h===void 0&&(h=[]),h.some(function(g){return u.is(g)})},p}();e.default=d,t.exports=e.default},92:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var n,s=(n=i(17))&&n.__esModule?n:{default:n},r=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(a){var l={name:"Googlebot"},d=s.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/opera/i],describe:function(a){var l={name:"Opera"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/opr\/|opios/i],describe:function(a){var l={name:"Opera"},d=s.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/SamsungBrowser/i],describe:function(a){var l={name:"Samsung Internet for Android"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/Whale/i],describe:function(a){var l={name:"NAVER Whale Browser"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/MZBrowser/i],describe:function(a){var l={name:"MZ Browser"},d=s.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/focus/i],describe:function(a){var l={name:"Focus"},d=s.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/swing/i],describe:function(a){var l={name:"Swing"},d=s.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/coast/i],describe:function(a){var l={name:"Opera Coast"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var l={name:"Opera Touch"},d=s.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/yabrowser/i],describe:function(a){var l={name:"Yandex Browser"},d=s.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/ucbrowser/i],describe:function(a){var l={name:"UC Browser"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/Maxthon|mxios/i],describe:function(a){var l={name:"Maxthon"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/epiphany/i],describe:function(a){var l={name:"Epiphany"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/puffin/i],describe:function(a){var l={name:"Puffin"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/sleipnir/i],describe:function(a){var l={name:"Sleipnir"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/k-meleon/i],describe:function(a){var l={name:"K-Meleon"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/micromessenger/i],describe:function(a){var l={name:"WeChat"},d=s.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/qqbrowser/i],describe:function(a){var l={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},d=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/msie|trident/i],describe:function(a){var l={name:"Internet Explorer"},d=s.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/\sedg\//i],describe:function(a){var l={name:"Microsoft Edge"},d=s.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/edg([ea]|ios)/i],describe:function(a){var l={name:"Microsoft Edge"},d=s.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/vivaldi/i],describe:function(a){var l={name:"Vivaldi"},d=s.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/seamonkey/i],describe:function(a){var l={name:"SeaMonkey"},d=s.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/sailfish/i],describe:function(a){var l={name:"Sailfish"},d=s.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return d&&(l.version=d),l}},{test:[/silk/i],describe:function(a){var l={name:"Amazon Silk"},d=s.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/phantom/i],describe:function(a){var l={name:"PhantomJS"},d=s.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/slimerjs/i],describe:function(a){var l={name:"SlimerJS"},d=s.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var l={name:"BlackBerry"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var l={name:"WebOS Browser"},d=s.default.getFirstMatch(r,a)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/bada/i],describe:function(a){var l={name:"Bada"},d=s.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/tizen/i],describe:function(a){var l={name:"Tizen"},d=s.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/qupzilla/i],describe:function(a){var l={name:"QupZilla"},d=s.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var l={name:"Firefox"},d=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/electron/i],describe:function(a){var l={name:"Electron"},d=s.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/MiuiBrowser/i],describe:function(a){var l={name:"Miui"},d=s.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/chromium/i],describe:function(a){var l={name:"Chromium"},d=s.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/chrome|crios|crmo/i],describe:function(a){var l={name:"Chrome"},d=s.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/GSA/i],describe:function(a){var l={name:"Google Search"},d=s.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:function(a){var l=!a.test(/like android/i),d=a.test(/android/i);return l&&d},describe:function(a){var l={name:"Android Browser"},d=s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/playstation 4/i],describe:function(a){var l={name:"PlayStation 4"},d=s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/safari|applewebkit/i],describe:function(a){var l={name:"Safari"},d=s.default.getFirstMatch(r,a);return d&&(l.version=d),l}},{test:[/.*/i],describe:function(a){var l=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:s.default.getFirstMatch(l,a),version:s.default.getSecondMatch(l,a)}}}];e.default=o,t.exports=e.default},93:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var n,s=(n=i(17))&&n.__esModule?n:{default:n},r=i(18),o=[{test:[/Roku\/DVP/],describe:function(a){var l=s.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:r.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(a){var l=s.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:r.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(a){var l=s.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),d=s.default.getWindowsVersionName(l);return{name:r.OS_MAP.Windows,version:l,versionName:d}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var l={name:r.OS_MAP.iOS},d=s.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return d&&(l.version=d),l}},{test:[/macintosh/i],describe:function(a){var l=s.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),d=s.default.getMacOSVersionName(l),p={name:r.OS_MAP.MacOS,version:l};return d&&(p.versionName=d),p}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var l=s.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:r.OS_MAP.iOS,version:l}}},{test:function(a){var l=!a.test(/like android/i),d=a.test(/android/i);return l&&d},describe:function(a){var l=s.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),d=s.default.getAndroidVersionName(l),p={name:r.OS_MAP.Android,version:l};return d&&(p.versionName=d),p}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var l=s.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),d={name:r.OS_MAP.WebOS};return l&&l.length&&(d.version=l),d}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var l=s.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||s.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||s.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:r.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(a){var l=s.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:r.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(a){var l=s.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:r.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:r.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:r.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var l=s.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:r.OS_MAP.PlayStation4,version:l}}}];e.default=o,t.exports=e.default},94:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var n,s=(n=i(17))&&n.__esModule?n:{default:n},r=i(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var l=s.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",d={type:r.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(d.model=l),d}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet}}},{test:function(a){var l=a.test(/ipod|iphone/i),d=a.test(/like (ipod|iphone)/i);return l&&!d},describe:function(a){var l=s.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:r.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var l=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:r.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:r.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:r.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:r.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:r.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:r.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var n,s=(n=i(17))&&n.__esModule?n:{default:n},r=i(18),o=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:r.ENGINE_MAP.Blink};var l=s.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:r.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(a){var l={name:r.ENGINE_MAP.Trident},d=s.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:function(a){return a.test(/presto/i)},describe:function(a){var l={name:r.ENGINE_MAP.Presto},d=s.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:function(a){var l=a.test(/gecko/i),d=a.test(/like gecko/i);return l&&!d},describe:function(a){var l={name:r.ENGINE_MAP.Gecko},d=s.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:r.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var l={name:r.ENGINE_MAP.WebKit},d=s.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return d&&(l.version=d),l}}];e.default=o,t.exports=e.default}})})});var Qa=H((ug,Ya)=>{var Hh=Xa(),qh=new Hh,lg=Bs();Ya.exports=class{constructor(e,i,n,s,r,o,a){this.config=e,this.build=this.config.build,this.hostname=i,this.url=n,this.oeid=s,this.is_mobile=r,this.browser=o,this.script_tag=a,this.samplePercentage=Math.random()*100,this.willSample=this.config.hasOwnProperty("log_sample_percentage")&&this.samplePercentage<=this.config.log_sample_percentage,this.logBlacklist=['{"bidder":"ix","code":8}',"in response for appnexus","[AdSquirrel Submodule] - Unable to get AdSquirrel response","OFAC sanctioned country","Continuing without bids","consentManagement.gpp config not defined, exiting consent manager module","Activity control","is being overwritten","Request timeout after","consentManagement.gpp config not defined","FPD request size has exceeded maximum request size","missing parameters for real time module","module criteo is loading external JavaScript","Rubicon: Filtered FPD key:","User sync not allowed","Continuing without bids","No valid bid requests returned for auction","fetch encountered an error","xhr timeout after","TCF2 denied device access for","has been rendered before","criteoIdSystem: unable to sync user id","xhr error","Number of user syncs exceeded for","Bid does not meet price floor","Brightcom server returned empty/non-json response"],this.sentLogs=[]}debug(){let[e,...i]=arguments;(this.config.debug||this.config.services[e]?.debug)&&console.debug.apply(console,this.decorate(e,i))}error(){let[e,i,...n]=arguments;console.error.apply(console,this.decorate(e,i,n)),this.config?.log&&this.send("ERROR",{service:e,msg:n,error:i})}info(){let[e,...i]=arguments;(this.config.debug||this.config.services[e]?.debug)&&console.log.apply(console,this.decorate(e,i))}warn(){let[e,...i]=arguments;(this.config.debug||this.config.services[e]?.debug)&&console.warn.apply(console,this.decorate(e,i))}decorate(){let[e,...i]=arguments,n=Array.from(i).flat();return e?(n.unshift(`margin-left: 5px; display: inline-block; color: #FFF; background: ${e==="Utils"?"#006d6f":"#6B232E"}; padding: 1px 4px; border-radius: 3px;text-align:center;`),n.unshift("display: inline-block; color: #FFF; background: #D66B18; padding: 1px 4px; border-radius: 3px;text-align:center;"),n.unshift("%cOCM%c"+e)):(n.unshift("display: inline-block; color: #FFF; background: #D66B18; padding: 1px 4px; border-radius: 3px; text-align:center;"),n.unshift("%cOCM")),n}async send(e,i){if(e!=="ERROR"&&!this.willSample)return;let n=this.serializeError(i.error);if(this.checkIsSent(n))return;for(let a in this.logBlacklist)if(n.hasOwnProperty("stack")||n.hasOwnProperty("message")){if(n?.stack?.includes(this.logBlacklist[a])||n?.message?.includes(this.logBlacklist[a]))return}else if(JSON.stringify(n).includes(this.logBlacklist[a]))return;this.jwt||(this.jwt=await qh.run()),n.hasOwnProperty("stack")&&(n.stack=n.stack.split("at XMLHttpRequest.nrWrapper")[0]);let s=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r=null;if(typeof s<"u"&&typeof s.effectiveType<"u")switch(s.effectiveType){case"4g":r="4g";break;case"3g":r="3g";break;case"2g":r="2g";break;case"slow-2g":r="slow-2g";break;default:r=null}let o={method:"POST",headers:{Authorization:`Bearer ${this.jwt}`,Accept:"application/json; charset=UTF-8","Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({logName:"projects/ocm-logs/logs/ocm-js",resource:{type:"global",labels:{project_id:"ocm-logs",product:"ocm.js"}},entries:[{jsonPayload:{script_tag:this.script_tag,hostname:this.hostname,url:this.url,oeid:this.oeid,build:this.build.split(".")[1],connection:r,os:`${this.browser.os.name||""}/${this.browser.os.versionName||""}/${this.browser.os.version||""}`,browser:`${this.browser.browser.name}/${this.browser.browser.version}`||"",platform:this.browser.platform.type||"",service:i.service,browserWidth:window.innerWidth,browserHeight:window.innerHeight,msg:i.msg.join(" %% "),states:window?.OCM?.s||window.top?.OCM?.s||null,error:n,device:this.is_mobile?"mobile":"desktop",consent:window?.OCM?.hasPurposeOneConsent||window.top?.OCM?.hasPurposeOneConsent,adBlocked:window?.OCM?.adBlocked||window?.OCM?.adBlocked},severity:e}]})};return fetch("https://logging.googleapis.com/v2/entries:write",o).then(()=>{this.sentLogs.push(this.MD5(JSON.stringify(n)))})}checkIsSent(e){let i=this.MD5(JSON.stringify(e));return this.sentLogs.includes(i)}serializeError(e){try{if(e instanceof Error){let i=Object.getOwnPropertyNames(e).sort();return JSON.parse(JSON.stringify(e,i))}return e}catch{return typeof e=="string"?e:{}}}MD5(e){function i(u){for(var g,f="0123456789ABCDEF",w="",v=0;v<u.length;v++)g=u.charCodeAt(v),w+=f.charAt(g>>>4&15)+f.charAt(15&g);return w}function n(u){for(var g=Array(u.length>>2),f=0;f<g.length;f++)g[f]=0;for(f=0;f<8*u.length;f+=8)g[f>>5]|=(255&u.charCodeAt(f/8))<<f%32;return g}function s(u){for(var g="",f=0;f<32*u.length;f+=8)g+=String.fromCharCode(u[f>>5]>>>f%32&255);return g}function r(u,g){u[g>>5]|=128<<g%32,u[14+(g+64>>>9<<4)]=g;for(var f=1732584193,w=-271733879,v=-1732584194,y=271733878,b=0;b<u.length;b+=16){var _=f,I=w,R=v,S=y;w=p(w=p(w=p(w=p(w=d(w=d(w=d(w=d(w=l(w=l(w=l(w=l(w=a(w=a(w=a(w=a(w,v=a(v,y=a(y,f=a(f,w,v,y,u[b+0],7,-680876936),w,v,u[b+1],12,-389564586),f,w,u[b+2],17,606105819),y,f,u[b+3],22,-1044525330),v=a(v,y=a(y,f=a(f,w,v,y,u[b+4],7,-176418897),w,v,u[b+5],12,1200080426),f,w,u[b+6],17,-1473231341),y,f,u[b+7],22,-45705983),v=a(v,y=a(y,f=a(f,w,v,y,u[b+8],7,1770035416),w,v,u[b+9],12,-1958414417),f,w,u[b+10],17,-42063),y,f,u[b+11],22,-1990404162),v=a(v,y=a(y,f=a(f,w,v,y,u[b+12],7,1804603682),w,v,u[b+13],12,-40341101),f,w,u[b+14],17,-1502002290),y,f,u[b+15],22,1236535329),v=l(v,y=l(y,f=l(f,w,v,y,u[b+1],5,-165796510),w,v,u[b+6],9,-1069501632),f,w,u[b+11],14,643717713),y,f,u[b+0],20,-373897302),v=l(v,y=l(y,f=l(f,w,v,y,u[b+5],5,-701558691),w,v,u[b+10],9,38016083),f,w,u[b+15],14,-660478335),y,f,u[b+4],20,-405537848),v=l(v,y=l(y,f=l(f,w,v,y,u[b+9],5,568446438),w,v,u[b+14],9,-1019803690),f,w,u[b+3],14,-187363961),y,f,u[b+8],20,1163531501),v=l(v,y=l(y,f=l(f,w,v,y,u[b+13],5,-1444681467),w,v,u[b+2],9,-51403784),f,w,u[b+7],14,1735328473),y,f,u[b+12],20,-1926607734),v=d(v,y=d(y,f=d(f,w,v,y,u[b+5],4,-378558),w,v,u[b+8],11,-2022574463),f,w,u[b+11],16,1839030562),y,f,u[b+14],23,-35309556),v=d(v,y=d(y,f=d(f,w,v,y,u[b+1],4,-1530992060),w,v,u[b+4],11,1272893353),f,w,u[b+7],16,-155497632),y,f,u[b+10],23,-1094730640),v=d(v,y=d(y,f=d(f,w,v,y,u[b+13],4,681279174),w,v,u[b+0],11,-358537222),f,w,u[b+3],16,-722521979),y,f,u[b+6],23,76029189),v=d(v,y=d(y,f=d(f,w,v,y,u[b+9],4,-640364487),w,v,u[b+12],11,-421815835),f,w,u[b+15],16,530742520),y,f,u[b+2],23,-995338651),v=p(v,y=p(y,f=p(f,w,v,y,u[b+0],6,-198630844),w,v,u[b+7],10,1126891415),f,w,u[b+14],15,-1416354905),y,f,u[b+5],21,-57434055),v=p(v,y=p(y,f=p(f,w,v,y,u[b+12],6,1700485571),w,v,u[b+3],10,-1894986606),f,w,u[b+10],15,-1051523),y,f,u[b+1],21,-2054922799),v=p(v,y=p(y,f=p(f,w,v,y,u[b+8],6,1873313359),w,v,u[b+15],10,-30611744),f,w,u[b+6],15,-1560198380),y,f,u[b+13],21,1309151649),v=p(v,y=p(y,f=p(f,w,v,y,u[b+4],6,-145523070),w,v,u[b+11],10,-1120210379),f,w,u[b+2],15,718787259),y,f,u[b+9],21,-343485551),f=m(f,_),w=m(w,I),v=m(v,R),y=m(y,S)}return[f,w,v,y]}function o(u,g,f,w,v,y){return m(h(m(m(g,u),m(w,y)),v),f)}function a(u,g,f,w,v,y,b){return o(g&f|~g&w,u,g,v,y,b)}function l(u,g,f,w,v,y,b){return o(g&w|f&~w,u,g,v,y,b)}function d(u,g,f,w,v,y,b){return o(g^f^w,u,g,v,y,b)}function p(u,g,f,w,v,y,b){return o(f^(g|~w),u,g,v,y,b)}function m(u,g){var f=(65535&u)+(65535&g);return(u>>16)+(g>>16)+(f>>16)<<16|65535&f}function h(u,g){return u<<g|u>>>32-g}return i(s(r(n(e),8*e.length)))}}});var tl=H((hg,el)=>{var Za="stickies_manager";el.exports=class{constructor(e,i){this.utils=e,this.config=i,this.services_with_stickies={...this.utils.window?.OCM?.sws}}run(){this.utils.log.info(Za,"Running..."),this.setup()}setup(){this.services_with_stickies={aniview:!1,story_teller_v2:!1},this.updateGlobalState(this.services_with_stickies),this.listen()}listen(){this.utils.window.addEventListener("message",e=>{let{data:i}=e;i.type==="stickies_sync"&&(this.utils.log.info(Za,"A new stickies_sync event has received: ",i),this.set(i.service,i.value))})}updateGlobalState(e){this.utils.window.OCM=this.utils.window.OCM||{},this.utils.window.OCM.sws={...e}}set(e,i){this.services_with_stickies[e]=i,this.updateGlobalState(this.services_with_stickies)}}});var nl=H((gg,il)=>{Sa();var Vh=xa(),pe="Utils",Uh="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",Kh=Qa(),Gh=gs(),$h=Bs(),Wh=tl();il.exports=class{constructor(e){this.config=e,this.start=new Date,this.script_tag=e.script_tag,this.window=this.config.hasOwnProperty("use_window_top")?this.config.use_window_top?window.top:window:window.top,this.doc_head=this.window.document.head||this.window.document.getElementsByTagName("head")[0],this.doc_body=this.window.document.body||this.window.document.getElementsByTagName("body")[0],this.hostname=this.window.location.hostname.replace("www.",""),this.url=this.window.location.href,this._oeid=Gh.v4(),this._oeid_time=Date.now(),this.is_mobile=Vh({tablet:!0}),this.browser=$h.parse(this.window.navigator.userAgent),this.is_bot=ba(this.window.navigator.userAgent),this.log=new Kh(this.config,this.hostname,this.url,this._oeid,this.is_mobile,this.browser,this.script_tag),this.screen_width=this.is_mobile?this.mobileScreenWidth():this.desktopScreenWidth(),this.screen_height=this.is_mobile?this.mobileScreenHeight():this.desktopScreenHeight(),this.reaper_data=null,this.shouldLogError=Math.random()<.01,this.canUseLocalStorage=this.isLocalStorageAvailable(),this.isIOS=this.detectIOS(),this.calculateLoggingSamples(),this.ocmGoneMadPreview(),new Wh(this,e).run()}isMobile(){return this.is_mobile}isLocalStorageAvailable(){let e="can-i-squeeze-in";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}hasJsonStructure(e){try{JSON.parse(e)}catch{return!1}return!0}isAdBlocked(){return new Promise(e=>{this.log.info(pe,"Checking for Adblock..."),fetch(Uh,{method:"HEAD",mode:"no-cors"}).then(s=>{(s.status===0||s.status===200)&&e(!1),s.redirected&&e(!0)}).catch(s=>{e(!0)})})}contentLoaded(){return this.log.info(pe,"Checking for DOMContentLoaded..."),new Promise(e=>{let i=()=>{/^(?:loaded|interactive|complete)$/.test(document.readyState)&&(this.doc_body=this.doc_body||this.window.document.body||this.window.document.getElementsByTagName("body")[0],this.doc_body&&document.removeEventListener("readystatechange",i),e())};document.addEventListener("readystatechange",i),i()})}isSlotInViewport(e){let i,n=this.window.document.getElementById(e),s=!1,r=0;if(!n||typeof n>"u")return!1;if(n.style.display==="none"?(n.style.display="block",i=n.getBoundingClientRect(),n.style.display="none"):i=n.getBoundingClientRect(),s=i.height>=600,i.top>=0&&i.left>=0&&i.bottom<=(this.window.innerHeight||this.window.document.documentElement.clientHeight)&&i.right<=(this.window.innerWidth||this.window.document.documentElement.clientWidth))return!0;if(i.top<0&&i.left>=0){if(r=(i.height-Math.abs(i.top))/i.height*100,s){if(r>=67)return!0}else if(r>=51)return!0}if(i.bottom>=(this.window.innerHeight||this.window.document.documentElement.clientHeight)&&i.left>=0){if(r=(i.height-(i.bottom-(this.window.innerHeight||this.window.documentElement.clientHeight)))/i.height*100,s){if(r>=67)return!0}else if(r>=51)return!0}return!1}isSlotVisible(e){let i=this.window.document.getElementById(e);return i?!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length):!1}gptApiReady(){return this.log.info(pe,"Checking for googletag.apiReady..."),new Promise((e,i)=>{let n=s=>{if(this.window.googletag&&this.window.googletag.apiReady)e();else{if(!s)return i("OCM gptApiReady: Max tries reached");setTimeout(n.bind(null,s-1),50)}};n(40)})}gptPubAdsReady(){return this.log.info(pe,"Checking for googletag.pubadsReady..."),new Promise((e,i)=>{let n=s=>{if(this.window.googletag&&this.window.googletag.pubadsReady)e();else{if(!s)return i("OCM gptPubAdsReady: Max tries reached");setTimeout(n.bind(null,s-1),200)}};n(50)})}throttle(e,i){let n=Date.now();return function(){n+i-Date.now()<0&&(e(),n=Date.now())}}allowedPageType(e){return this.log.info(pe,"checking for page type validity",e,this.window.OCM.pageType),this.window.OCM.pageType==="Block"?!1:e.includes("ROS")?!0:e.includes(this.window.OCM.pageType)}mobileScreenWidth(){return this.log.info(pe,"Resolving screen width..."),this.window.innerWidth||this.window.document.documentElement.clientWidth||this.window.document.body.clientWidth}desktopScreenWidth(){return this.log.info(pe,"Resolving screen width..."),this.isRetina()?window.top.devicePixelRatio/2*(this.window.innerWidth||this.window.document.documentElement.clientWidth||this.window.document.body.clientWidth):window.top.devicePixelRatio*(this.window.innerWidth||this.window.document.documentElement.clientWidth||this.window.document.body.clientWidth)}mobileScreenHeight(){return this.log.info(pe,"Resolving screen height..."),this.window.innerHeight||this.window.document.documentElement.clientHeight||this.window.document.body.clientHeight}desktopScreenHeight(){return this.log.info(pe,"Resolving screen height..."),this.isRetina()?window.top.devicePixelRatio/2*(this.window.innerHeight||this.window.document.documentElement.clientHeight||this.window.document.body.clientHeight):window.top.devicePixelRatio*(this.window.innerHeight||this.window.document.documentElement.clientHeight||this.window.document.body.clientHeight)}isRetina(){return(window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>=2)&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent)}loadStyle(e){this.log.info(pe,"Loading style...",e.substring(0,100));let i=document.createElement("style");i.appendChild(document.createTextNode(e)),this.doc_head.appendChild(i)}loadImage(e,i){this.log.info(pe,"Loading image...",e);let n=document.createElement("img");n.src=e,i==="body"?this.doc_body.insertBefore(n,this.doc_body.firstChild):this.doc_head.appendChild(n)}loadScript(e,i,n,s,r){this.log.info(pe,"Loading script...",e);let o=document.createElement("script");o.type=i,o.src=e,n===1&&(o.async="true"),s!==""&&(o.class=s),r==="body"?this.doc_body.insertBefore(o,this.doc_body.firstChild):this.doc_head.appendChild(o)}determineInjectionTarget(e,i=0,n=0,s=0,r=0){this.log.info(pe,"determineInjectionTarget",e,i,n,s,r);let o=null;if(e===""||!e)return o;let a;return typeof e=="string"?a=this.window.document.querySelectorAll(e):typeof e=="object"&&(a=e.length===void 0?[e]:e),s===0?a.length&&a.length>=n&&(i?i===-1?o=a[a.length-1]:o=a[i]:o=a[0]):o=this.getParagraphAt(s,r,a),o}injectTag(e,i,n){this.log.info(pe,"Injecting tag",e,i,n);let s=null;switch(n){case"insertInsideStart":s=e.insertAdjacentElement("afterbegin",i);break;case"insertInside":s=e.appendChild(i);break;case"insertAfter":s=e.parentNode.insertBefore(i,e.nextElementSibling);break;case"insertBefore":s=e.parentNode.insertBefore(i,e);break;default:break}return s}calculateBidderTimeout(){let e=this.config.services.header_bidding.timeout;return this.log.info("Header Bidding","bidderTimeout = "+this.config.services.header_bidding.timeout),this.isMobile()&&(e*=2,this.log.info("Header Bidding","Mobile device, so bidderTimeout = ",e)),e}getParagraphAt(e,i,n){let s=0,r=0;for(let o of n)s=s+o.innerHTML.split(/\s+/).length;if(s>=i){for(let o of n)if(r=r+o.innerHTML.split(/\s+/).length,r>=e)return o}return null}getParameterByName(e){let i=this.window.location.href;e=e.replace(/[\[\]]/g,"\\$&");let s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(i);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}waitFor(e,i,n=50,s){let r=e.split(".");if(!r.length){typeof s=="function"&&s();return}let o=a=>{if(a===0){typeof s=="function"&&s();return}let l=null;r.forEach(d=>{l===null||typeof l>"u"?l=typeof this.window[d]<"u"?this?.window[d]:null:l=l[d]}),l!==null?typeof i=="function"&&i():setTimeout(()=>o(a-1),100)};o(n)}getUniqueListBy(e,i){return[...new Map(e.map(n=>[n[i],n])).values()]}getUnique(e,i){return e.map(n=>n[i]).map((n,s,r)=>r.indexOf(n)===s&&s).filter(n=>e[n]).map(n=>e[n])}async parseRss(e){return new Promise(async(i,n)=>{await fetch(e).then(s=>s.text()).then(s=>new this.window.DOMParser().parseFromString(s,"text/xml")).then(s=>{try{let r=[],o=s.querySelectorAll("item, entry"),a=!1;return s.querySelector("feed")?.getAttribute("xmlns")?.indexOf("Atom")>-1&&(a=!0),Array.from(o).forEach(l=>{this.log.info(pe,"Fetched RSS item",l);let d=l.querySelector("title"),p=l.querySelector("link"),m=l.querySelector("image"),h=l.querySelector("[url][width][height]"),u=l.querySelector("enclosure"),g=l.querySelector("description"),f=l.getElementsByTagName("media:content").length>0?l.getElementsByTagName("media:content").item(0):null,w=l.getElementsByTagName("media:thumbnail").length>0?l.getElementsByTagName("media:thumbnail").item(0):null;if(a){d=l.querySelector("title"),m=l.querySelector('link[type="image/jpeg"], link[type="image/png"], link[type="image/jpg"]')?.getAttribute("href"),p=l.querySelector('link[rel="alternate"]')?.getAttribute("href"),r.push({title:d?d.innerHTML.replace("//<![CDATA[","").replace("//]]>","").replace("<![CDATA[","").replace("]]>",""):"",link:p||"",image:m});return}if(!d||!p)return this.log.warn(pe,"Failed to get title or url element",l),n("Failed to get title or url element");let v="";m?(v=m.innerHTML,m.querySelector("url")&&(v=m.querySelector("url").innerHTML),v.indexOf("<url>")>-1&&(v=v.replace("<url>","").replace("</url>",""))):h&&h.getAttribute("url").length?v=h.getAttribute("url"):u&&u.getAttribute("url").length?v=u.getAttribute("url"):f?v=f.getAttribute("url"):w?v=w.getAttribute("url"):g&&(v=this.extractImageFromDescription(l.innerHTML)),v.length&&r.push({title:d?d.innerHTML.replace("//<![CDATA[","").replace("//]]>","").replace("<![CDATA[","").replace("]]>",""):"",link:p?p.innerHTML.replace("//<![CDATA[","").replace("//]]>","").replace("<![CDATA[","").replace("]]>",""):"",image:v})}),r=this.getUnique(r,"link"),r=r.filter(l=>l&&l.link&&l.link!==this.window.location.href),r=r.sort(()=>.5-Math.random()).slice(0,10),this.log.info(pe,"RSS items: ",r),r.length?i(r):n("No RSS items fetched")}catch(r){return n(r)}})})}extractImageFromDescription(e){let i=/img[^>]+src=['"]([^">]+)['"]/gm,n=e.matchAll(i);for(let s of n)if(typeof s[1]<"u")return s[1];return""}clipHiddenOverflows(e,i){let n=o=>this.window.getComputedStyle(o).overflow==="hidden",s=e;i||this.log.info(pe,"** Overflow check commence!",s);let r=i||s;if(n(s)&&s.tagName!=="BODY"){this.log.warn(pe,"Overflow found on:",s.tagName,{issue:"OVERFLOW IS HIDDEN",tagName:s.tagName,id:s.id,class:s.className,element:s});let o=s.getAttribute("style");s.setAttribute("style",o+"; overflow:clip !important")}if(s.parentElement)return this.clipHiddenOverflows(s.parentElement,r);this.log.info(pe,"Overflow check complete! original element:",r)}calculateLoggingSamples(){let e=Math.floor(Math.random()*100);this.willSampleWarnings=e<2,this.willSampleErrors=e<10}getRandomString(e=7){return(Math.random()+1).toString(36).substring(e)}ocmGoneMadPreview(){let e=this.getParameterByName("campaign_id"),i=this.getParameterByName("adformat");e&&e!==""&&i&&i!==""&&this.contentLoaded().then(()=>{let n=document.createElement("script");n.id="ocm-gone-mad-sdk",n.src=`https://ads.orangeclickmedia.com/ogm/ocm-gone-mad.v2.min.js?campaign_id=${e}&adformat=${i}&cb=${new Date().getTime()}`,this.doc_body.append(n),this.updateState("ocm_gone_mad_preview",!0),this.log.info(pe,"Loading ocm gone mad preview...")})}lazyLoad(e,i,n){let s=new IntersectionObserver((o,a)=>{o.forEach(l=>{l.isIntersecting&&l.intersectionRatio>=0&&n&&typeof n=="function"&&(n(l),a.unobserve(l.target))})},i),r=this.window.document.querySelector(e);r?s.observe(r):this.log.info(pe+"Could not find defined selector: "+e)}adjustLazyLoadOffset(e,i=!1){let n=navigator.connection||navigator.mozConnection||navigator.webkitConnection,s=e,r=this.window.navigator.userAgent.indexOf("Safari")!==-1||this.window.navigator.userAgent.indexOf("Firefox")!==-1||this.window.navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode;if(this.log.info(pe,"isSafariOrFirefoxOrIE: ",r),!r&&(!n||n&&!n.effectiveType))return s;if(!i&&this.is_mobile&&(s=s*2),!r||n&&n.effectiveType)switch(n.effectiveType){case"2g":s=Math.round(s*5);break;case"3g":s=Math.round(s*1.38);break;default:break}return this.log.info(pe,"Adjusted offset: ",s),s}measurePerformance(){let e=(n,s)=>{n.getEntries().forEach(r=>{r.entryType==="measure"&&r.name.includes("ocm_")&&this.log.info("Performance",`${r.name.replace("ocm_","")}'s duration: ${r.duration.toFixed(2)} ms`)})};new PerformanceObserver(e).observe({entryTypes:["measure","mark"]})}updateState(e,i){this.window.OCM=this.window.OCM||{},this.window.OCM.s=this.window.OCM.s||{},this.window.OCM.s[e]=i}isGoogle(){return navigator.userAgent.includes("Lighthouse")||navigator.userAgent.includes("Chrome-Lighthouse")||navigator.userAgent.includes("Googlebot")}isBot(){return this.browser.browser.name.includes("bot")||this.browser.browser.name.includes("spider")}detectIOS(){let e=window.top?.navigator;if(!e)return!1;let i=e.userAgent||e.vendor||window.top?.opera;return i&&(/iPad|iPhone|iPod/.test(i)&&!window.top?.MSStream||/Macintosh|Mac OS X/.test(i))}clone(e){let i=Array.isArray(e)?[]:{};for(let n in e){let s=e[n];s&&typeof s=="object"?i[n]=this.clone(s):i[n]=s}return i}getAdDivElement(e){let i=this.window.document.getElementById(e)||this.window.document.querySelector('[data-oau-code="'+e+'"]')||null;if(!i)try{let n=this.window.googletag.pubads().getSlots().filter(s=>s.getAdUnitPath()===e);n.length&&typeof n[0]=="object"&&(i=this.window.document.getElementById(n[0].getSlotElementId()))}catch{}return i}setMaxWidthForNatives(e){let i=this.window.ocmpbjs.adUnits.filter(n=>n.code===e)[0];if(i&&i.media_types.includes("native")){let n=i.sizes.sort((r,o)=>o[0]-r[0])[0][0],s=this.getAdDivElement(i.code);s&&(s.style.width=`${n}px`,s.style.maxWidth=`${n}px`,s.style.margin="0 auto")}}setFrequencyCap(e,i){if(this.log.info(pe,`Setting frequency cap in localStorage for ${e}, with ${i} seconds`),!this.canUseLocalStorage)return null;try{let n=Math.round(new Date().getTime()/1e3)+i;return this.window.localStorage.setItem(e,String(n)),n}catch{return null}}isFrequencyCapped(e){if(this.log.info(pe,`Checking if ${e} is frequency capped`),!this.canUseLocalStorage)return!0;let i=Math.round(new Date().getTime()/1e3),n=!0;try{let s=this.window.localStorage.getItem(e);this.log.info(pe,`Frequency cap for ${e} is:`,s),s?i>parseInt(s)&&(n=!1):n=!1}catch(s){this.log.error(pe,`Error checking frequency cap for ${e}:`,s),n=!0}return n?this.log.info(pe,`${e} is frequency capped`):this.log.info(pe,`${e} is not frequency capped`),n}}});var rl=H((mg,sl)=>{var Nt={page_sense:{depends_on:[],blocks:[],misc:{priority:0}},reaper:{depends_on:["page_sense"],blocks:[],misc:{priority:1}},lazyload:{depends_on:[],blocks:["header_bidding"],misc:{priority:2}},header_bidding:{depends_on:["page_sense"],blocks:[],misc:{priority:3}},fizz:{depends_on:[],blocks:[],misc:{priority:4}},mwi:{depends_on:["gptInit"],blocks:[],misc:{priority:4}},rewarded_ad:{depends_on:["gptInit"],blocks:[],misc:{priority:4}},injected_tags:{depends_on:[],blocks:[],misc:{priority:4}},sticky:{depends_on:[],blocks:[],misc:{priority:4}},mobile_inread_sticky:{depends_on:[],blocks:[],misc:{priority:4}},in_image:{depends_on:[],blocks:[],misc:{priority:4}},outbrain:{depends_on:[],blocks:[],misc:{priority:4}},story_teller_v2:{depends_on:[],blocks:[],misc:{priority:4}},aniview:{depends_on:[],blocks:[],misc:{priority:4}},advertorials:{depends_on:[],blocks:[],misc:{priority:4}},custom_code:{depends_on:[],blocks:[],misc:{priority:5}},blockthrough:{depends_on:["is_ad_blocked"],blocks:[],misc:{priority:6}},fou_analytics:{depends_on:[],blocks:[],misc:{priority:6}},adlightning:{depends_on:[],blocks:[],misc:{priority:6}},teads_analytics:{depends_on:[],blocks:[],misc:{priority:6}},ocm_chrome_ext:{depends_on:[],blocks:[],misc:{priority:7}},ocm_interstitial:{depends_on:["header_bidding"],blocks:[],misc:{priority:7}}};sl.exports=()=>{let t=[];for(let i in Nt)t.includes(Nt[i].misc.priority)||t.push(Nt[i].misc.priority);t.sort();let e=[];for(let i of t){e[i]=[];for(let n in Nt)Nt[n].misc.priority===t[i]&&(e[i].push({name:n,depends_on:Nt[n].depends_on,blocks:Nt[n].blocks,misc:Nt[n].misc}),e[i].sort((s,r)=>s.depends_on.length>0))}return e}});var al=H((vg,ol)=>{var Jh=async t=>new Promise((e,i)=>{let n=window.ocm_page_type||"ROS";t.loadStyle(".ocm-sticky.bottom {z-index:1998 !important}");let s=document.createElement("style");s.textContent=`
  .ocm-sticky.left { 
    bottom: 0 !important; 
    top: auto !important;
    height: auto !important;
  }
  .ocm-sticky.left > * {
    position: relative !important;
  }
`,document.head.appendChild(s),e(n)});ol.exports=Jh});var ul=H((wg,dl)=>{var zs="custom_code",ll=Pi(),Xh=ji(),Yh=t=>new Promise((e,i)=>{try{t.getParameterByName("inread_demo")==1?ef(t):t.contentLoaded().then(()=>{let n=document.querySelectorAll(".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol");if(t.getParameterByName("ma_vid")=="1"){let r=t.getParagraphAt(200,400,n);t.config.services.aniview.mobile.rules.selector=r,t.config.services.aniview.desktop.rules.selector=r,t.config.services.aniview.active=!0,new ll(t,t.config).run()}else Qh(t);n.length===8&&(t.config.services.injected_tags.tags[0].conditions.position=7,t.config.services.injected_tags.tags[0].conditions.count_gt=0),new Xh(t,t.config).run()}),e(!0)}catch(n){i(n)}}),Qh=t=>{t.getParameterByName("vast_url")||(t.log.info(zs,"Running teads"),function(e,i){try{i=e.top.document||i,e=e.top.document?e.top:e}catch{}let n=null;var s=document.querySelectorAll(".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol");if(s.length>=15&&(n=s[13]),!n){t.log.info(zs,"no teads slot found. Terminating.");return}t.log.info(zs,"teads slot",n);var r=function(){e.teads.page(227239).placement(243896,{slider:{allow_corner_position:!0,allow_top_position:!0},css:"margin: 0px 0px 20px 0px; max-width: 650px;",format:"inread",slot:{selector:n,minimum:0}}).passback(function(){window.OCM.oipb=()=>{Zh(n)},t.config.services.aniview.desktop.rules.selector=n,t.config.services.aniview.mobile.rules.selector=n,t.config.services.aniview.active=!0,new ll(t,t.config).run()}).serve()};if(e.teads&&e.teads.page)r();else if(e.teadsscript)e.teadsscript.addEventListener("load",r);else{var o=document.createElement("script");o.src="https://s8t.teads.tv/media/format/v3/teads-format.min.js",o.async=!0,o.onload=r,e.teadsscript=i.getElementsByTagName("head")[0].appendChild(o)}}(window,document))},Zh=t=>{typeof t>"u"||(googletag=window.googletag||{cmd:[]},googletag.cmd.push(function(){var e=googletag.sizeMapping().addSize([0,0],[[1,1],[300,250]]).addSize([400,0],[[1,1],[300,250],[336,280]]).build();googletag.defineSlot("/65246246/timesofmalta.com/inread_pb",[[1,1],[300,250],[336,280]],"ocm-outstream").defineSizeMapping(e).addService(googletag.pubads());var i=document.createElement("div");i.setAttribute("style","display:inline-block; margin-bottom:20px; width:100%; text-align:center;");var n=document.createElement("div");n.id="ocm-outstream";var s=document.createElement("script");s.text='googletag.cmd.push(function(){ googletag.display("ocm-outstream"); })',i.append(n),t.parentNode.insertBefore(i,t.nextElementSibling),n.append(s)}))},ef=t=>{t.loadStyle(".teads-inread {max-width: 650px!important; margin: 10px auto;} ");var e=t.getParameterByName("vastUrl")||"https://a.teads.tv/vast/preview/592220",i=112951,n=1,s=!1,r=!1,o="no";t.getParameterByName("view_to_start")==1&&(n=122779),t.getParameterByName("smart")==1&&(n=122781,s=!0,window.DO_BYPASS_DO_FORCE_SMART=!0),t.getParameterByName("slider")==1&&(n=122782,r=!0,s=!0);var a=document.querySelectorAll(".ar-Article_Content > p, .ar-Article_Content > ul, .ar-Article_Content > ol");let l=t.getParagraphAt(200,400,a);var d=1,p="inread";window._ttp={},window._ttp[i]=[{slider:{allow_corner_position:!0,allow_top_position:!0},pid:n,format:p,parentWindow:!1,slot:{selector:l,minimum:1,btf:!1,css:"margin: 0px auto 25px; max-width: 650px !important;"}}],window._tta={},window._tta[i]=[{type:"VastUrl",content:e,portfolio_item_id:1,settings:{values:{pageId:i,placementId:n,placementFormat:p,threshold:50,adType:"video"},components:{credits:{display:!1,text:"",link:"#"},closeButton:{display:!0}},behaviors:{onlyNative:!1,smartPosition:{corner:s,top:s},slider:{enable:r},videoPause:o}}}];var m=document.createElement("script");m.src="//a.teads.tv/media/format/v3/teads-format.js",document.head.appendChild(m)};dl.exports=Yh});var Gs=-1,on=function(t){addEventListener("pageshow",function(e){e.persisted&&(Gs=e.timeStamp,t(e))},!0)},$s=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},an=function(){var t=$s();return t&&t.activationStart||0},wi=function(t,e){var i=$s(),n="navigate";return Gs>=0?n="back-forward-cache":i&&(document.prerendering||an()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Ws=function(t,e,i){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(s){Promise.resolve().then(function(){e(s.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},i||{})),n}}catch{}},yi=function(t,e,i,n){var s,r;return function(o){e.value>=0&&(o||n)&&((r=e.value-(s||0))||s===void 0)&&(s=e.value,e.delta=r,e.rating=function(a,l){return a>l[1]?"poor":a>l[0]?"needs-improvement":"good"}(e.value,i),t(e))}},Js=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},Xs=function(t){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&t()})},Ys=function(t){var e=!1;return function(){e||(t(),e=!0)}},$t=-1,qs=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},bi=function(t){document.visibilityState==="hidden"&&$t>-1&&($t=t.type==="visibilitychange"?t.timeStamp:0,fl())},Vs=function(){addEventListener("visibilitychange",bi,!0),addEventListener("prerenderingchange",bi,!0)},fl=function(){removeEventListener("visibilitychange",bi,!0),removeEventListener("prerenderingchange",bi,!0)},Qs=function(){return $t<0&&($t=qs(),Vs(),on(function(){setTimeout(function(){$t=qs(),Vs()},0)})),{get firstHiddenTime(){return $t}}},Zs=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},Us=[1800,3e3],er=function(t,e){e=e||{},Zs(function(){var i,n=Qs(),s=wi("FCP"),r=Ws("paint",function(o){o.forEach(function(a){a.name==="first-contentful-paint"&&(r.disconnect(),a.startTime<n.firstHiddenTime&&(s.value=Math.max(a.startTime-an(),0),s.entries.push(a),i(!0)))})});r&&(i=yi(t,s,Us,e.reportAllChanges),on(function(o){s=wi("FCP"),i=yi(t,s,Us,e.reportAllChanges),Js(function(){s.value=performance.now()-o.timeStamp,i(!0)})}))})};var cf=1/0;var pl=function(t){var e=self.requestIdleCallback||self.setTimeout,i=-1;return t=Ys(t),document.visibilityState==="hidden"?t():(i=e(t),Xs(t)),i};var Ks=[2500,4e3],rn={},tr=function(t,e){e=e||{},Zs(function(){var i,n=Qs(),s=wi("LCP"),r=function(l){e.reportAllChanges||(l=l.slice(-1)),l.forEach(function(d){d.startTime<n.firstHiddenTime&&(s.value=Math.max(d.startTime-an(),0),s.entries=[d],i())})},o=Ws("largest-contentful-paint",r);if(o){i=yi(t,s,Ks,e.reportAllChanges);var a=Ys(function(){rn[s.id]||(r(o.takeRecords()),o.disconnect(),rn[s.id]=!0,i(!0))});["keydown","click"].forEach(function(l){addEventListener(l,function(){return pl(a)},!0)}),Xs(a),on(function(l){s=wi("LCP"),i=yi(t,s,Ks,e.reportAllChanges),Js(function(){s.value=performance.now()-l.timeStamp,rn[s.id]=!0,i(!0)})})}})};var yg=vi({"../../services/adlightning.js":()=>ln(),"../../services/advertorials.js":()=>Tn(),"../../services/aniview.js":()=>Pi(),"../../services/blockthrough.js":()=>Pn(),"../../services/cmp.js":()=>ki(),"../../services/fizz.js":()=>Rn(),"../../services/fou_analytics.js":()=>Dn(),"../../services/geolocation.js":()=>Oi(),"../../services/gpt.js":()=>Ni(),"../../services/header_bidding.js":()=>zi(),"../../services/iab_compliance.js":()=>Mi(),"../../services/in_image.js":()=>Gn(),"../../services/injected_tags.js":()=>ji(),"../../services/lazyload.js":()=>$n(),"../../services/mobile_inread_sticky.js":()=>Wn(),"../../services/mwi.js":()=>Jn(),"../../services/ocm_chrome_ext.js":()=>Xn(),"../../services/ocm_interstitial.js":()=>Yn(),"../../services/outbrain.js":()=>Qn(),"../../services/reaper.js":()=>ns(),"../../services/rewarded_ad.js":()=>ss(),"../../services/sticky.js":()=>rs(),"../../services/story_teller_v2.js":()=>ms(),"../../services/teads_analytics.js":()=>vs(),"../../services/teads_preview.js":()=>Hi(),"../../services/user_engagement.js":()=>Li()});var bg=vi({"../../services/adlightning.js":()=>ln(),"../../services/advertorials.js":()=>Tn(),"../../services/aniview.js":()=>Pi(),"../../services/blockthrough.js":()=>Pn(),"../../services/cmp.js":()=>ki(),"../../services/fizz.js":()=>Rn(),"../../services/fou_analytics.js":()=>Dn(),"../../services/geolocation.js":()=>Oi(),"../../services/gpt.js":()=>Ni(),"../../services/header_bidding.js":()=>zi(),"../../services/iab_compliance.js":()=>Mi(),"../../services/in_image.js":()=>Gn(),"../../services/injected_tags.js":()=>ji(),"../../services/lazyload.js":()=>$n(),"../../services/mobile_inread_sticky.js":()=>Wn(),"../../services/mwi.js":()=>Jn(),"../../services/ocm_chrome_ext.js":()=>Xn(),"../../services/ocm_interstitial.js":()=>Yn(),"../../services/outbrain.js":()=>Qn(),"../../services/reaper.js":()=>ns(),"../../services/rewarded_ad.js":()=>ss(),"../../services/sticky.js":()=>rs(),"../../services/story_teller_v2.js":()=>ms(),"../../services/teads_analytics.js":()=>vs(),"../../services/teads_preview.js":()=>Hi(),"../../services/user_engagement.js":()=>Li()});var mi="";String.prototype.ocmStartsWith||Object.defineProperty(String.prototype,"ocmStartsWith",{value:function(t,e){let i=e>0?e|0:0;return this.substring(i,i+t.length)===t}});Array.prototype.ocmContainsArray||Object.defineProperty(Array.prototype,"ocmContainsArray",{enumerable:!1,value:function(t){let e={};for(let i=0;i<this.length;i++)e[this[i]]=i;return e.hasOwnProperty(t)}});(!Promise.allSettled||typeof Promise.allSettled!="function")&&(Promise.allSettled=function(t){let e=t.map(i=>i.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})));return Promise.all(e)});String.prototype.hashCode||(String.prototype.hashCode=function(){let t=0,e,i;if(this.length===0)return t;for(e=0;e<this.length;e++)i=this.charCodeAt(e),t=(t<<5)-t+i,t|=0;return t});var js=ya(),tf=nl(),nf=rl(),sf=ki(),rf=Ni(),of=Mi(),af=Oi(),lf=Hi(),Ms=class{constructor(e){if(this.utils=e,this.blockThese=[],this.contentfulPaintEnded=!1,this.isDevModeOn=!1,this.isDevModeOn=this.shouldLoadDevScript(),this.isDevModeOn)return;this.utils.getParameterByName("gordon")==="freeman"&&(this.utils.config.debug=!0),this.priorityGroups=nf()}shouldLoadDevScript(){if(this.utils.getParameterByName("ocm_dev")==="1"&&this.utils.config.env==="prod"){let e=document.createElement("script");return e.src=`//cdn.orangeclickmedia.com/tech/dev/${this.utils.config.script_tag}/ocm.js?rand=${Math.round(Math.random()*1e9)}`,e.crossOrigin="anonymous",this.utils.doc_head.append(e),this.utils.log.info(mi,"Running script in dev mode..."),!0}return!1}setupOutbrainExternalId(){this.utils.window.OB_extId=this.utils.hostname||""}async run(){performance.mark("ocm_start"),this.setupOutbrainExternalId(),this.gptInit(),this.utils.config.services.gpt.active&&(await new rf(this.utils,this.utils.config).run(),performance.mark("gpt_end"),performance.measure("ocm_gpt","gpt_start","gpt_end")),await this.isAdBlocked(),this.utils.config.services.cmp.active&&(await new sf(this.utils,this.utils.config).run(),performance.mark("cmp_end"),performance.measure("ocm_cmp","cmp_start","cmp_end")),await new of(this.utils,this.utils.config).run(),performance.mark("iab_compliance_end"),performance.measure("ocm_iab_compliance","iab_compliance_start","iab_compliance_end"),new af(this.utils,this.utils.config).run().catch(r=>{this.utils.log.error(r.name,r.message,"Error running service")}),performance.mark("geolocation_end"),performance.measure("ocm_geolocation","geolocation_start","geolocation_end");let n=Object.keys(this.utils.config.services||{}),s=0;try{for(let r of this.priorityGroups){let o=[],a=[];for(let l of r)if(n.includes(l.name)&&this.utils.config?.services[l.name]?.active||["page_sense","custom_code"].includes(l.name)){let d=!0;if(l.depends_on.length&&l.depends_on.forEach(p=>{d&&!this.utils.window.OCM.s.hasOwnProperty(p)&&(d=!1)}),["mobile_inread_sticky","page_sense","custom_code"].includes(l.name)||(this.utils.config.services[`${l.name}`].hasOwnProperty("page_types")&&!this.utils.allowedPageType(this.utils.config.services[`${l.name}`].page_types)?(d=!1,this.utils.config.services[l.name].active=!1):l.name==="aniview"?this.utils.is_mobile&&this.utils.config.services?.aniview?.mobile?.rules&&!this.utils.allowedPageType(this.utils.config.services?.aniview?.mobile?.rules?.page_types||[])?(d=!1,this.utils.config.services.aniview.active=!1):this.utils.config.services?.aniview?.desktop&&this.utils.config.services?.aniview?.desktop?.rules?.page_types&&!this.utils.allowedPageType(this.utils.config.services?.aniview?.desktop?.rules?.page_types||[])&&(d=!1,this.utils.config.services.aniview.active=!1):this.utils.is_mobile&&this.utils.config.services[`${l.name}`]?.mobile?.conditions?.page_types&&!this.utils.allowedPageType(this.utils.config.services[`${l.name}`]?.mobile?.conditions?.page_types||[])?(d=!1,this.utils.config.services[`${l.name}`].active=!1):this.utils.config.services[`${l.name}`]?.desktop?.conditions?.page_types&&!this.utils.allowedPageType(this.utils.config.services[`${l.name}`]?.desktop?.conditions?.page_types||[])&&(d=!1,this.utils.config.services[`${l.name}`].active=!1)),d)if(l.blocks.length&&this.blockThese.concat(l.blocks),["page_sense","custom_code"].includes(l.name)){let p=l.name==="page_sense"?al():ul();l.name==="page_sense"?(performance.mark("page_sense_start"),this.pageSensePromiseIndex=o.length):l.name==="custom_code"&&(performance.mark("custom_code_start"),this.customCodePromiseIndex=o.length),o.push(()=>p(this.utils))}else{let p=yg(`../../services/${l.name}.js`),m=new p(this.utils,this.utils.config);o.push(()=>m.run())}}o.length&&await Promise.allSettled(o.map((l,d)=>l().then(p=>{d===this.pageSensePromiseIndex?(this.utils.window.OCM.pageType=p,this.pageSensePromiseIndex=-1,this.utils.updateState("page_sense",!0),performance.mark("page_sense_end"),performance.measure("ocm_page_sense","page_sense_start","page_sense_end")):d===this.customCodePromiseIndex?(this.customCodePromiseIndex=-1,this.utils.updateState("custom_code",!0),performance.mark("custom_code_end"),performance.measure("ocm_custom_code","custom_code_start","custom_code_end")):(this.utils.updateState(p.name,!0),this.utils.log.info(p.name,"Service ran successfully with result",p),performance.mark(`${p.name}_end`),performance.measure(`ocm_${p.name}`,`${p.name}_start`,`${p.name}_end`))}).catch(p=>{this.utils.log.error(p.name,p.message,"Error running service")}))).then(()=>{this.utils.log.info("index",`Completed all services in group ${s++}`)}).catch(l=>{this.utils.log.error("index",l,"Error running services in group")})}this.discoverAllOutbrainWidgets()}catch(r){this.utils.log.error("index",r,"Could not loop through priority groups")}this.runTeadsDemo()}heyYou(e,i){this.utils.config.services[e].active=!0,this.utils.config.services[e]=Object.assign(this.utils.config.services[e],i);let n=bg(`../../services/${e}`);new n().run()}gptInit(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.top.googletag=window.top.googletag||{},window.top.googletag.cmd=window.top.googletag.cmd||[],this.utils.window.googletag.cmd.push(()=>{this.utils.window.googletag.pubads().setTargeting("ocm_domain",[this.utils.hostname])}),this.utils.updateState("gptInit",!0)}isAdBlocked(){return new Promise(async(e,i)=>{this.utils.isAdBlocked().then(n=>(this.utils.window.OCM.adBlocked=n,this.utils.updateState("is_ad_blocked",!0),e()))})}discoverAllOutbrainWidgets(){"OBR"in this.utils.window&&this.utils.window.OBR.extern.researchWidget()}runTeadsDemo(){if(!this.utils.getParameterByName("vast_url")&&this.utils.getParameterByName("vast_url")===""||this.utils.window?.OCM?.s?.teads_preview)return;let e=new lf(this.utils,this.utils.config);setTimeout(()=>{e.run().then(()=>this.utils.updateState("teads_preview",!0)).catch(i=>{this.utils.log.error(i.name,i.message,"Error running service")})},1e3)}},Fe=new tf(js);Fe.measurePerformance();Fe.window.OCM=Fe.window.OCM||{};Fe.window.OCM.s=Fe.window.OCM.s||{};Fe.window.OCM.infi_article_count=1;Fe.window.OCM._oeid=Fe._oeid;Fe.window.OCM.device=Fe.is_mobile?"mobile":"desktop";Fe.window.OCM.site_categories=js?.site_categories||[];Fe.window.OCM.applyOBRStyles=()=>{Fe.loadStyle(".ob-grid-layout.ob-read-next-layout .ob-dynamic-rec-container, .ob-grid-layout.ob-read-next-layout .ob-widget-items-container{height:90px !important;}.READNXTM_1.ob-widget .ob_what{height:20px !important;.READNXTM_1.ob-read-next-layout .ob-sub-units{margin-top:10px}}")};Fe.window.OCM.paramedic=t=>{try{window.localStorage.getItem(t)||(document.cookie="euconsent-v2=; Domain=."+window.top.document.location.hostname+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="addtl_consent=; Domain=."+window.top.document.location.hostname+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="gpp=; Domain=."+window.top.document.location.hostname+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="gpp_sid=; Domain=."+window.top.document.location.hostname+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="usprivacy=; Domain=."+window.top.document.location.hostname+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="IABGPP_HDR_GppString=; Domain=."+window.top.document.location.hostname+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="_pbjs_userid_consent_data=; Domain=."+window.top.document.location.hostname+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",window.localStorage.removeItem("sas_euconsent_v2"),window.localStorage.removeItem("sas_addtl_euconsent_v2"),window.localStorage.removeItem("CMPList"),window.localStorage.removeItem("sas_gpp"),window.localStorage.removeItem("sas_gpp_sid"),window.localStorage.removeItem("sas_usprivacy"),window.localStorage.removeItem("gbc_consent"),window.localStorage.removeItem("_acceptanceState"),window.localStorage.removeItem("_cmpRepromptHash"),window.localStorage.removeItem("_cmpShown"),window.localStorage.removeItem("_config"),window.localStorage.setItem(t,"1"))}catch(e){Fe.log.error(mi,e,`Could not purge CMP cookies for localStorage key ${t}`)}};Fe.window.OCM.outbrainInjectedBanners=(t,e,i,n)=>{t.window.googletag.cmd.push(()=>{t.window.googletag.pubads().addEventListener("slotRenderEnded",s=>{try{if(s.isEmpty&&n.includes(s.slot.getAdUnitPath())){let r=t.window.document.getElementById(s.slot.getSlotElementId()),o=t.is_mobile?i:e,a=`<div class="OUTBRAIN" data-ob-contentUrl="${window.location.href}" data-widget-id="${o}" style="margin:0 auto 60px" data-ob-installation-key="CYOCM2IDF6569I0FK92EEOL10"></div>`,l=document.createElement("script");l.async="async",l.src="https://widgets.outbrain.com/outbrain.js";let d=r.querySelectorAll("script, div, iframe, ins");d&&d.forEach(p=>p.remove()),r.append(l),r.insertAdjacentHTML("beforeend",a),"OBR"in t.window&&t.window.OBR.extern.researchWidget()}}catch(r){t.log.error(mi,r,"Something went wrong in outbrainInjectedBanners")}})})};var tn=!1,df=()=>new Promise((t,e)=>{if(performance.mark("wait_for_contentful_paint_start"),!Fe.is_mobile||window.self!==window.top||js?.waitForContentfulPaint===!1&&!Fe.isGoogle())return t(!0);er(i=>(tn||(Fe.log.info(mi,"FCP detected",i),tn=!0),t(!0))),tr(i=>(tn||(Fe.log.info(mi,"LCP detected",i),tn=!0),t(!0)))});df().then(()=>{performance.mark("wait_for_contentful_paint_end"),performance.measure("ocm_wait_for_contentful_paint","wait_for_contentful_paint_start","wait_for_contentful_paint_end");let t=new Ms(Fe);t.isDevModeOn||!Fe.is_bot&&!Fe.url.startsWith("file:///")&&t.run()});})();
